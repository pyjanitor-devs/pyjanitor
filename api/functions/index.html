
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python implementation of the R package janitor">
      
      
      
        <link rel="canonical" href="https://pyjanitor-devs.github.io/pyjanitor/api/functions/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../biology/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.41">
    
    
      
        <title>Functions - pyjanitor documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/apidocs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="pyjanitor documentation" class="md-header__button md-logo" aria-label="pyjanitor documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyjanitor documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Functions
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="light-blue"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pyjanitor-devs/pyjanitor" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    pyjanitor-devs/pyjanitor
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="pyjanitor documentation" class="md-nav__button md-logo" aria-label="pyjanitor documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>

    </a>
    pyjanitor documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pyjanitor-devs/pyjanitor" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    pyjanitor-devs/pyjanitor
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Functions
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#janitor.functions--general-functions" class="md-nav__link">
    <span class="md-ellipsis">
      General Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.add_columns" class="md-nav__link">
    <span class="md-ellipsis">
      add_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="add_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.add_columns.add_column" class="md-nav__link">
    <span class="md-ellipsis">
      add_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.add_columns.add_columns" class="md-nav__link">
    <span class="md-ellipsis">
      add_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.also" class="md-nav__link">
    <span class="md-ellipsis">
      also
    </span>
  </a>
  
    <nav class="md-nav" aria-label="also">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.also.also" class="md-nav__link">
    <span class="md-ellipsis">
      also
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.bin_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      bin_numeric
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bin_numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.bin_numeric.bin_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      bin_numeric
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.case_when" class="md-nav__link">
    <span class="md-ellipsis">
      case_when
    </span>
  </a>
  
    <nav class="md-nav" aria-label="case_when">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.case_when.case_when" class="md-nav__link">
    <span class="md-ellipsis">
      case_when
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.change_type" class="md-nav__link">
    <span class="md-ellipsis">
      change_type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="change_type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.change_type.change_type" class="md-nav__link">
    <span class="md-ellipsis">
      change_type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.clean_names" class="md-nav__link">
    <span class="md-ellipsis">
      clean_names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="clean_names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.clean_names.clean_names" class="md-nav__link">
    <span class="md-ellipsis">
      clean_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.coalesce" class="md-nav__link">
    <span class="md-ellipsis">
      coalesce
    </span>
  </a>
  
    <nav class="md-nav" aria-label="coalesce">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.coalesce.coalesce" class="md-nav__link">
    <span class="md-ellipsis">
      coalesce
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.collapse_levels" class="md-nav__link">
    <span class="md-ellipsis">
      collapse_levels
    </span>
  </a>
  
    <nav class="md-nav" aria-label="collapse_levels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.collapse_levels.collapse_levels" class="md-nav__link">
    <span class="md-ellipsis">
      collapse_levels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.complete" class="md-nav__link">
    <span class="md-ellipsis">
      complete
    </span>
  </a>
  
    <nav class="md-nav" aria-label="complete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.complete.complete" class="md-nav__link">
    <span class="md-ellipsis">
      complete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.concatenate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      concatenate_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="concatenate_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.concatenate_columns.concatenate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      concatenate_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.conditional_join" class="md-nav__link">
    <span class="md-ellipsis">
      conditional_join
    </span>
  </a>
  
    <nav class="md-nav" aria-label="conditional_join">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.conditional_join.conditional_join" class="md-nav__link">
    <span class="md-ellipsis">
      conditional_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.conditional_join.get_join_indices" class="md-nav__link">
    <span class="md-ellipsis">
      get_join_indices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.convert_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_date
    </span>
  </a>
  
    <nav class="md-nav" aria-label="convert_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.convert_date.convert_excel_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_excel_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.convert_date.convert_matlab_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_matlab_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.convert_date.convert_unix_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_unix_date
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.count_cumulative_unique" class="md-nav__link">
    <span class="md-ellipsis">
      count_cumulative_unique
    </span>
  </a>
  
    <nav class="md-nav" aria-label="count_cumulative_unique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.count_cumulative_unique.count_cumulative_unique" class="md-nav__link">
    <span class="md-ellipsis">
      count_cumulative_unique
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.currency_column_to_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      currency_column_to_numeric
    </span>
  </a>
  
    <nav class="md-nav" aria-label="currency_column_to_numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.currency_column_to_numeric.currency_column_to_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      currency_column_to_numeric
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.deconcatenate_column" class="md-nav__link">
    <span class="md-ellipsis">
      deconcatenate_column
    </span>
  </a>
  
    <nav class="md-nav" aria-label="deconcatenate_column">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.deconcatenate_column.deconcatenate_column" class="md-nav__link">
    <span class="md-ellipsis">
      deconcatenate_column
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.drop_constant_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_constant_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="drop_constant_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.drop_constant_columns.drop_constant_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_constant_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.drop_duplicate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_duplicate_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="drop_duplicate_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.drop_duplicate_columns.drop_duplicate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_duplicate_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.dropnotnull" class="md-nav__link">
    <span class="md-ellipsis">
      dropnotnull
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dropnotnull">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.dropnotnull.dropnotnull" class="md-nav__link">
    <span class="md-ellipsis">
      dropnotnull
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.encode_categorical" class="md-nav__link">
    <span class="md-ellipsis">
      encode_categorical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="encode_categorical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.encode_categorical.encode_categorical" class="md-nav__link">
    <span class="md-ellipsis">
      encode_categorical
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.expand_column" class="md-nav__link">
    <span class="md-ellipsis">
      expand_column
    </span>
  </a>
  
    <nav class="md-nav" aria-label="expand_column">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_column.expand_column" class="md-nav__link">
    <span class="md-ellipsis">
      expand_column
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid" class="md-nav__link">
    <span class="md-ellipsis">
      expand_grid
    </span>
  </a>
  
    <nav class="md-nav" aria-label="expand_grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid.cartesian_product" class="md-nav__link">
    <span class="md-ellipsis">
      cartesian_product
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid.expand" class="md-nav__link">
    <span class="md-ellipsis">
      expand
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid.expand_grid" class="md-nav__link">
    <span class="md-ellipsis">
      expand_grid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.explode_index" class="md-nav__link">
    <span class="md-ellipsis">
      explode_index
    </span>
  </a>
  
    <nav class="md-nav" aria-label="explode_index">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.explode_index.explode_index" class="md-nav__link">
    <span class="md-ellipsis">
      explode_index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.factorize_columns" class="md-nav__link">
    <span class="md-ellipsis">
      factorize_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="factorize_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.factorize_columns.factorize_columns" class="md-nav__link">
    <span class="md-ellipsis">
      factorize_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.fill" class="md-nav__link">
    <span class="md-ellipsis">
      fill
    </span>
  </a>
  
    <nav class="md-nav" aria-label="fill">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.fill.fill_direction" class="md-nav__link">
    <span class="md-ellipsis">
      fill_direction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.fill.fill_empty" class="md-nav__link">
    <span class="md-ellipsis">
      fill_empty
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.filter" class="md-nav__link">
    <span class="md-ellipsis">
      filter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_column_isin" class="md-nav__link">
    <span class="md-ellipsis">
      filter_column_isin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_date" class="md-nav__link">
    <span class="md-ellipsis">
      filter_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_on" class="md-nav__link">
    <span class="md-ellipsis">
      filter_on
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_string" class="md-nav__link">
    <span class="md-ellipsis">
      filter_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.find_replace" class="md-nav__link">
    <span class="md-ellipsis">
      find_replace
    </span>
  </a>
  
    <nav class="md-nav" aria-label="find_replace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.find_replace.find_replace" class="md-nav__link">
    <span class="md-ellipsis">
      find_replace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.flag_nulls" class="md-nav__link">
    <span class="md-ellipsis">
      flag_nulls
    </span>
  </a>
  
    <nav class="md-nav" aria-label="flag_nulls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.flag_nulls.flag_nulls" class="md-nav__link">
    <span class="md-ellipsis">
      flag_nulls
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.get_dupes" class="md-nav__link">
    <span class="md-ellipsis">
      get_dupes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_dupes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.get_dupes.get_dupes" class="md-nav__link">
    <span class="md-ellipsis">
      get_dupes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.groupby_agg" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_agg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="groupby_agg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.groupby_agg.groupby_agg" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_agg
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.groupby_topk" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_topk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="groupby_topk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.groupby_topk.groupby_topk" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_topk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.impute" class="md-nav__link">
    <span class="md-ellipsis">
      impute
    </span>
  </a>
  
    <nav class="md-nav" aria-label="impute">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.impute.impute" class="md-nav__link">
    <span class="md-ellipsis">
      impute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.jitter" class="md-nav__link">
    <span class="md-ellipsis">
      jitter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="jitter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.jitter.jitter" class="md-nav__link">
    <span class="md-ellipsis">
      jitter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.join_apply" class="md-nav__link">
    <span class="md-ellipsis">
      join_apply
    </span>
  </a>
  
    <nav class="md-nav" aria-label="join_apply">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.join_apply.join_apply" class="md-nav__link">
    <span class="md-ellipsis">
      join_apply
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.label_encode" class="md-nav__link">
    <span class="md-ellipsis">
      label_encode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="label_encode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.label_encode.label_encode" class="md-nav__link">
    <span class="md-ellipsis">
      label_encode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.limit_column_characters" class="md-nav__link">
    <span class="md-ellipsis">
      limit_column_characters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="limit_column_characters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.limit_column_characters.limit_column_characters" class="md-nav__link">
    <span class="md-ellipsis">
      limit_column_characters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.min_max_scale" class="md-nav__link">
    <span class="md-ellipsis">
      min_max_scale
    </span>
  </a>
  
    <nav class="md-nav" aria-label="min_max_scale">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.min_max_scale.min_max_scale" class="md-nav__link">
    <span class="md-ellipsis">
      min_max_scale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
    <nav class="md-nav" aria-label="move">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.move.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.pivot" class="md-nav__link">
    <span class="md-ellipsis">
      pivot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pivot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.pivot.pivot_longer" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_longer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.pivot.pivot_longer_spec" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_longer_spec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.pivot.pivot_wider" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_wider
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.process_text" class="md-nav__link">
    <span class="md-ellipsis">
      process_text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.process_text.process_text" class="md-nav__link">
    <span class="md-ellipsis">
      process_text
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.remove_columns" class="md-nav__link">
    <span class="md-ellipsis">
      remove_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="remove_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.remove_columns.remove_columns" class="md-nav__link">
    <span class="md-ellipsis">
      remove_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.remove_empty" class="md-nav__link">
    <span class="md-ellipsis">
      remove_empty
    </span>
  </a>
  
    <nav class="md-nav" aria-label="remove_empty">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.remove_empty.remove_empty" class="md-nav__link">
    <span class="md-ellipsis">
      remove_empty
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.rename_columns" class="md-nav__link">
    <span class="md-ellipsis">
      rename_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rename_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.rename_columns.rename_column" class="md-nav__link">
    <span class="md-ellipsis">
      rename_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.rename_columns.rename_columns" class="md-nav__link">
    <span class="md-ellipsis">
      rename_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.reorder_columns" class="md-nav__link">
    <span class="md-ellipsis">
      reorder_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="reorder_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.reorder_columns.reorder_columns" class="md-nav__link">
    <span class="md-ellipsis">
      reorder_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.round_to_fraction" class="md-nav__link">
    <span class="md-ellipsis">
      round_to_fraction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="round_to_fraction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.round_to_fraction.round_to_fraction" class="md-nav__link">
    <span class="md-ellipsis">
      round_to_fraction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.row_to_names" class="md-nav__link">
    <span class="md-ellipsis">
      row_to_names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="row_to_names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.row_to_names.row_to_names" class="md-nav__link">
    <span class="md-ellipsis">
      row_to_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.select" class="md-nav__link">
    <span class="md-ellipsis">
      select
    </span>
  </a>
  
    <nav class="md-nav" aria-label="select">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.DropLabel" class="md-nav__link">
    <span class="md-ellipsis">
      DropLabel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.get_columns" class="md-nav__link">
    <span class="md-ellipsis">
      get_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.get_index_labels" class="md-nav__link">
    <span class="md-ellipsis">
      get_index_labels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.select" class="md-nav__link">
    <span class="md-ellipsis">
      select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.select_columns" class="md-nav__link">
    <span class="md-ellipsis">
      select_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.select_rows" class="md-nav__link">
    <span class="md-ellipsis">
      select_rows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.shuffle" class="md-nav__link">
    <span class="md-ellipsis">
      shuffle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="shuffle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.shuffle.shuffle" class="md-nav__link">
    <span class="md-ellipsis">
      shuffle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.sort_column_value_order" class="md-nav__link">
    <span class="md-ellipsis">
      sort_column_value_order
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sort_column_value_order">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.sort_column_value_order.sort_column_value_order" class="md-nav__link">
    <span class="md-ellipsis">
      sort_column_value_order
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.sort_naturally" class="md-nav__link">
    <span class="md-ellipsis">
      sort_naturally
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sort_naturally">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.sort_naturally.sort_naturally" class="md-nav__link">
    <span class="md-ellipsis">
      sort_naturally
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.take_first" class="md-nav__link">
    <span class="md-ellipsis">
      take_first
    </span>
  </a>
  
    <nav class="md-nav" aria-label="take_first">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.take_first.take_first" class="md-nav__link">
    <span class="md-ellipsis">
      take_first
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.then" class="md-nav__link">
    <span class="md-ellipsis">
      then
    </span>
  </a>
  
    <nav class="md-nav" aria-label="then">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.then.then" class="md-nav__link">
    <span class="md-ellipsis">
      then
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.to_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      to_datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="to_datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.to_datetime.to_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      to_datetime
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.toset" class="md-nav__link">
    <span class="md-ellipsis">
      toset
    </span>
  </a>
  
    <nav class="md-nav" aria-label="toset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.toset.toset" class="md-nav__link">
    <span class="md-ellipsis">
      toset
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.transform_columns" class="md-nav__link">
    <span class="md-ellipsis">
      transform_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="transform_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.transform_columns.transform_column" class="md-nav__link">
    <span class="md-ellipsis">
      transform_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.transform_columns.transform_columns" class="md-nav__link">
    <span class="md-ellipsis">
      transform_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.truncate_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      truncate_datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="truncate_datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.truncate_datetime.truncate_datetime_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      truncate_datetime_dataframe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.update_where" class="md-nav__link">
    <span class="md-ellipsis">
      update_where
    </span>
  </a>
  
    <nav class="md-nav" aria-label="update_where">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.update_where.update_where" class="md-nav__link">
    <span class="md-ellipsis">
      update_where
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.utils.patterns" class="md-nav__link">
    <span class="md-ellipsis">
      patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.utils.unionize_dataframe_categories" class="md-nav__link">
    <span class="md-ellipsis">
      unionize_dataframe_categories
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../biology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Biology
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chemistry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chemistry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../engineering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engineering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../finance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Input/Output (io)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../polars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polars
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timeseries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timeseries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xarray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XArray
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devguide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AUTHORS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authors
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#janitor.functions--general-functions" class="md-nav__link">
    <span class="md-ellipsis">
      General Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.add_columns" class="md-nav__link">
    <span class="md-ellipsis">
      add_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="add_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.add_columns.add_column" class="md-nav__link">
    <span class="md-ellipsis">
      add_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.add_columns.add_columns" class="md-nav__link">
    <span class="md-ellipsis">
      add_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.also" class="md-nav__link">
    <span class="md-ellipsis">
      also
    </span>
  </a>
  
    <nav class="md-nav" aria-label="also">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.also.also" class="md-nav__link">
    <span class="md-ellipsis">
      also
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.bin_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      bin_numeric
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bin_numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.bin_numeric.bin_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      bin_numeric
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.case_when" class="md-nav__link">
    <span class="md-ellipsis">
      case_when
    </span>
  </a>
  
    <nav class="md-nav" aria-label="case_when">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.case_when.case_when" class="md-nav__link">
    <span class="md-ellipsis">
      case_when
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.change_type" class="md-nav__link">
    <span class="md-ellipsis">
      change_type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="change_type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.change_type.change_type" class="md-nav__link">
    <span class="md-ellipsis">
      change_type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.clean_names" class="md-nav__link">
    <span class="md-ellipsis">
      clean_names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="clean_names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.clean_names.clean_names" class="md-nav__link">
    <span class="md-ellipsis">
      clean_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.coalesce" class="md-nav__link">
    <span class="md-ellipsis">
      coalesce
    </span>
  </a>
  
    <nav class="md-nav" aria-label="coalesce">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.coalesce.coalesce" class="md-nav__link">
    <span class="md-ellipsis">
      coalesce
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.collapse_levels" class="md-nav__link">
    <span class="md-ellipsis">
      collapse_levels
    </span>
  </a>
  
    <nav class="md-nav" aria-label="collapse_levels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.collapse_levels.collapse_levels" class="md-nav__link">
    <span class="md-ellipsis">
      collapse_levels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.complete" class="md-nav__link">
    <span class="md-ellipsis">
      complete
    </span>
  </a>
  
    <nav class="md-nav" aria-label="complete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.complete.complete" class="md-nav__link">
    <span class="md-ellipsis">
      complete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.concatenate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      concatenate_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="concatenate_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.concatenate_columns.concatenate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      concatenate_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.conditional_join" class="md-nav__link">
    <span class="md-ellipsis">
      conditional_join
    </span>
  </a>
  
    <nav class="md-nav" aria-label="conditional_join">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.conditional_join.conditional_join" class="md-nav__link">
    <span class="md-ellipsis">
      conditional_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.conditional_join.get_join_indices" class="md-nav__link">
    <span class="md-ellipsis">
      get_join_indices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.convert_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_date
    </span>
  </a>
  
    <nav class="md-nav" aria-label="convert_date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.convert_date.convert_excel_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_excel_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.convert_date.convert_matlab_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_matlab_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.convert_date.convert_unix_date" class="md-nav__link">
    <span class="md-ellipsis">
      convert_unix_date
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.count_cumulative_unique" class="md-nav__link">
    <span class="md-ellipsis">
      count_cumulative_unique
    </span>
  </a>
  
    <nav class="md-nav" aria-label="count_cumulative_unique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.count_cumulative_unique.count_cumulative_unique" class="md-nav__link">
    <span class="md-ellipsis">
      count_cumulative_unique
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.currency_column_to_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      currency_column_to_numeric
    </span>
  </a>
  
    <nav class="md-nav" aria-label="currency_column_to_numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.currency_column_to_numeric.currency_column_to_numeric" class="md-nav__link">
    <span class="md-ellipsis">
      currency_column_to_numeric
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.deconcatenate_column" class="md-nav__link">
    <span class="md-ellipsis">
      deconcatenate_column
    </span>
  </a>
  
    <nav class="md-nav" aria-label="deconcatenate_column">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.deconcatenate_column.deconcatenate_column" class="md-nav__link">
    <span class="md-ellipsis">
      deconcatenate_column
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.drop_constant_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_constant_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="drop_constant_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.drop_constant_columns.drop_constant_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_constant_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.drop_duplicate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_duplicate_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="drop_duplicate_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.drop_duplicate_columns.drop_duplicate_columns" class="md-nav__link">
    <span class="md-ellipsis">
      drop_duplicate_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.dropnotnull" class="md-nav__link">
    <span class="md-ellipsis">
      dropnotnull
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dropnotnull">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.dropnotnull.dropnotnull" class="md-nav__link">
    <span class="md-ellipsis">
      dropnotnull
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.encode_categorical" class="md-nav__link">
    <span class="md-ellipsis">
      encode_categorical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="encode_categorical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.encode_categorical.encode_categorical" class="md-nav__link">
    <span class="md-ellipsis">
      encode_categorical
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.expand_column" class="md-nav__link">
    <span class="md-ellipsis">
      expand_column
    </span>
  </a>
  
    <nav class="md-nav" aria-label="expand_column">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_column.expand_column" class="md-nav__link">
    <span class="md-ellipsis">
      expand_column
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid" class="md-nav__link">
    <span class="md-ellipsis">
      expand_grid
    </span>
  </a>
  
    <nav class="md-nav" aria-label="expand_grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid.cartesian_product" class="md-nav__link">
    <span class="md-ellipsis">
      cartesian_product
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid.expand" class="md-nav__link">
    <span class="md-ellipsis">
      expand
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.expand_grid.expand_grid" class="md-nav__link">
    <span class="md-ellipsis">
      expand_grid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.explode_index" class="md-nav__link">
    <span class="md-ellipsis">
      explode_index
    </span>
  </a>
  
    <nav class="md-nav" aria-label="explode_index">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.explode_index.explode_index" class="md-nav__link">
    <span class="md-ellipsis">
      explode_index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.factorize_columns" class="md-nav__link">
    <span class="md-ellipsis">
      factorize_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="factorize_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.factorize_columns.factorize_columns" class="md-nav__link">
    <span class="md-ellipsis">
      factorize_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.fill" class="md-nav__link">
    <span class="md-ellipsis">
      fill
    </span>
  </a>
  
    <nav class="md-nav" aria-label="fill">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.fill.fill_direction" class="md-nav__link">
    <span class="md-ellipsis">
      fill_direction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.fill.fill_empty" class="md-nav__link">
    <span class="md-ellipsis">
      fill_empty
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.filter" class="md-nav__link">
    <span class="md-ellipsis">
      filter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_column_isin" class="md-nav__link">
    <span class="md-ellipsis">
      filter_column_isin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_date" class="md-nav__link">
    <span class="md-ellipsis">
      filter_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_on" class="md-nav__link">
    <span class="md-ellipsis">
      filter_on
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.filter.filter_string" class="md-nav__link">
    <span class="md-ellipsis">
      filter_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.find_replace" class="md-nav__link">
    <span class="md-ellipsis">
      find_replace
    </span>
  </a>
  
    <nav class="md-nav" aria-label="find_replace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.find_replace.find_replace" class="md-nav__link">
    <span class="md-ellipsis">
      find_replace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.flag_nulls" class="md-nav__link">
    <span class="md-ellipsis">
      flag_nulls
    </span>
  </a>
  
    <nav class="md-nav" aria-label="flag_nulls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.flag_nulls.flag_nulls" class="md-nav__link">
    <span class="md-ellipsis">
      flag_nulls
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.get_dupes" class="md-nav__link">
    <span class="md-ellipsis">
      get_dupes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_dupes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.get_dupes.get_dupes" class="md-nav__link">
    <span class="md-ellipsis">
      get_dupes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.groupby_agg" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_agg
    </span>
  </a>
  
    <nav class="md-nav" aria-label="groupby_agg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.groupby_agg.groupby_agg" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_agg
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.groupby_topk" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_topk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="groupby_topk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.groupby_topk.groupby_topk" class="md-nav__link">
    <span class="md-ellipsis">
      groupby_topk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.impute" class="md-nav__link">
    <span class="md-ellipsis">
      impute
    </span>
  </a>
  
    <nav class="md-nav" aria-label="impute">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.impute.impute" class="md-nav__link">
    <span class="md-ellipsis">
      impute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.jitter" class="md-nav__link">
    <span class="md-ellipsis">
      jitter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="jitter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.jitter.jitter" class="md-nav__link">
    <span class="md-ellipsis">
      jitter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.join_apply" class="md-nav__link">
    <span class="md-ellipsis">
      join_apply
    </span>
  </a>
  
    <nav class="md-nav" aria-label="join_apply">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.join_apply.join_apply" class="md-nav__link">
    <span class="md-ellipsis">
      join_apply
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.label_encode" class="md-nav__link">
    <span class="md-ellipsis">
      label_encode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="label_encode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.label_encode.label_encode" class="md-nav__link">
    <span class="md-ellipsis">
      label_encode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.limit_column_characters" class="md-nav__link">
    <span class="md-ellipsis">
      limit_column_characters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="limit_column_characters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.limit_column_characters.limit_column_characters" class="md-nav__link">
    <span class="md-ellipsis">
      limit_column_characters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.min_max_scale" class="md-nav__link">
    <span class="md-ellipsis">
      min_max_scale
    </span>
  </a>
  
    <nav class="md-nav" aria-label="min_max_scale">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.min_max_scale.min_max_scale" class="md-nav__link">
    <span class="md-ellipsis">
      min_max_scale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
    <nav class="md-nav" aria-label="move">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.move.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.pivot" class="md-nav__link">
    <span class="md-ellipsis">
      pivot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pivot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.pivot.pivot_longer" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_longer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.pivot.pivot_longer_spec" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_longer_spec
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.pivot.pivot_wider" class="md-nav__link">
    <span class="md-ellipsis">
      pivot_wider
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.process_text" class="md-nav__link">
    <span class="md-ellipsis">
      process_text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="process_text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.process_text.process_text" class="md-nav__link">
    <span class="md-ellipsis">
      process_text
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.remove_columns" class="md-nav__link">
    <span class="md-ellipsis">
      remove_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="remove_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.remove_columns.remove_columns" class="md-nav__link">
    <span class="md-ellipsis">
      remove_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.remove_empty" class="md-nav__link">
    <span class="md-ellipsis">
      remove_empty
    </span>
  </a>
  
    <nav class="md-nav" aria-label="remove_empty">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.remove_empty.remove_empty" class="md-nav__link">
    <span class="md-ellipsis">
      remove_empty
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.rename_columns" class="md-nav__link">
    <span class="md-ellipsis">
      rename_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rename_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.rename_columns.rename_column" class="md-nav__link">
    <span class="md-ellipsis">
      rename_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.rename_columns.rename_columns" class="md-nav__link">
    <span class="md-ellipsis">
      rename_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.reorder_columns" class="md-nav__link">
    <span class="md-ellipsis">
      reorder_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="reorder_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.reorder_columns.reorder_columns" class="md-nav__link">
    <span class="md-ellipsis">
      reorder_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.round_to_fraction" class="md-nav__link">
    <span class="md-ellipsis">
      round_to_fraction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="round_to_fraction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.round_to_fraction.round_to_fraction" class="md-nav__link">
    <span class="md-ellipsis">
      round_to_fraction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.row_to_names" class="md-nav__link">
    <span class="md-ellipsis">
      row_to_names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="row_to_names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.row_to_names.row_to_names" class="md-nav__link">
    <span class="md-ellipsis">
      row_to_names
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.select" class="md-nav__link">
    <span class="md-ellipsis">
      select
    </span>
  </a>
  
    <nav class="md-nav" aria-label="select">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.DropLabel" class="md-nav__link">
    <span class="md-ellipsis">
      DropLabel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.get_columns" class="md-nav__link">
    <span class="md-ellipsis">
      get_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.get_index_labels" class="md-nav__link">
    <span class="md-ellipsis">
      get_index_labels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.select" class="md-nav__link">
    <span class="md-ellipsis">
      select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.select_columns" class="md-nav__link">
    <span class="md-ellipsis">
      select_columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.select.select_rows" class="md-nav__link">
    <span class="md-ellipsis">
      select_rows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.shuffle" class="md-nav__link">
    <span class="md-ellipsis">
      shuffle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="shuffle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.shuffle.shuffle" class="md-nav__link">
    <span class="md-ellipsis">
      shuffle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.sort_column_value_order" class="md-nav__link">
    <span class="md-ellipsis">
      sort_column_value_order
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sort_column_value_order">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.sort_column_value_order.sort_column_value_order" class="md-nav__link">
    <span class="md-ellipsis">
      sort_column_value_order
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.sort_naturally" class="md-nav__link">
    <span class="md-ellipsis">
      sort_naturally
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sort_naturally">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.sort_naturally.sort_naturally" class="md-nav__link">
    <span class="md-ellipsis">
      sort_naturally
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.take_first" class="md-nav__link">
    <span class="md-ellipsis">
      take_first
    </span>
  </a>
  
    <nav class="md-nav" aria-label="take_first">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.take_first.take_first" class="md-nav__link">
    <span class="md-ellipsis">
      take_first
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.then" class="md-nav__link">
    <span class="md-ellipsis">
      then
    </span>
  </a>
  
    <nav class="md-nav" aria-label="then">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.then.then" class="md-nav__link">
    <span class="md-ellipsis">
      then
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.to_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      to_datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="to_datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.to_datetime.to_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      to_datetime
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.toset" class="md-nav__link">
    <span class="md-ellipsis">
      toset
    </span>
  </a>
  
    <nav class="md-nav" aria-label="toset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.toset.toset" class="md-nav__link">
    <span class="md-ellipsis">
      toset
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.transform_columns" class="md-nav__link">
    <span class="md-ellipsis">
      transform_columns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="transform_columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.transform_columns.transform_column" class="md-nav__link">
    <span class="md-ellipsis">
      transform_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.transform_columns.transform_columns" class="md-nav__link">
    <span class="md-ellipsis">
      transform_columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.truncate_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      truncate_datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="truncate_datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.truncate_datetime.truncate_datetime_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      truncate_datetime_dataframe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.update_where" class="md-nav__link">
    <span class="md-ellipsis">
      update_where
    </span>
  </a>
  
    <nav class="md-nav" aria-label="update_where">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.update_where.update_where" class="md-nav__link">
    <span class="md-ellipsis">
      update_where
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#janitor.functions.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#janitor.functions.utils.patterns" class="md-nav__link">
    <span class="md-ellipsis">
      patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#janitor.functions.utils.unionize_dataframe_categories" class="md-nav__link">
    <span class="md-ellipsis">
      unionize_dataframe_categories
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="functions">Functions</h1>


<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">

        <h2 id="janitor.functions--general-functions">General Functions</h2>
<p>pyjanitor's general-purpose data cleaning functions.</p>








  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h2 id="janitor.functions.add_columns" class="doc doc-heading">
            <code>add_columns</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.add_columns.add_column" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">fill_remaining</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a column to the dataframe.</p>
<p>Intended to be the method-chaining alternative to:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.assign</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Add a column of constant values to the dataframe.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   a  b  c</span>
<span class="go">0  0  a  1</span>
<span class="go">1  1  b  1</span>
<span class="go">2  2  c  1</span>
</code></pre></div>
    <p>Add a column of different values to the dataframe.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;efg&quot;</span><span class="p">))</span>
<span class="go">   a  b  c</span>
<span class="go">0  0  a  e</span>
<span class="go">1  1  b  f</span>
<span class="go">2  2  c  g</span>
</code></pre></div>
    <p>Add a column using an iterator.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="go">   a  b  c</span>
<span class="go">0  0  a  4</span>
<span class="go">1  1  b  5</span>
<span class="go">2  2  c  6</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the new column. Should be a string, in order
for the column name to be compatible with the Feather binary
format (this is a useful thing to have).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code>Union[List[Any], Tuple[Any], Any]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Either a single value, or a list/tuple of values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fill_remaining</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If value is a tuple or list that is smaller than
the number of rows in the DataFrame, repeat the list or tuple
(R-style) to the end of the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If attempting to add a column that already exists.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>value</code> has more elements that number of
rows in the DataFrame.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If attempting to add an iterable of values with
a length not equal to the number of DataFrame rows.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>value</code> has length of <code>0</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with an added column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/add_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.assign` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">col_name</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_column</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">fill_remaining</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a column to the dataframe.</span>

<span class="sd">    Intended to be the method-chaining alternative to:</span>

<span class="sd">    ```python</span>
<span class="sd">    df[column_name] = value</span>
<span class="sd">    ```</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.assign` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Add a column of constant values to the dataframe.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: list(range(3)), &quot;b&quot;: list(&quot;abc&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df.add_column(column_name=&quot;c&quot;, value=1)</span>
<span class="sd">           a  b  c</span>
<span class="sd">        0  0  a  1</span>
<span class="sd">        1  1  b  1</span>
<span class="sd">        2  2  c  1</span>

<span class="sd">        Add a column of different values to the dataframe.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: list(range(3)), &quot;b&quot;: list(&quot;abc&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df.add_column(column_name=&quot;c&quot;, value=list(&quot;efg&quot;))</span>
<span class="sd">           a  b  c</span>
<span class="sd">        0  0  a  e</span>
<span class="sd">        1  1  b  f</span>
<span class="sd">        2  2  c  g</span>

<span class="sd">        Add a column using an iterator.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: list(range(3)), &quot;b&quot;: list(&quot;abc&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df.add_column(column_name=&quot;c&quot;, value=range(4, 7))</span>
<span class="sd">           a  b  c</span>
<span class="sd">        0  0  a  4</span>
<span class="sd">        1  1  b  5</span>
<span class="sd">        2  2  c  6</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: Name of the new column. Should be a string, in order</span>
<span class="sd">            for the column name to be compatible with the Feather binary</span>
<span class="sd">            format (this is a useful thing to have).</span>
<span class="sd">        value: Either a single value, or a list/tuple of values.</span>
<span class="sd">        fill_remaining: If value is a tuple or list that is smaller than</span>
<span class="sd">            the number of rows in the DataFrame, repeat the list or tuple</span>
<span class="sd">            (R-style) to the end of the DataFrame.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If attempting to add a column that already exists.</span>
<span class="sd">        ValueError: If `value` has more elements that number of</span>
<span class="sd">            rows in the DataFrame.</span>
<span class="sd">        ValueError: If attempting to add an iterable of values with</span>
<span class="sd">            a length not equal to the number of DataFrame rows.</span>
<span class="sd">        ValueError: If `value` has length of `0`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with an added column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Attempted to add column that already exists: &quot;</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">column_name</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="n">nrows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;__len__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">len_value</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="c1"># if `value` is a list, ndarray, etc.</span>
        <span class="k">if</span> <span class="n">len_value</span> <span class="o">&gt;</span> <span class="n">nrows</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;`value` has more elements than number of rows &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;in your `DataFrame`. vals: </span><span class="si">{</span><span class="n">len_value</span><span class="si">}</span><span class="s2">, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;df: </span><span class="si">{</span><span class="n">nrows</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">len_value</span> <span class="o">!=</span> <span class="n">nrows</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">fill_remaining</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Attempted to add iterable of values with length&quot;</span>
                <span class="s2">&quot; not equal to number of DataFrame rows&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">len_value</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;`value` has to be an iterable of minimum length 1&quot;</span>
            <span class="p">)</span>

    <span class="k">elif</span> <span class="n">fill_remaining</span><span class="p">:</span>
        <span class="c1"># relevant if a scalar val was passed, yet fill_remaining == True</span>
        <span class="n">len_value</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fill_remaining</span><span class="p">:</span>
        <span class="n">times_to_loop</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">nrows</span> <span class="o">/</span> <span class="n">len_value</span><span class="p">))</span>
        <span class="n">fill_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">*</span> <span class="n">times_to_loop</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">fill_values</span><span class="p">[:</span><span class="n">nrows</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.add_columns.add_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">fill_remaining</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add multiple columns to the dataframe.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Method to augment
<a class="autorefs autorefs-internal" href="#janitor.functions.add_columns.add_column"><code>add_column</code></a>
with ability to add multiple columns in
one go. This replaces the need for multiple
<a class="autorefs autorefs-internal" href="#janitor.functions.add_columns.add_column"><code>add_column</code></a> calls.</p>
<p>Usage is through supplying kwargs where the key is the col name and the
values correspond to the values of the new DataFrame column.</p>
<p>Values passed can be scalar or iterable (list, ndarray, etc.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.assign</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Inserting two more columns into a dataframe.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">add_columns</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;def&quot;</span><span class="p">))</span>
<span class="go">   a  b  x  y</span>
<span class="go">0  0  a  4  d</span>
<span class="go">1  1  b  4  e</span>
<span class="go">2  2  c  4  f</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fill_remaining</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If value is a tuple or list that is smaller than
the number of rows in the DataFrame, repeat the list or tuple
(R-style) to the end of the DataFrame. (Passed to
<a class="autorefs autorefs-internal" href="#janitor.functions.add_columns.add_column"><code>add_column</code></a>)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column, value pairs which are looped through in
<a class="autorefs autorefs-internal" href="#janitor.functions.add_columns.add_column"><code>add_column</code></a> calls.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with added columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/add_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.assign` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">add_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">fill_remaining</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add multiple columns to the dataframe.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Method to augment</span>
<span class="sd">    [`add_column`][janitor.functions.add_columns.add_column]</span>
<span class="sd">    with ability to add multiple columns in</span>
<span class="sd">    one go. This replaces the need for multiple</span>
<span class="sd">    [`add_column`][janitor.functions.add_columns.add_column] calls.</span>

<span class="sd">    Usage is through supplying kwargs where the key is the col name and the</span>
<span class="sd">    values correspond to the values of the new DataFrame column.</span>

<span class="sd">    Values passed can be scalar or iterable (list, ndarray, etc.)</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.assign` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Inserting two more columns into a dataframe.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: list(range(3)), &quot;b&quot;: list(&quot;abc&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df.add_columns(x=4, y=list(&quot;def&quot;))</span>
<span class="sd">           a  b  x  y</span>
<span class="sd">        0  0  a  4  d</span>
<span class="sd">        1  1  b  4  e</span>
<span class="sd">        2  2  c  4  f</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        fill_remaining: If value is a tuple or list that is smaller than</span>
<span class="sd">            the number of rows in the DataFrame, repeat the list or tuple</span>
<span class="sd">            (R-style) to the end of the DataFrame. (Passed to</span>
<span class="sd">            [`add_column`][janitor.functions.add_columns.add_column])</span>
<span class="sd">        **kwargs: Column, value pairs which are looped through in</span>
<span class="sd">            [`add_column`][janitor.functions.add_columns.add_column] calls.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with added columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Note: error checking can pretty much be handled in `add_column`</span>

    <span class="k">for</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">col_name</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">fill_remaining</span><span class="o">=</span><span class="n">fill_remaining</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.also" class="doc doc-heading">
            <code>also</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for chainable function <code>also</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.also.also" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">also</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Run a function with side effects.</p>
<p>This function allows you to run an arbitrary function
in the <code>pyjanitor</code> method chain.
Doing so will let you do things like save the dataframe to disk midway
while continuing to modify the dataframe afterwards.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)})</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;a &gt; 1&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">also</span><span class="p">(</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DataFrame shape is: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="n">old_column_name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">new_column_name</span><span class="o">=</span><span class="s2">&quot;a_new&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">also</span><span class="p">(</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;midpoint.csv&quot;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">also</span><span class="p">(</span>
<span class="gp">... </span>        <span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columns: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">DataFrame shape is: (2, 2)</span>
<span class="go">Columns: Index([&#39;a_new&#39;, &#39;b&#39;], dtype=&#39;object&#39;)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
                  <code>Callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function you would like to run in the method chain.
It should take one DataFrame object as a parameter and have no return.
If there is a return, it will be ignored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional arguments for <code>func</code>.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional keyword arguments for <code>func</code>.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input pandas DataFrame, unmodified.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/also.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">also</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run a function with side effects.</span>

<span class="sd">    This function allows you to run an arbitrary function</span>
<span class="sd">    in the `pyjanitor` method chain.</span>
<span class="sd">    Doing so will let you do things like save the dataframe to disk midway</span>
<span class="sd">    while continuing to modify the dataframe afterwards.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = (</span>
<span class="sd">        ...     pd.DataFrame({&quot;a&quot;: [1, 2, 3], &quot;b&quot;: list(&quot;abc&quot;)})</span>
<span class="sd">        ...     .query(&quot;a &gt; 1&quot;)</span>
<span class="sd">        ...     .also(lambda df: print(f&quot;DataFrame shape is: {df.shape}&quot;))</span>
<span class="sd">        ...     .rename_column(old_column_name=&quot;a&quot;, new_column_name=&quot;a_new&quot;)</span>
<span class="sd">        ...     .also(lambda df: df.to_csv(&quot;midpoint.csv&quot;))</span>
<span class="sd">        ...     .also(</span>
<span class="sd">        ...         lambda df: print(f&quot;Columns: {df.columns}&quot;)</span>
<span class="sd">        ...     )</span>
<span class="sd">        ... )</span>
<span class="sd">        DataFrame shape is: (2, 2)</span>
<span class="sd">        Columns: Index([&#39;a_new&#39;, &#39;b&#39;], dtype=&#39;object&#39;)</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        func: A function you would like to run in the method chain.</span>
<span class="sd">            It should take one DataFrame object as a parameter and have no return.</span>
<span class="sd">            If there is a return, it will be ignored.</span>
<span class="sd">        *args: Optional arguments for `func`.</span>
<span class="sd">        **kwargs: Optional keyword arguments for `func`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The input pandas DataFrame, unmodified.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">func</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.bin_numeric" class="doc doc-heading">
            <code>bin_numeric</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>bin_numeric</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.bin_numeric.bin_numeric" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bin_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_column_name</span><span class="p">,</span> <span class="n">to_column_name</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Generate a new column that labels bins for a specified numeric column.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>A wrapper around the pandas <a href="https://pandas.pydata.org/docs/reference/api/pandas.cut.html"><code>cut()</code></a> function to bin data of
one column, generating a new column with the results.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Binning a numeric column with specific bin edges.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">bin_numeric</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">from_column_name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">to_column_name</span><span class="o">=</span><span class="s2">&quot;a_binned&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">bins</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">    a  a_binned</span>
<span class="go">0   3    (0, 5]</span>
<span class="go">1   6   (5, 11]</span>
<span class="go">2   9   (5, 11]</span>
<span class="go">3  12  (11, 15]</span>
<span class="go">4  15  (11, 15]</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>from_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column whose data you want binned.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>to_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new column to be created with the binned data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bins</code>
            </td>
            <td>
                  <code>Optional[Union[int, ScalarSequence, IntervalIndex]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The binning strategy to be utilized. Read the <code>pd.cut</code>
documentation for more details.</p>
              </div>
            </td>
            <td>
                  <code>5</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional kwargs to pass to <code>pd.cut</code>, except <code>retbins</code>.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>retbins</code> is passed in as a kwarg.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/bin_numeric.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span>
    <span class="n">from_column</span><span class="o">=</span><span class="s2">&quot;from_column_name&quot;</span><span class="p">,</span>
    <span class="n">to_column</span><span class="o">=</span><span class="s2">&quot;to_column_name&quot;</span><span class="p">,</span>
    <span class="n">num_bins</span><span class="o">=</span><span class="s2">&quot;bins&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">bin_numeric</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">from_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">to_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">bins</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">ScalarSequence</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">IntervalIndex</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a new column that labels bins for a specified numeric column.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    A wrapper around the pandas [`cut()`][pd_cut_docs] function to bin data of</span>
<span class="sd">    one column, generating a new column with the results.</span>

<span class="sd">    [pd_cut_docs]: https://pandas.pydata.org/docs/reference/api/pandas.cut.html</span>

<span class="sd">    Examples:</span>
<span class="sd">        Binning a numeric column with specific bin edges.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [3, 6, 9, 12, 15]})</span>
<span class="sd">        &gt;&gt;&gt; df.bin_numeric(</span>
<span class="sd">        ...     from_column_name=&quot;a&quot;, to_column_name=&quot;a_binned&quot;,</span>
<span class="sd">        ...     bins=[0, 5, 11, 15],</span>
<span class="sd">        ... )</span>
<span class="sd">            a  a_binned</span>
<span class="sd">        0   3    (0, 5]</span>
<span class="sd">        1   6   (5, 11]</span>
<span class="sd">        2   9   (5, 11]</span>
<span class="sd">        3  12  (11, 15]</span>
<span class="sd">        4  15  (11, 15]</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        from_column_name: The column whose data you want binned.</span>
<span class="sd">        to_column_name: The new column to be created with the binned data.</span>
<span class="sd">        bins: The binning strategy to be utilized. Read the `pd.cut`</span>
<span class="sd">            documentation for more details.</span>
<span class="sd">        **kwargs: Additional kwargs to pass to `pd.cut`, except `retbins`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `retbins` is passed in as a kwarg.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;retbins&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`retbins` is not an acceptable keyword argument.&quot;</span><span class="p">)</span>

    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;from_column_name&quot;</span><span class="p">,</span> <span class="n">from_column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;to_column_name&quot;</span><span class="p">,</span> <span class="n">to_column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_column_name</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span>
        <span class="o">**</span><span class="p">{</span>
            <span class="n">to_column_name</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">from_column_name</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.case_when" class="doc doc-heading">
            <code>case_when</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>case_when</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.case_when.case_when" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">case_when</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a column based on a condition or multiple conditions.</p>
<p>Similar to SQL and dplyr's case_when
with inspiration from <code>pydatatable</code> if_else function.</p>
<p>If your scenario requires direct replacement of values,
pandas' <code>replace</code> method or <code>map</code> method should be better
suited and more efficient; if the conditions check
if a value is within a range of values, pandas' <code>cut</code> or <code>qcut</code>
should be more efficient; <code>np.where/np.select</code> are also
performant options.</p>
<p>This function relies on <code>pd.Series.mask</code> method.</p>
<p>When multiple conditions are satisfied, the first one is used.</p>
<p>The variable <code>*args</code> parameters takes arguments of the form :
<code>condition0</code>, <code>value0</code>, <code>condition1</code>, <code>value1</code>, ..., <code>default</code>.
If <code>condition0</code> evaluates to <code>True</code>, then assign <code>value0</code> to
<code>column_name</code>, if <code>condition1</code> evaluates to <code>True</code>, then
assign <code>value1</code> to <code>column_name</code>, and so on. If none of the
conditions evaluate to <code>True</code>, assign <code>default</code> to
<code>column_name</code>.</p>
<p>This function can be likened to SQL's <code>case_when</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">condition0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">value0</span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">condition1</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">value1</span>
<span class="w">    </span><span class="c1">--- more conditions</span>
<span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="k">default</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">column_name</span>
</code></pre></div>
<p>compared to python's <code>if-elif-else</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">condition0</span><span class="p">:</span>
    <span class="n">value0</span>
<span class="k">elif</span> <span class="n">condition1</span><span class="p">:</span>
    <span class="n">value1</span>
<span class="c1"># more elifs</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">default</span>
</code></pre></div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;hi&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;bye&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;wait&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    a    b     c</span>
<span class="go">0   0    0     6</span>
<span class="go">1   0    3     7</span>
<span class="go">2   1    4     8</span>
<span class="go">3   2    5     9</span>
<span class="go">4  hi  bye  wait</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">case_when</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">((</span><span class="n">df</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;wait&quot;</span><span class="p">),</span> <span class="n">df</span><span class="o">.</span><span class="n">a</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">default</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">c</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">column_name</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">    a    b     c value</span>
<span class="go">0   0    0     6     x</span>
<span class="go">1   0    3     7     0</span>
<span class="go">2   1    4     8     8</span>
<span class="go">3   2    5     9     9</span>
<span class="go">4  hi  bye  wait    hi</span>
</code></pre></div>
        <div class="admonition abstract">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.24.0<ul>
<li>Added <code>default</code> parameter.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Variable argument of conditions and expected values.
Takes the form
<code>condition0</code>, <code>value0</code>, <code>condition1</code>, <code>value1</code>, ... .
<code>condition</code> can be a 1-D boolean array, a callable, or a string.
If <code>condition</code> is a callable, it should evaluate
to a 1-D boolean array. The array should have the same length
as the DataFrame. If it is a string, it is computed on the dataframe,
via <code>df.eval</code>, and should return a 1-D boolean array.
<code>result</code> can be a scalar, a 1-D array, or a callable.
If <code>result</code> is a callable, it should evaluate to a 1-D array.
For a 1-D array, it should have the same length as the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>This is the element inserted in the output
when all conditions evaluate to False.
Can be scalar, 1-D array or callable.
If callable, it should evaluate to a 1-D array.
The 1-D array should be the same length as the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of column to assign results to. A new column
is created if it does not already exist in the DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If condition/value fails to evaluate.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/case_when.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.Series.case_when` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">case_when</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a column based on a condition or multiple conditions.</span>

<span class="sd">    Similar to SQL and dplyr&#39;s case_when</span>
<span class="sd">    with inspiration from `pydatatable` if_else function.</span>

<span class="sd">    If your scenario requires direct replacement of values,</span>
<span class="sd">    pandas&#39; `replace` method or `map` method should be better</span>
<span class="sd">    suited and more efficient; if the conditions check</span>
<span class="sd">    if a value is within a range of values, pandas&#39; `cut` or `qcut`</span>
<span class="sd">    should be more efficient; `np.where/np.select` are also</span>
<span class="sd">    performant options.</span>

<span class="sd">    This function relies on `pd.Series.mask` method.</span>

<span class="sd">    When multiple conditions are satisfied, the first one is used.</span>

<span class="sd">    The variable `*args` parameters takes arguments of the form :</span>
<span class="sd">    `condition0`, `value0`, `condition1`, `value1`, ..., `default`.</span>
<span class="sd">    If `condition0` evaluates to `True`, then assign `value0` to</span>
<span class="sd">    `column_name`, if `condition1` evaluates to `True`, then</span>
<span class="sd">    assign `value1` to `column_name`, and so on. If none of the</span>
<span class="sd">    conditions evaluate to `True`, assign `default` to</span>
<span class="sd">    `column_name`.</span>

<span class="sd">    This function can be likened to SQL&#39;s `case_when`:</span>

<span class="sd">    ```sql</span>
<span class="sd">    CASE WHEN condition0 THEN value0</span>
<span class="sd">        WHEN condition1 THEN value1</span>
<span class="sd">        --- more conditions</span>
<span class="sd">        ELSE default</span>
<span class="sd">        END AS column_name</span>
<span class="sd">    ```</span>

<span class="sd">    compared to python&#39;s `if-elif-else`:</span>

<span class="sd">    ```python</span>
<span class="sd">    if condition0:</span>
<span class="sd">        value0</span>
<span class="sd">    elif condition1:</span>
<span class="sd">        value1</span>
<span class="sd">    # more elifs</span>
<span class="sd">    else:</span>
<span class="sd">        default</span>
<span class="sd">    ```</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;a&quot;: [0, 0, 1, 2, &quot;hi&quot;],</span>
<span class="sd">        ...         &quot;b&quot;: [0, 3, 4, 5, &quot;bye&quot;],</span>
<span class="sd">        ...         &quot;c&quot;: [6, 7, 8, 9, &quot;wait&quot;],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">            a    b     c</span>
<span class="sd">        0   0    0     6</span>
<span class="sd">        1   0    3     7</span>
<span class="sd">        2   1    4     8</span>
<span class="sd">        3   2    5     9</span>
<span class="sd">        4  hi  bye  wait</span>
<span class="sd">        &gt;&gt;&gt; df.case_when(</span>
<span class="sd">        ...     ((df.a == 0) &amp; (df.b != 0)) | (df.c == &quot;wait&quot;), df.a,</span>
<span class="sd">        ...     (df.b == 0) &amp; (df.a == 0), &quot;x&quot;,</span>
<span class="sd">        ...     default = df.c,</span>
<span class="sd">        ...     column_name = &quot;value&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">            a    b     c value</span>
<span class="sd">        0   0    0     6     x</span>
<span class="sd">        1   0    3     7     0</span>
<span class="sd">        2   1    4     8     8</span>
<span class="sd">        3   2    5     9     9</span>
<span class="sd">        4  hi  bye  wait    hi</span>

<span class="sd">    !!! abstract &quot;Version Changed&quot;</span>

<span class="sd">        - 0.24.0</span>
<span class="sd">            - Added `default` parameter.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        *args: Variable argument of conditions and expected values.</span>
<span class="sd">            Takes the form</span>
<span class="sd">            `condition0`, `value0`, `condition1`, `value1`, ... .</span>
<span class="sd">            `condition` can be a 1-D boolean array, a callable, or a string.</span>
<span class="sd">            If `condition` is a callable, it should evaluate</span>
<span class="sd">            to a 1-D boolean array. The array should have the same length</span>
<span class="sd">            as the DataFrame. If it is a string, it is computed on the dataframe,</span>
<span class="sd">            via `df.eval`, and should return a 1-D boolean array.</span>
<span class="sd">            `result` can be a scalar, a 1-D array, or a callable.</span>
<span class="sd">            If `result` is a callable, it should evaluate to a 1-D array.</span>
<span class="sd">            For a 1-D array, it should have the same length as the DataFrame.</span>
<span class="sd">        default: This is the element inserted in the output</span>
<span class="sd">            when all conditions evaluate to False.</span>
<span class="sd">            Can be scalar, 1-D array or callable.</span>
<span class="sd">            If callable, it should evaluate to a 1-D array.</span>
<span class="sd">            The 1-D array should be the same length as the DataFrame.</span>
<span class="sd">        column_name: Name of column to assign results to. A new column</span>
<span class="sd">            is created if it does not already exist in the DataFrame.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If condition/value fails to evaluate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="c1"># Preliminary checks on the case_when function.</span>
    <span class="c1"># The bare minimum checks are done; the remaining checks</span>
    <span class="c1"># are done within `pd.Series.mask`.</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="n">len_args</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">len_args</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;At least two arguments are required for the `args` parameter&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">len_args</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;The last argument in the variable arguments &quot;</span>
                <span class="s2">&quot;has been assigned as the default. &quot;</span>
                <span class="s2">&quot;Note however that this will be deprecated &quot;</span>
                <span class="s2">&quot;in a future release; use an even number &quot;</span>
                <span class="s2">&quot;of boolean conditions and values, &quot;</span>
                <span class="s2">&quot;and pass the default argument to the `default` &quot;</span>
                <span class="s2">&quot;parameter instead.&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="n">find_stack_level</span><span class="p">(),</span>
            <span class="p">)</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="n">args</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The number of conditions and values do not match. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;There are </span><span class="si">{</span><span class="n">len_args</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">len_args</span><span class="o">//</span><span class="mi">2</span><span class="si">}</span><span class="s2"> conditions &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;and </span><span class="si">{</span><span class="n">len_args</span><span class="o">//</span><span class="mi">2</span><span class="si">}</span><span class="s2"> values.&quot;</span>
            <span class="p">)</span>

    <span class="n">booleans</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">replacements</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">apply_if_callable</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
            <span class="n">replacements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">apply_if_callable</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="n">booleans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">default</span><span class="p">):</span>
        <span class="n">default</span> <span class="o">=</span> <span class="n">apply_if_callable</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_scalar</span><span class="p">(</span><span class="n">default</span><span class="p">):</span>
        <span class="n">default</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">default</span><span class="p">])</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="s2">&quot;shape&quot;</span><span class="p">):</span>
        <span class="n">default</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">*</span><span class="n">default</span><span class="p">])</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">):</span>
        <span class="n">arr_ndim</span> <span class="o">=</span> <span class="n">default</span><span class="o">.</span><span class="n">nlevels</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">arr_ndim</span> <span class="o">=</span> <span class="n">default</span><span class="o">.</span><span class="n">ndim</span>
    <span class="k">if</span> <span class="n">arr_ndim</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The argument for the `default` parameter &quot;</span>
            <span class="s2">&quot;should either be a 1-D array, a scalar, &quot;</span>
            <span class="s2">&quot;or a callable that can evaluate to a 1-D array.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
        <span class="n">default</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
    <span class="n">default</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span>
    <span class="c1"># actual computation</span>
    <span class="c1"># ensures value assignment is on a first come basis</span>
    <span class="n">booleans</span> <span class="o">=</span> <span class="n">booleans</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">replacements</span> <span class="o">=</span> <span class="n">replacements</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">booleans</span><span class="p">,</span> <span class="n">replacements</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">default</span> <span class="o">=</span> <span class="n">default</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># error `feedoff` idea from SO</span>
        <span class="c1"># https://stackoverflow.com/a/46091127/7175713</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;condition</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2"> and value</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2"> failed to evaluate. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Original error message: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">error</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">column_name</span><span class="p">:</span> <span class="n">default</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.change_type" class="doc doc-heading">
            <code>change_type</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.change_type.change_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">change_type</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">ignore_exception</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Change the type of a column.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Exceptions that are raised can be ignored. For example, if one has a mixed
dtype column that has non-integer strings and integers, and you want to
coerce everything to integers, you can optionally ignore the non-integer
strings and replace them with <code>NaN</code> or keep the original value.</p>
<p>Intended to be the method-chaining alternative to:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="p">)</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.astype</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Change the type of a column.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">True</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   col1  col2</span>
<span class="go">0     0     m</span>
<span class="go">1     1     5</span>
<span class="go">2     2  True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">change_type</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">change_type</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">ignore_exception</span><span class="o">=</span><span class="s2">&quot;fillna&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">  col1  col2</span>
<span class="go">0    0   NaN</span>
<span class="go">1    1   5.0</span>
<span class="go">2    2   1.0</span>
</code></pre></div>
    <p>Change the type of multiple columns. To change the type of all columns,
please use <code>DataFrame.astype</code> instead.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">True</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">change_type</span><span class="p">([</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="s1">&#39;col2&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>
<span class="go">  col1  col2</span>
<span class="go">0    0     m</span>
<span class="go">1    1     5</span>
<span class="go">2    2  True</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable | list[Hashable] | Index</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column(s) in the dataframe.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dtype</code>
            </td>
            <td>
                  <code>type</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The datatype to convert to. Should be one of the standard
Python types, or a numpy datatype.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ignore_exception</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>One of <code>{False, "fillna", "keep_values"}</code>.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If unknown option provided for <code>ignore_exception</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with changed column types.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/change_type.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.astype` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">change_type</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Hashable</span><span class="p">]</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">,</span>
    <span class="n">dtype</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span>
    <span class="n">ignore_exception</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change the type of a column.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Exceptions that are raised can be ignored. For example, if one has a mixed</span>
<span class="sd">    dtype column that has non-integer strings and integers, and you want to</span>
<span class="sd">    coerce everything to integers, you can optionally ignore the non-integer</span>
<span class="sd">    strings and replace them with `NaN` or keep the original value.</span>

<span class="sd">    Intended to be the method-chaining alternative to:</span>

<span class="sd">    ```python</span>
<span class="sd">    df[col] = df[col].astype(dtype)</span>
<span class="sd">    ```</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.astype` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Change the type of a column.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;col1&quot;: range(3), &quot;col2&quot;: [&quot;m&quot;, 5, True]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           col1  col2</span>
<span class="sd">        0     0     m</span>
<span class="sd">        1     1     5</span>
<span class="sd">        2     2  True</span>
<span class="sd">        &gt;&gt;&gt; df.change_type(</span>
<span class="sd">        ...     &quot;col1&quot;, dtype=str,</span>
<span class="sd">        ... ).change_type(</span>
<span class="sd">        ...     &quot;col2&quot;, dtype=float, ignore_exception=&quot;fillna&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">          col1  col2</span>
<span class="sd">        0    0   NaN</span>
<span class="sd">        1    1   5.0</span>
<span class="sd">        2    2   1.0</span>

<span class="sd">        Change the type of multiple columns. To change the type of all columns,</span>
<span class="sd">        please use `DataFrame.astype` instead.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;col1&quot;: range(3), &quot;col2&quot;: [&quot;m&quot;, 5, True]})</span>
<span class="sd">        &gt;&gt;&gt; df.change_type([&#39;col1&#39;, &#39;col2&#39;], str)</span>
<span class="sd">          col1  col2</span>
<span class="sd">        0    0     m</span>
<span class="sd">        1    1     5</span>
<span class="sd">        2    2  True</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: The column(s) in the dataframe.</span>
<span class="sd">        dtype: The datatype to convert to. Should be one of the standard</span>
<span class="sd">            Python types, or a numpy datatype.</span>
<span class="sd">        ignore_exception: One of `{False, &quot;fillna&quot;, &quot;keep_values&quot;}`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If unknown option provided for `ignore_exception`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with changed column types.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># avoid mutating the original DataFrame</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ignore_exception</span><span class="p">:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ignore_exception</span> <span class="o">==</span> <span class="s2">&quot;keep_values&quot;</span><span class="p">:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ignore_exception</span> <span class="o">==</span> <span class="s2">&quot;fillna&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column_name</span><span class="p">,</span> <span class="n">Hashable</span><span class="p">):</span>
            <span class="n">column_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">column_name</span><span class="p">]</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">_convert</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unknown option for ignore_exception&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.clean_names" class="doc doc-heading">
            <code>clean_names</code>


</h2>

    <div class="doc doc-contents ">

        <p>Functions for cleaning columns/index names and/or column values.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.clean_names.clean_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clean_names</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strip_underscores</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">case_type</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">remove_special</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">strip_accents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">preserve_original_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enforce_string</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">truncate_limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Clean column/index names. It can also be applied to column values.</p>
<p>Takes all column names, converts them to lowercase,
then replaces all spaces with underscores.</p>
<p>By default, column names are converted to string types.
This can be switched off by passing in <code>enforce_string=False</code>.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;Aloha&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>        <span class="s2">&quot;Bell Chart&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>        <span class="s2">&quot;Animals@#$%^&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   Aloha  Bell Chart  Animals@#$%^</span>
<span class="go">0      0           0             0</span>
<span class="go">1      1           1             1</span>
<span class="go">2      2           2             2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">clean_names</span><span class="p">()</span>
<span class="go">   aloha  bell_chart  animals@#$%^</span>
<span class="go">0      0           0             0</span>
<span class="go">1      1           1             1</span>
<span class="go">2      2           2             2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">clean_names</span><span class="p">(</span><span class="n">remove_special</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   aloha  bell_chart  animals</span>
<span class="go">0      0           0        0</span>
<span class="go">1      1           1        1</span>
<span class="go">2      2           2        2</span>
</code></pre></div>
        <div class="admonition summary">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.26.0<ul>
<li>Added <code>axis</code> and <code>column_names</code> parameters.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to clean the labels on the index or columns.
If <code>None</code>, applies to a defined column
or columns in <code>column_names</code>.</p>
              </div>
            </td>
            <td>
                  <code>&#39;columns&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>str | list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clean the values in a column.
<code>axis</code> should be <code>None</code>.
Column selection is possible using the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strip_underscores</code>
            </td>
            <td>
                  <code>str | bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Removes the outer underscores from all
column names/values. Default None keeps outer underscores.
Values can be either 'left', 'right' or 'both'
or the respective shorthand 'l',
'r' and True.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>case_type</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to make columns lower or uppercase.
Current case may be preserved with 'preserve',
while snake case conversion (from CamelCase or camelCase only)
can be turned on using "snake".
Default 'lower' makes all characters lowercase.</p>
              </div>
            </td>
            <td>
                  <code>&#39;lower&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove_special</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Remove special characters from columns.
Only letters, numbers and underscores are preserved.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strip_accents</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to remove accents from
columns names/values.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>preserve_original_labels</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Preserve original names.
This is later retrievable using <code>df.original_labels</code>.
Applies if <code>axis</code> is not None.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>enforce_string</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to convert all
column names/values to string type.
Defaults to True, but can be turned off.
Columns with &gt;1 levels will not be converted by default.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>truncate_limit</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Truncates formatted column names/values
to the specified length.
Default None does not truncate.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>axis=None</code> and <code>column_names=None</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/clean_names.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">preserve_original_columns</span><span class="o">=</span><span class="s2">&quot;preserve_original_labels&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">clean_names</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;columns&quot;</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">strip_underscores</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">case_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;lower&quot;</span><span class="p">,</span>
    <span class="n">remove_special</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">strip_accents</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">preserve_original_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">enforce_string</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">truncate_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clean column/index names. It can also be applied to column values.</span>

<span class="sd">    Takes all column names, converts them to lowercase,</span>
<span class="sd">    then replaces all spaces with underscores.</span>

<span class="sd">    By default, column names are converted to string types.</span>
<span class="sd">    This can be switched off by passing in `enforce_string=False`.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;Aloha&quot;: range(3),</span>
<span class="sd">        ...         &quot;Bell Chart&quot;: range(3),</span>
<span class="sd">        ...         &quot;Animals@#$%^&quot;: range(3)</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           Aloha  Bell Chart  Animals@#$%^</span>
<span class="sd">        0      0           0             0</span>
<span class="sd">        1      1           1             1</span>
<span class="sd">        2      2           2             2</span>
<span class="sd">        &gt;&gt;&gt; df.clean_names()</span>
<span class="sd">           aloha  bell_chart  animals@#$%^</span>
<span class="sd">        0      0           0             0</span>
<span class="sd">        1      1           1             1</span>
<span class="sd">        2      2           2             2</span>
<span class="sd">        &gt;&gt;&gt; df.clean_names(remove_special=True)</span>
<span class="sd">           aloha  bell_chart  animals</span>
<span class="sd">        0      0           0        0</span>
<span class="sd">        1      1           1        1</span>
<span class="sd">        2      2           2        2</span>

<span class="sd">    !!! summary &quot;Version Changed&quot;</span>

<span class="sd">        - 0.26.0</span>
<span class="sd">             - Added `axis` and `column_names` parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        axis: Whether to clean the labels on the index or columns.</span>
<span class="sd">            If `None`, applies to a defined column</span>
<span class="sd">            or columns in `column_names`.</span>
<span class="sd">        column_names: Clean the values in a column.</span>
<span class="sd">            `axis` should be `None`.</span>
<span class="sd">            Column selection is possible using the</span>
<span class="sd">            [`select`][janitor.functions.select.select] syntax.</span>
<span class="sd">        strip_underscores: Removes the outer underscores from all</span>
<span class="sd">            column names/values. Default None keeps outer underscores.</span>
<span class="sd">            Values can be either &#39;left&#39;, &#39;right&#39; or &#39;both&#39;</span>
<span class="sd">            or the respective shorthand &#39;l&#39;,</span>
<span class="sd">            &#39;r&#39; and True.</span>
<span class="sd">        case_type: Whether to make columns lower or uppercase.</span>
<span class="sd">            Current case may be preserved with &#39;preserve&#39;,</span>
<span class="sd">            while snake case conversion (from CamelCase or camelCase only)</span>
<span class="sd">            can be turned on using &quot;snake&quot;.</span>
<span class="sd">            Default &#39;lower&#39; makes all characters lowercase.</span>
<span class="sd">        remove_special: Remove special characters from columns.</span>
<span class="sd">            Only letters, numbers and underscores are preserved.</span>
<span class="sd">        strip_accents: Whether or not to remove accents from</span>
<span class="sd">            columns names/values.</span>
<span class="sd">        preserve_original_labels: Preserve original names.</span>
<span class="sd">            This is later retrievable using `df.original_labels`.</span>
<span class="sd">            Applies if `axis` is not None.</span>
<span class="sd">        enforce_string: Whether or not to convert all</span>
<span class="sd">            column names/values to string type.</span>
<span class="sd">            Defaults to True, but can be turned off.</span>
<span class="sd">            Columns with &gt;1 levels will not be converted by default.</span>
<span class="sd">        truncate_limit: Truncates formatted column names/values</span>
<span class="sd">            to the specified length.</span>
<span class="sd">            Default None does not truncate.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `axis=None` and `column_names=None`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">axis</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">column_names</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Kindly provide an argument to `column_names`, if axis is None.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">axis</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">column_names</span> <span class="o">=</span> <span class="n">get_index_labels</span><span class="p">(</span>
            <span class="n">arg</span><span class="o">=</span><span class="n">column_names</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">is_scalar</span><span class="p">(</span><span class="n">column_names</span><span class="p">):</span>
            <span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">column_names</span><span class="p">]</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">column_names</span><span class="p">:</span>
            <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">_clean_names</span><span class="p">(</span>
                <span class="n">obj</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span>
                <span class="n">enforce_string</span><span class="o">=</span><span class="n">enforce_string</span><span class="p">,</span>
                <span class="n">case_type</span><span class="o">=</span><span class="n">case_type</span><span class="p">,</span>
                <span class="n">remove_special</span><span class="o">=</span><span class="n">remove_special</span><span class="p">,</span>
                <span class="n">strip_accents</span><span class="o">=</span><span class="n">strip_accents</span><span class="p">,</span>
                <span class="n">strip_underscores</span><span class="o">=</span><span class="n">strip_underscores</span><span class="p">,</span>
                <span class="n">truncate_limit</span><span class="o">=</span><span class="n">truncate_limit</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">assert</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:]</span>
    <span class="n">target_axis</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target_axis</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="p">):</span>
        <span class="n">target_axis</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">target_axis</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">target_axis</span><span class="o">.</span><span class="n">nlevels</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">target_axis</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">_clean_names</span><span class="p">(</span>
                <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span>
                <span class="n">enforce_string</span><span class="o">=</span><span class="n">enforce_string</span><span class="p">,</span>
                <span class="n">case_type</span><span class="o">=</span><span class="n">case_type</span><span class="p">,</span>
                <span class="n">remove_special</span><span class="o">=</span><span class="n">remove_special</span><span class="p">,</span>
                <span class="n">strip_accents</span><span class="o">=</span><span class="n">strip_accents</span><span class="p">,</span>
                <span class="n">strip_underscores</span><span class="o">=</span><span class="n">strip_underscores</span><span class="p">,</span>
                <span class="n">truncate_limit</span><span class="o">=</span><span class="n">truncate_limit</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">target_axis</span>
        <span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">target_axis</span> <span class="o">=</span> <span class="n">_clean_names</span><span class="p">(</span>
            <span class="n">obj</span><span class="o">=</span><span class="n">target_axis</span><span class="p">,</span>
            <span class="n">enforce_string</span><span class="o">=</span><span class="n">enforce_string</span><span class="p">,</span>
            <span class="n">case_type</span><span class="o">=</span><span class="n">case_type</span><span class="p">,</span>
            <span class="n">remove_special</span><span class="o">=</span><span class="n">remove_special</span><span class="p">,</span>
            <span class="n">strip_accents</span><span class="o">=</span><span class="n">strip_accents</span><span class="p">,</span>
            <span class="n">strip_underscores</span><span class="o">=</span><span class="n">strip_underscores</span><span class="p">,</span>
            <span class="n">truncate_limit</span><span class="o">=</span><span class="n">truncate_limit</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="c1"># Store the original column names, if enabled by user</span>
    <span class="k">if</span> <span class="n">preserve_original_labels</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;original_labels&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">target_axis</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.coalesce" class="doc doc-heading">
            <code>coalesce</code>


</h2>

    <div class="doc doc-contents ">

        <p>Function for performing coalesce.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.coalesce.coalesce" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">coalesce</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">column_names</span><span class="p">,</span> <span class="n">target_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Coalesce two or more columns of data in order of column names provided.</p>
<p>Given the variable arguments of column names,
<code>coalesce</code> finds and returns the first non-missing value
from these columns, for every row in the input dataframe.
If all the column values are null for a particular row,
then the <code>default_value</code> will be filled in.</p>
<p>If <code>target_column_name</code> is not provided,
then the first column is coalesced.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>The <a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax
can be used in <code>column_names</code>.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Use <code>coalesce</code> with 3 columns, "a", "b" and "c".</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">coalesce</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="go">     a    b    c</span>
<span class="go">0  2.0  2.0  4.0</span>
<span class="go">1  1.0  3.0  NaN</span>
<span class="go">2  NaN  NaN  NaN</span>
</code></pre></div>
    <p>Provide a target_column_name.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">coalesce</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">target_column_name</span><span class="o">=</span><span class="s2">&quot;new_col&quot;</span><span class="p">)</span>
<span class="go">     a    b    c  new_col</span>
<span class="go">0  NaN  2.0  4.0      2.0</span>
<span class="go">1  1.0  3.0  NaN      1.0</span>
<span class="go">2  NaN  NaN  NaN      NaN</span>
</code></pre></div>
    <p>Provide a default value.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">coalesce</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">target_column_name</span><span class="o">=</span><span class="s2">&quot;new_col&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">default_value</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">     a    b  new_col</span>
<span class="go">0  1.0  2.0      1.0</span>
<span class="go">1  NaN  3.0      3.0</span>
<span class="go">2  NaN  NaN     -1.0</span>
</code></pre></div>
        <p>This is more syntactic diabetes! For R users, this should look familiar to
<code>dplyr</code>'s <code>coalesce</code> function; for Python users, the interface
should be more intuitive than the <code>pandas.Series.combine_first</code>
method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_column_name</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new column name after combining.
If <code>None</code>, then the first column in <code>column_names</code> is updated,
with the Null values replaced.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_value</code>
            </td>
            <td>
                  <code>Optional[Union[int, float, str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A scalar to replace any remaining nulls
after coalescing.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If length of <code>column_names</code> is less than 2.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with coalesced columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/coalesce.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">,</span> <span class="n">new_column_name</span><span class="o">=</span><span class="s2">&quot;target_column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">coalesce</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">*</span><span class="n">column_names</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">target_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Coalesce two or more columns of data in order of column names provided.</span>

<span class="sd">    Given the variable arguments of column names,</span>
<span class="sd">    `coalesce` finds and returns the first non-missing value</span>
<span class="sd">    from these columns, for every row in the input dataframe.</span>
<span class="sd">    If all the column values are null for a particular row,</span>
<span class="sd">    then the `default_value` will be filled in.</span>

<span class="sd">    If `target_column_name` is not provided,</span>
<span class="sd">    then the first column is coalesced.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    The [`select`][janitor.functions.select.select] syntax</span>
<span class="sd">    can be used in `column_names`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Use `coalesce` with 3 columns, &quot;a&quot;, &quot;b&quot; and &quot;c&quot;.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [np.nan, 1, np.nan],</span>
<span class="sd">        ...     &quot;b&quot;: [2, 3, np.nan],</span>
<span class="sd">        ...     &quot;c&quot;: [4, np.nan, np.nan],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df.coalesce(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</span>
<span class="sd">             a    b    c</span>
<span class="sd">        0  2.0  2.0  4.0</span>
<span class="sd">        1  1.0  3.0  NaN</span>
<span class="sd">        2  NaN  NaN  NaN</span>

<span class="sd">        Provide a target_column_name.</span>

<span class="sd">        &gt;&gt;&gt; df.coalesce(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, target_column_name=&quot;new_col&quot;)</span>
<span class="sd">             a    b    c  new_col</span>
<span class="sd">        0  NaN  2.0  4.0      2.0</span>
<span class="sd">        1  1.0  3.0  NaN      1.0</span>
<span class="sd">        2  NaN  NaN  NaN      NaN</span>

<span class="sd">        Provide a default value.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [1, np.nan, np.nan],</span>
<span class="sd">        ...     &quot;b&quot;: [2, 3, np.nan],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df.coalesce(</span>
<span class="sd">        ...     &quot;a&quot;, &quot;b&quot;,</span>
<span class="sd">        ...     target_column_name=&quot;new_col&quot;,</span>
<span class="sd">        ...     default_value=-1,</span>
<span class="sd">        ... )</span>
<span class="sd">             a    b  new_col</span>
<span class="sd">        0  1.0  2.0      1.0</span>
<span class="sd">        1  NaN  3.0      3.0</span>
<span class="sd">        2  NaN  NaN     -1.0</span>

<span class="sd">    This is more syntactic diabetes! For R users, this should look familiar to</span>
<span class="sd">    `dplyr`&#39;s `coalesce` function; for Python users, the interface</span>
<span class="sd">    should be more intuitive than the `pandas.Series.combine_first`</span>
<span class="sd">    method.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: A list of column names.</span>
<span class="sd">        target_column_name: The new column name after combining.</span>
<span class="sd">            If `None`, then the first column in `column_names` is updated,</span>
<span class="sd">            with the Null values replaced.</span>
<span class="sd">        default_value: A scalar to replace any remaining nulls</span>
<span class="sd">            after coalescing.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If length of `column_names` is less than 2.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with coalesced columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">column_names</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="n">indexers</span> <span class="o">=</span> <span class="n">_select_index</span><span class="p">([</span><span class="o">*</span><span class="n">column_names</span><span class="p">],</span> <span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">indexers</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The number of columns to coalesce should be a minimum of 2.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">target_column_name</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;target_column_name&quot;</span><span class="p">,</span> <span class="n">target_column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">default_value</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;default_value&quot;</span><span class="p">,</span> <span class="n">default_value</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">outcome</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">indexers</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">indexers</span><span class="p">)):</span>
        <span class="n">position</span> <span class="o">=</span> <span class="n">indexers</span><span class="p">[</span><span class="n">num</span><span class="p">]</span>
        <span class="n">replacement</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">position</span><span class="p">]</span>
        <span class="n">outcome</span> <span class="o">=</span> <span class="n">outcome</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">replacement</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">outcome</span><span class="o">.</span><span class="n">hasnans</span> <span class="ow">and</span> <span class="p">(</span><span class="n">default_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">outcome</span> <span class="o">=</span> <span class="n">outcome</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">default_value</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">target_column_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">indexers</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">outcome</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">target_column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">outcome</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.collapse_levels" class="doc doc-heading">
            <code>collapse_levels</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>collapse_levels</code> function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.collapse_levels.collapse_levels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">collapse_levels</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">glue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Flatten multi-level index/column dataframe to a single level.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Given a DataFrame containing multi-level index/columns, flatten to single-level
by string-joining the labels in each level.</p>
<p>After a <code>groupby</code> / <code>aggregate</code> operation where <code>.agg()</code> is passed a
list of multiple aggregation functions, a multi-level DataFrame is
returned with the name of the function applied in the second level.</p>
<p>It is sometimes convenient for later indexing to flatten out this
multi-level configuration back into a single level. This function does
this through a simple string-joining of all the names across different
levels in a single column.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bird&quot;</span><span class="p">,</span> <span class="s2">&quot;bird&quot;</span><span class="p">,</span> <span class="s2">&quot;bird&quot;</span><span class="p">,</span> <span class="s2">&quot;mammal&quot;</span><span class="p">,</span> <span class="s2">&quot;mammal&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;max_speed&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">389</span><span class="p">,</span> <span class="mi">389</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;falcon&quot;</span><span class="p">,</span> <span class="s2">&quot;falcon&quot;</span><span class="p">,</span> <span class="s2">&quot;parrot&quot;</span><span class="p">,</span> <span class="s2">&quot;Lion&quot;</span><span class="p">,</span> <span class="s2">&quot;Monkey&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    class  max_speed    type</span>
<span class="go">0    bird        389  falcon</span>
<span class="go">1    bird        389  falcon</span>
<span class="go">2    bird         24  parrot</span>
<span class="go">3  mammal         80    Lion</span>
<span class="go">4  mammal         21  Monkey</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)[[</span><span class="s1">&#39;max_speed&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_df</span>
<span class="go">         max_speed</span>
<span class="go">              mean median</span>
<span class="go">class</span>
<span class="go">bird    267.333333  389.0</span>
<span class="go">mammal   50.500000   50.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grouped_df</span><span class="o">.</span><span class="n">collapse_levels</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
<span class="go">        max_speed_mean  max_speed_median</span>
<span class="go">class</span>
<span class="go">bird        267.333333             389.0</span>
<span class="go">mammal       50.500000              50.5</span>
</code></pre></div>
    <p>Before applying <code>.collapse_levels</code>, the <code>.agg</code> operation returns a
multi-level column DataFrame whose columns are <code>(level 1, level 2)</code>:</p>
<div class="highlight"><pre><span></span><code><span class="p">[(</span><span class="s2">&quot;max_speed&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;max_speed&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">)]</span>
</code></pre></div>
<p><code>.collapse_levels</code> then flattens the column MultiIndex into a single
level index with names:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="s2">&quot;max_speed_mean&quot;</span><span class="p">,</span> <span class="s2">&quot;max_speed_median&quot;</span><span class="p">]</span>
</code></pre></div>
<p>For more control, a <code>glue</code> specification can be passed,
where the names of the levels are used to control the output of the
flattened index:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">grouped_df</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;column_name&#39;</span><span class="p">,</span> <span class="s1">&#39;agg_name&#39;</span><span class="p">])</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">collapse_levels</span><span class="p">(</span><span class="n">glue</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{agg_name}</span><span class="s2">_</span><span class="si">{column_name}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">        mean_max_speed  median_max_speed</span>
<span class="go">class</span>
<span class="go">bird        267.333333             389.0</span>
<span class="go">mammal       50.500000              50.5</span>
</code></pre></div>
    <p>Note that for <code>glue</code> to work, the keyword arguments
in the glue specification
should be the names of the levels in the MultiIndex.</p>
        <div class="admonition abstract">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.27.0<ul>
<li>Added <code>glue</code> and <code>axis</code> parameters.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sep</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String separator used to join the column level names.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>glue</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A specification on how the column levels should be combined.
It allows for a more granular composition,
and serves as an alternative to <code>sep</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines whether to collapse the
levels on the index or columns.</p>
              </div>
            </td>
            <td>
                  <code>&#39;columns&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with single-level column index.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/collapse_levels.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">collapse_levels</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">glue</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;columns&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Flatten multi-level index/column dataframe to a single level.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Given a DataFrame containing multi-level index/columns, flatten to single-level</span>
<span class="sd">    by string-joining the labels in each level.</span>

<span class="sd">    After a `groupby` / `aggregate` operation where `.agg()` is passed a</span>
<span class="sd">    list of multiple aggregation functions, a multi-level DataFrame is</span>
<span class="sd">    returned with the name of the function applied in the second level.</span>

<span class="sd">    It is sometimes convenient for later indexing to flatten out this</span>
<span class="sd">    multi-level configuration back into a single level. This function does</span>
<span class="sd">    this through a simple string-joining of all the names across different</span>
<span class="sd">    levels in a single column.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;class&quot;: [&quot;bird&quot;, &quot;bird&quot;, &quot;bird&quot;, &quot;mammal&quot;, &quot;mammal&quot;],</span>
<span class="sd">        ...     &quot;max_speed&quot;: [389, 389, 24, 80, 21],</span>
<span class="sd">        ...     &quot;type&quot;: [&quot;falcon&quot;, &quot;falcon&quot;, &quot;parrot&quot;, &quot;Lion&quot;, &quot;Monkey&quot;],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">            class  max_speed    type</span>
<span class="sd">        0    bird        389  falcon</span>
<span class="sd">        1    bird        389  falcon</span>
<span class="sd">        2    bird         24  parrot</span>
<span class="sd">        3  mammal         80    Lion</span>
<span class="sd">        4  mammal         21  Monkey</span>
<span class="sd">        &gt;&gt;&gt; grouped_df = df.groupby(&quot;class&quot;)[[&#39;max_speed&#39;]].agg([&quot;mean&quot;, &quot;median&quot;])</span>
<span class="sd">        &gt;&gt;&gt; grouped_df  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">                 max_speed</span>
<span class="sd">                      mean median</span>
<span class="sd">        class</span>
<span class="sd">        bird    267.333333  389.0</span>
<span class="sd">        mammal   50.500000   50.5</span>
<span class="sd">        &gt;&gt;&gt; grouped_df.collapse_levels(sep=&quot;_&quot;)  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">                max_speed_mean  max_speed_median</span>
<span class="sd">        class</span>
<span class="sd">        bird        267.333333             389.0</span>
<span class="sd">        mammal       50.500000              50.5</span>

<span class="sd">        Before applying `.collapse_levels`, the `.agg` operation returns a</span>
<span class="sd">        multi-level column DataFrame whose columns are `(level 1, level 2)`:</span>

<span class="sd">        ```python</span>
<span class="sd">        [(&quot;max_speed&quot;, &quot;mean&quot;), (&quot;max_speed&quot;, &quot;median&quot;)]</span>
<span class="sd">        ```</span>

<span class="sd">        `.collapse_levels` then flattens the column MultiIndex into a single</span>
<span class="sd">        level index with names:</span>

<span class="sd">        ```python</span>
<span class="sd">        [&quot;max_speed_mean&quot;, &quot;max_speed_median&quot;]</span>
<span class="sd">        ```</span>

<span class="sd">        For more control, a `glue` specification can be passed,</span>
<span class="sd">        where the names of the levels are used to control the output of the</span>
<span class="sd">        flattened index:</span>
<span class="sd">        &gt;&gt;&gt; (grouped_df</span>
<span class="sd">        ...  .rename_axis(columns=[&#39;column_name&#39;, &#39;agg_name&#39;])</span>
<span class="sd">        ...  .collapse_levels(glue=&quot;{agg_name}_{column_name}&quot;)</span>
<span class="sd">        ... )</span>
<span class="sd">                mean_max_speed  median_max_speed</span>
<span class="sd">        class</span>
<span class="sd">        bird        267.333333             389.0</span>
<span class="sd">        mammal       50.500000              50.5</span>

<span class="sd">        Note that for `glue` to work, the keyword arguments</span>
<span class="sd">        in the glue specification</span>
<span class="sd">        should be the names of the levels in the MultiIndex.</span>

<span class="sd">    !!! abstract &quot;Version Changed&quot;</span>

<span class="sd">        - 0.27.0</span>
<span class="sd">            - Added `glue` and `axis` parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        sep: String separator used to join the column level names.</span>
<span class="sd">        glue: A specification on how the column levels should be combined.</span>
<span class="sd">            It allows for a more granular composition,</span>
<span class="sd">            and serves as an alternative to `sep`.</span>
<span class="sd">        axis: Determines whether to collapse the</span>
<span class="sd">            levels on the index or columns.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with single-level column index.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">glue</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Only one of sep or glue should be provided.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">glue</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;glue&quot;</span><span class="p">,</span> <span class="n">glue</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;axis&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span><span class="p">}:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;axis argument should be either &#39;index&#39; or &#39;columns&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="c1"># TODO: Pyarrow offers faster string computations</span>
    <span class="c1"># future work should take this into consideration,</span>
    <span class="c1"># which would require a different route from python&#39;s string.join</span>
    <span class="c1"># since work is only on the columns</span>
    <span class="c1"># it is safe, and more efficient to slice/view the dataframe</span>
    <span class="c1"># plus Pandas creates a new Index altogether</span>
    <span class="c1"># as such, the original dataframe is not modified</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:]</span>
    <span class="n">new_index</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">glue</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">new_index</span> <span class="o">=</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">new_index</span><span class="o">.</span><span class="n">names</span><span class="p">,</span> <span class="n">entry</span><span class="p">))</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">new_index</span><span class="p">]</span>
        <span class="n">new_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">glue</span><span class="o">.</span><span class="n">format_map</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span> <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">new_index</span><span class="p">]</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">new_index</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>
    <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span> <span class="k">if</span> <span class="n">sep</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">sep</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="p">[</span><span class="n">level</span> <span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="n">new_index</span><span class="o">.</span><span class="n">levels</span><span class="p">]</span>
    <span class="n">all_strings</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">is_string_dtype</span><span class="p">,</span> <span class="n">levels</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">all_strings</span><span class="p">:</span>
        <span class="n">no_empty_string</span> <span class="o">=</span> <span class="nb">all</span><span class="p">((</span><span class="n">entry</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">levels</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">no_empty_string</span><span class="p">:</span>
            <span class="n">new_index</span> <span class="o">=</span> <span class="n">new_index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">)</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">new_index</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">df</span>
    <span class="n">new_index</span> <span class="o">=</span> <span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">entry</span><span class="p">)</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">new_index</span><span class="p">)</span>
    <span class="n">new_index</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c1"># faster to use a list comprehension within string.join</span>
        <span class="c1"># compared to a generator</span>
        <span class="c1"># https://stackoverflow.com/a/37782238</span>
        <span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">entry</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">word</span> <span class="k">if</span> <span class="n">entry</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">new_index</span>
    <span class="p">]</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">new_index</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.complete" class="doc doc-heading">
            <code>complete</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.complete.complete" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">complete</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">columns</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">explicit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Complete a data frame with missing combinations of data.</p>
<p>It is modeled after tidyr's <code>complete</code> function.
In a way, it is the inverse of <code>pd.dropna</code>, as it exposes
implicitly missing rows.</p>
<p>The variable <code>columns</code> parameter can be a column name,
a list of column names,
or a pandas Index, Series, or DataFrame.
If a pandas Index, Series, or DataFrame is passed, it should
have a name or names that exist in <code>df</code>.</p>
<p>A callable can also be passed - the callable should evaluate
to a pandas Index, Series, or DataFrame,
and the names of the pandas object should exist in <code>df</code>.</p>
<p>A dictionary can also be passed -
the values of the dictionary should be
either be a 1D array
or a callable that evaluates to a
1D array,
while the keys of the dictionary
should exist in <code>df</code>.</p>
<p>User should ensure that the pandas object is unique and/or sorted
- no checks are done to ensure uniqueness and/or sortedness.</p>
<p>If <code>by</code> is present, the DataFrame is <em>completed</em> per group.
<code>by</code> should be a column name, or a list of column names.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;Year&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1999</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">2004</span><span class="p">,</span> <span class="mi">1999</span><span class="p">,</span> <span class="mi">2004</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Taxon&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>            <span class="s2">&quot;Saccharina&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;Saccharina&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;Saccharina&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;Agarum&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;Agarum&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Abundance&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   Year       Taxon  Abundance</span>
<span class="go">0  1999  Saccharina          4</span>
<span class="go">1  2000  Saccharina          5</span>
<span class="go">2  2004  Saccharina          2</span>
<span class="go">3  1999      Agarum          1</span>
<span class="go">4  2004      Agarum          8</span>
</code></pre></div>
    <p>Expose missing pairings of <code>Year</code> and <code>Taxon</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="s2">&quot;Taxon&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   Year       Taxon  Abundance</span>
<span class="go">0  1999      Agarum        1.0</span>
<span class="go">1  1999  Saccharina        4.0</span>
<span class="go">2  2000      Agarum        NaN</span>
<span class="go">3  2000  Saccharina        5.0</span>
<span class="go">4  2004      Agarum        8.0</span>
<span class="go">5  2004  Saccharina        2.0</span>
</code></pre></div>
    <p>Expose missing years from 1999 to 2004:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span><span class="mi">2005</span><span class="p">),</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s2">&quot;Taxon&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    Year       Taxon  Abundance</span>
<span class="go">0   1999      Agarum        1.0</span>
<span class="go">1   1999  Saccharina        4.0</span>
<span class="go">2   2000      Agarum        NaN</span>
<span class="go">3   2000  Saccharina        5.0</span>
<span class="go">4   2001      Agarum        NaN</span>
<span class="go">5   2001  Saccharina        NaN</span>
<span class="go">6   2002      Agarum        NaN</span>
<span class="go">7   2002  Saccharina        NaN</span>
<span class="go">8   2003      Agarum        NaN</span>
<span class="go">9   2003  Saccharina        NaN</span>
<span class="go">10  2004      Agarum        8.0</span>
<span class="go">11  2004  Saccharina        2.0</span>
</code></pre></div>
    <p>A dictionary can be used as well:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Year&#39;</span><span class="p">:</span><span class="nb">range</span><span class="p">(</span><span class="mi">1999</span><span class="p">,</span><span class="mi">2005</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="s2">&quot;Taxon&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    Year       Taxon  Abundance</span>
<span class="go">0   1999      Agarum        1.0</span>
<span class="go">1   1999  Saccharina        4.0</span>
<span class="go">2   2000      Agarum        NaN</span>
<span class="go">3   2000  Saccharina        5.0</span>
<span class="go">4   2001      Agarum        NaN</span>
<span class="go">5   2001  Saccharina        NaN</span>
<span class="go">6   2002      Agarum        NaN</span>
<span class="go">7   2002  Saccharina        NaN</span>
<span class="go">8   2003      Agarum        NaN</span>
<span class="go">9   2003  Saccharina        NaN</span>
<span class="go">10  2004      Agarum        8.0</span>
<span class="go">11  2004  Saccharina        2.0</span>
</code></pre></div>
    <p>Fill missing values:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">group</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">item_id</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">item_name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">value1</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">value2</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   group  item_id item_name  value1  value2</span>
<span class="go">0      1        1         a     1.0       4</span>
<span class="go">1      2        2         a     NaN       5</span>
<span class="go">2      1        2         b     3.0       6</span>
<span class="go">3      2        3         b     4.0       7</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;group&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s2">&quot;item_id&quot;</span><span class="p">,</span> <span class="s2">&quot;item_name&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">fill_value</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value1&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">},</span>
<span class="gp">... </span>    <span class="n">sort</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   group  item_id item_name  value1  value2</span>
<span class="go">0      1        1         a     1.0     4.0</span>
<span class="go">1      1        2         a     0.0    99.0</span>
<span class="go">2      1        2         b     3.0     6.0</span>
<span class="go">3      1        3         b     0.0    99.0</span>
<span class="go">4      2        1         a     0.0    99.0</span>
<span class="go">5      2        2         a     0.0     5.0</span>
<span class="go">6      2        2         b     0.0    99.0</span>
<span class="go">7      2        3         b     4.0     7.0</span>
</code></pre></div>
    <p>Limit the fill to only implicit missing values
by setting explicit to <code>False</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;group&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s2">&quot;item_id&quot;</span><span class="p">,</span> <span class="s2">&quot;item_name&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">fill_value</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value1&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">},</span>
<span class="gp">... </span>    <span class="n">explicit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sort</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   group  item_id item_name  value1  value2</span>
<span class="go">0      1        1         a     1.0     4.0</span>
<span class="go">1      1        2         a     0.0    99.0</span>
<span class="go">2      1        2         b     3.0     6.0</span>
<span class="go">3      1        3         b     0.0    99.0</span>
<span class="go">4      2        1         a     0.0    99.0</span>
<span class="go">5      2        2         a     NaN     5.0</span>
<span class="go">6      2        2         b     0.0    99.0</span>
<span class="go">7      2        3         b     4.0     7.0</span>
</code></pre></div>
    <p>Expose missing rows per group, using a callable:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;CA&quot;</span><span class="p">,</span> <span class="s2">&quot;CA&quot;</span><span class="p">,</span> <span class="s2">&quot;HI&quot;</span><span class="p">,</span> <span class="s2">&quot;HI&quot;</span><span class="p">,</span> <span class="s2">&quot;HI&quot;</span><span class="p">,</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span> <span class="s2">&quot;NY&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">2013</span><span class="p">,</span> <span class="mi">2010</span><span class="p">,</span> <span class="mi">2012</span><span class="p">,</span> <span class="mi">2016</span><span class="p">,</span> <span class="mi">2009</span><span class="p">,</span> <span class="mi">2013</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  state  year  value</span>
<span class="go">0    CA  2010      1</span>
<span class="go">1    CA  2013      3</span>
<span class="go">2    HI  2010      1</span>
<span class="go">3    HI  2012      2</span>
<span class="go">4    HI  2016      3</span>
<span class="go">5    NY  2009      2</span>
<span class="go">6    NY  2013      5</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">new_year_values</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">RangeIndex</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">stop</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="n">new_year_values</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">&#39;state&#39;</span><span class="p">,</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    state  year  value</span>
<span class="go">0     CA  2010    1.0</span>
<span class="go">1     CA  2011    NaN</span>
<span class="go">2     CA  2012    NaN</span>
<span class="go">3     CA  2013    3.0</span>
<span class="go">4     HI  2010    1.0</span>
<span class="go">5     HI  2011    NaN</span>
<span class="go">6     HI  2012    2.0</span>
<span class="go">7     HI  2013    NaN</span>
<span class="go">8     HI  2014    NaN</span>
<span class="go">9     HI  2015    NaN</span>
<span class="go">10    HI  2016    3.0</span>
<span class="go">11    NY  2009    2.0</span>
<span class="go">12    NY  2010    NaN</span>
<span class="go">13    NY  2011    NaN</span>
<span class="go">14    NY  2012    NaN</span>
<span class="go">15    NY  2013    5.0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*columns</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>This refers to the columns to be completed.
It could be a column name,
a list of column names,
or a pandas Index, Series, or DataFrame.</p>
<p>It can also be a callable that gets evaluated
to a pandas Index, Series, or DataFrame.</p>
<p>It can also be a dictionary,
where the values are either a 1D array
or a callable that evaluates to a
1D array,
while the keys of the dictionary
should exist in <code>df</code>.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sort DataFrame based on *columns.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>by</code>
            </td>
            <td>
                  <code>str | list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label or list of labels to group by.
The explicit missing rows are returned per group.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fill_value</code>
            </td>
            <td>
                  <code>dict | Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scalar value to use instead of NaN
for missing combinations. A dictionary, mapping columns names
to a scalar value is also accepted.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>explicit</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines if only implicitly missing values
should be filled (<code>False</code>), or all nulls existing in the dataframe
(<code>True</code>). <code>explicit</code> is applicable only
if <code>fill_value</code> is not <code>None</code>.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with explicit missing rows, if any.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/complete.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">complete</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">*</span><span class="n">columns</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fill_value</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">explicit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Complete a data frame with missing combinations of data.</span>

<span class="sd">    It is modeled after tidyr&#39;s `complete` function.</span>
<span class="sd">    In a way, it is the inverse of `pd.dropna`, as it exposes</span>
<span class="sd">    implicitly missing rows.</span>

<span class="sd">    The variable `columns` parameter can be a column name,</span>
<span class="sd">    a list of column names,</span>
<span class="sd">    or a pandas Index, Series, or DataFrame.</span>
<span class="sd">    If a pandas Index, Series, or DataFrame is passed, it should</span>
<span class="sd">    have a name or names that exist in `df`.</span>

<span class="sd">    A callable can also be passed - the callable should evaluate</span>
<span class="sd">    to a pandas Index, Series, or DataFrame,</span>
<span class="sd">    and the names of the pandas object should exist in `df`.</span>

<span class="sd">    A dictionary can also be passed -</span>
<span class="sd">    the values of the dictionary should be</span>
<span class="sd">    either be a 1D array</span>
<span class="sd">    or a callable that evaluates to a</span>
<span class="sd">    1D array,</span>
<span class="sd">    while the keys of the dictionary</span>
<span class="sd">    should exist in `df`.</span>

<span class="sd">    User should ensure that the pandas object is unique and/or sorted</span>
<span class="sd">    - no checks are done to ensure uniqueness and/or sortedness.</span>

<span class="sd">    If `by` is present, the DataFrame is *completed* per group.</span>
<span class="sd">    `by` should be a column name, or a list of column names.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;Year&quot;: [1999, 2000, 2004, 1999, 2004],</span>
<span class="sd">        ...         &quot;Taxon&quot;: [</span>
<span class="sd">        ...             &quot;Saccharina&quot;,</span>
<span class="sd">        ...             &quot;Saccharina&quot;,</span>
<span class="sd">        ...             &quot;Saccharina&quot;,</span>
<span class="sd">        ...             &quot;Agarum&quot;,</span>
<span class="sd">        ...             &quot;Agarum&quot;,</span>
<span class="sd">        ...         ],</span>
<span class="sd">        ...         &quot;Abundance&quot;: [4, 5, 2, 1, 8],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           Year       Taxon  Abundance</span>
<span class="sd">        0  1999  Saccharina          4</span>
<span class="sd">        1  2000  Saccharina          5</span>
<span class="sd">        2  2004  Saccharina          2</span>
<span class="sd">        3  1999      Agarum          1</span>
<span class="sd">        4  2004      Agarum          8</span>

<span class="sd">        Expose missing pairings of `Year` and `Taxon`:</span>
<span class="sd">        &gt;&gt;&gt; df.complete(&quot;Year&quot;, &quot;Taxon&quot;, sort=True)</span>
<span class="sd">           Year       Taxon  Abundance</span>
<span class="sd">        0  1999      Agarum        1.0</span>
<span class="sd">        1  1999  Saccharina        4.0</span>
<span class="sd">        2  2000      Agarum        NaN</span>
<span class="sd">        3  2000  Saccharina        5.0</span>
<span class="sd">        4  2004      Agarum        8.0</span>
<span class="sd">        5  2004  Saccharina        2.0</span>

<span class="sd">        Expose missing years from 1999 to 2004:</span>
<span class="sd">        &gt;&gt;&gt; index = pd.Index(range(1999,2005),name=&#39;Year&#39;)</span>
<span class="sd">        &gt;&gt;&gt; df.complete(index, &quot;Taxon&quot;, sort=True)</span>
<span class="sd">            Year       Taxon  Abundance</span>
<span class="sd">        0   1999      Agarum        1.0</span>
<span class="sd">        1   1999  Saccharina        4.0</span>
<span class="sd">        2   2000      Agarum        NaN</span>
<span class="sd">        3   2000  Saccharina        5.0</span>
<span class="sd">        4   2001      Agarum        NaN</span>
<span class="sd">        5   2001  Saccharina        NaN</span>
<span class="sd">        6   2002      Agarum        NaN</span>
<span class="sd">        7   2002  Saccharina        NaN</span>
<span class="sd">        8   2003      Agarum        NaN</span>
<span class="sd">        9   2003  Saccharina        NaN</span>
<span class="sd">        10  2004      Agarum        8.0</span>
<span class="sd">        11  2004  Saccharina        2.0</span>

<span class="sd">        A dictionary can be used as well:</span>
<span class="sd">        &gt;&gt;&gt; dictionary = {&#39;Year&#39;:range(1999,2005)}</span>
<span class="sd">        &gt;&gt;&gt; df.complete(dictionary, &quot;Taxon&quot;, sort=True)</span>
<span class="sd">            Year       Taxon  Abundance</span>
<span class="sd">        0   1999      Agarum        1.0</span>
<span class="sd">        1   1999  Saccharina        4.0</span>
<span class="sd">        2   2000      Agarum        NaN</span>
<span class="sd">        3   2000  Saccharina        5.0</span>
<span class="sd">        4   2001      Agarum        NaN</span>
<span class="sd">        5   2001  Saccharina        NaN</span>
<span class="sd">        6   2002      Agarum        NaN</span>
<span class="sd">        7   2002  Saccharina        NaN</span>
<span class="sd">        8   2003      Agarum        NaN</span>
<span class="sd">        9   2003  Saccharina        NaN</span>
<span class="sd">        10  2004      Agarum        8.0</span>
<span class="sd">        11  2004  Saccharina        2.0</span>

<span class="sd">        Fill missing values:</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     dict(</span>
<span class="sd">        ...         group=(1, 2, 1, 2),</span>
<span class="sd">        ...         item_id=(1, 2, 2, 3),</span>
<span class="sd">        ...         item_name=(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;),</span>
<span class="sd">        ...         value1=(1, np.nan, 3, 4),</span>
<span class="sd">        ...         value2=range(4, 8),</span>
<span class="sd">        ...     )</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           group  item_id item_name  value1  value2</span>
<span class="sd">        0      1        1         a     1.0       4</span>
<span class="sd">        1      2        2         a     NaN       5</span>
<span class="sd">        2      1        2         b     3.0       6</span>
<span class="sd">        3      2        3         b     4.0       7</span>

<span class="sd">        &gt;&gt;&gt; df.complete(</span>
<span class="sd">        ...     &quot;group&quot;,</span>
<span class="sd">        ...     [&quot;item_id&quot;, &quot;item_name&quot;],</span>
<span class="sd">        ...     fill_value={&quot;value1&quot;: 0, &quot;value2&quot;: 99},</span>
<span class="sd">        ...     sort=True</span>
<span class="sd">        ... )</span>
<span class="sd">           group  item_id item_name  value1  value2</span>
<span class="sd">        0      1        1         a     1.0     4.0</span>
<span class="sd">        1      1        2         a     0.0    99.0</span>
<span class="sd">        2      1        2         b     3.0     6.0</span>
<span class="sd">        3      1        3         b     0.0    99.0</span>
<span class="sd">        4      2        1         a     0.0    99.0</span>
<span class="sd">        5      2        2         a     0.0     5.0</span>
<span class="sd">        6      2        2         b     0.0    99.0</span>
<span class="sd">        7      2        3         b     4.0     7.0</span>

<span class="sd">        Limit the fill to only implicit missing values</span>
<span class="sd">        by setting explicit to `False`:</span>
<span class="sd">        &gt;&gt;&gt; df.complete(</span>
<span class="sd">        ...     &quot;group&quot;,</span>
<span class="sd">        ...     [&quot;item_id&quot;, &quot;item_name&quot;],</span>
<span class="sd">        ...     fill_value={&quot;value1&quot;: 0, &quot;value2&quot;: 99},</span>
<span class="sd">        ...     explicit=False,</span>
<span class="sd">        ...     sort=True</span>
<span class="sd">        ... )</span>
<span class="sd">           group  item_id item_name  value1  value2</span>
<span class="sd">        0      1        1         a     1.0     4.0</span>
<span class="sd">        1      1        2         a     0.0    99.0</span>
<span class="sd">        2      1        2         b     3.0     6.0</span>
<span class="sd">        3      1        3         b     0.0    99.0</span>
<span class="sd">        4      2        1         a     0.0    99.0</span>
<span class="sd">        5      2        2         a     NaN     5.0</span>
<span class="sd">        6      2        2         b     0.0    99.0</span>
<span class="sd">        7      2        3         b     4.0     7.0</span>

<span class="sd">        Expose missing rows per group, using a callable:</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;state&quot;: [&quot;CA&quot;, &quot;CA&quot;, &quot;HI&quot;, &quot;HI&quot;, &quot;HI&quot;, &quot;NY&quot;, &quot;NY&quot;],</span>
<span class="sd">        ...         &quot;year&quot;: [2010, 2013, 2010, 2012, 2016, 2009, 2013],</span>
<span class="sd">        ...         &quot;value&quot;: [1, 3, 1, 2, 3, 2, 5],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          state  year  value</span>
<span class="sd">        0    CA  2010      1</span>
<span class="sd">        1    CA  2013      3</span>
<span class="sd">        2    HI  2010      1</span>
<span class="sd">        3    HI  2012      2</span>
<span class="sd">        4    HI  2016      3</span>
<span class="sd">        5    NY  2009      2</span>
<span class="sd">        6    NY  2013      5</span>

<span class="sd">        &gt;&gt;&gt; def new_year_values(df):</span>
<span class="sd">        ...     return pd.RangeIndex(start=df.year.min(), stop=df.year.max() + 1, name=&#39;year&#39;)</span>
<span class="sd">        &gt;&gt;&gt; df.complete(new_year_values, by=&#39;state&#39;,sort=True)</span>
<span class="sd">            state  year  value</span>
<span class="sd">        0     CA  2010    1.0</span>
<span class="sd">        1     CA  2011    NaN</span>
<span class="sd">        2     CA  2012    NaN</span>
<span class="sd">        3     CA  2013    3.0</span>
<span class="sd">        4     HI  2010    1.0</span>
<span class="sd">        5     HI  2011    NaN</span>
<span class="sd">        6     HI  2012    2.0</span>
<span class="sd">        7     HI  2013    NaN</span>
<span class="sd">        8     HI  2014    NaN</span>
<span class="sd">        9     HI  2015    NaN</span>
<span class="sd">        10    HI  2016    3.0</span>
<span class="sd">        11    NY  2009    2.0</span>
<span class="sd">        12    NY  2010    NaN</span>
<span class="sd">        13    NY  2011    NaN</span>
<span class="sd">        14    NY  2012    NaN</span>
<span class="sd">        15    NY  2013    5.0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        *columns: This refers to the columns to be completed.</span>
<span class="sd">            It could be a column name,</span>
<span class="sd">            a list of column names,</span>
<span class="sd">            or a pandas Index, Series, or DataFrame.</span>

<span class="sd">            It can also be a callable that gets evaluated</span>
<span class="sd">            to a pandas Index, Series, or DataFrame.</span>

<span class="sd">            It can also be a dictionary,</span>
<span class="sd">            where the values are either a 1D array</span>
<span class="sd">            or a callable that evaluates to a</span>
<span class="sd">            1D array,</span>
<span class="sd">            while the keys of the dictionary</span>
<span class="sd">            should exist in `df`.</span>
<span class="sd">        sort: Sort DataFrame based on *columns.</span>
<span class="sd">        by: Label or list of labels to group by.</span>
<span class="sd">            The explicit missing rows are returned per group.</span>
<span class="sd">        fill_value: Scalar value to use instead of NaN</span>
<span class="sd">            for missing combinations. A dictionary, mapping columns names</span>
<span class="sd">            to a scalar value is also accepted.</span>
<span class="sd">        explicit: Determines if only implicitly missing values</span>
<span class="sd">            should be filled (`False`), or all nulls existing in the dataframe</span>
<span class="sd">            (`True`). `explicit` is applicable only</span>
<span class="sd">            if `fill_value` is not `None`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with explicit missing rows, if any.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">columns</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span>
    <span class="k">return</span> <span class="n">_computations_complete</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="p">,</span> <span class="n">sort</span><span class="p">,</span> <span class="n">by</span><span class="p">,</span> <span class="n">fill_value</span><span class="p">,</span> <span class="n">explicit</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.concatenate_columns" class="doc doc-heading">
            <code>concatenate_columns</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.concatenate_columns.concatenate_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">concatenate_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">new_column_name</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">ignore_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Concatenates the set of columns into a single column.</p>
<p>Used to quickly generate an index based on a group of columns.</p>
<p>This method mutates the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Concatenate two columns row-wise.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b</span>
<span class="go">0  1  x</span>
<span class="go">1  3  y</span>
<span class="go">2  5  z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">concatenate_columns</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="n">new_column_name</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   a  b    m</span>
<span class="go">0  1  x  1-x</span>
<span class="go">1  3  y  3-y</span>
<span class="go">2  5  z  5-z</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>List[Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of columns to concatenate together.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the new column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sep</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The separator between each column's data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;-&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ignore_empty</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Ignore null values if exists.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>JanitorError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If at least two columns are not provided
within <code>column_names</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with concatenated columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/concatenate_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">concatenate_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Hashable</span><span class="p">],</span>
    <span class="n">new_column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span>
    <span class="n">ignore_empty</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Concatenates the set of columns into a single column.</span>

<span class="sd">    Used to quickly generate an index based on a group of columns.</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Concatenate two columns row-wise.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [1, 3, 5], &quot;b&quot;: list(&quot;xyz&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b</span>
<span class="sd">        0  1  x</span>
<span class="sd">        1  3  y</span>
<span class="sd">        2  5  z</span>
<span class="sd">        &gt;&gt;&gt; df.concatenate_columns(</span>
<span class="sd">        ...     column_names=[&quot;a&quot;, &quot;b&quot;], new_column_name=&quot;m&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           a  b    m</span>
<span class="sd">        0  1  x  1-x</span>
<span class="sd">        1  3  y  3-y</span>
<span class="sd">        2  5  z  5-z</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: A list of columns to concatenate together.</span>
<span class="sd">        new_column_name: The name of the new column.</span>
<span class="sd">        sep: The separator between each column&#39;s data.</span>
<span class="sd">        ignore_empty: Ignore null values if exists.</span>

<span class="sd">    Raises:</span>
<span class="sd">        JanitorError: If at least two columns are not provided</span>
<span class="sd">            within `column_names`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with concatenated columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">column_names</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">JanitorError</span><span class="p">(</span><span class="s2">&quot;At least two columns must be specified&quot;</span><span class="p">)</span>

    <span class="n">df</span><span class="p">[</span><span class="n">new_column_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_names</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">ignore_empty</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">remove_empty_string</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Ignore empty/null string values from the concatenated output.&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="p">)</span>

        <span class="n">df</span><span class="p">[</span><span class="n">new_column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">new_column_name</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
            <span class="n">remove_empty_string</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.conditional_join" class="doc doc-heading">
            <code>conditional_join</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.conditional_join.conditional_join" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">conditional_join</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="o">*</span><span class="n">conditions</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">df_columns</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="n">right_columns</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">use_numba</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>The conditional_join function operates similarly to <code>pd.merge</code>,
but supports joins on inequality operators,
or a combination of equi and non-equi joins.</p>
<p>Joins solely on equality are not supported.</p>
<p>If the join is solely on equality, <code>pd.merge</code> function
covers that; if you are interested in nearest joins, asof joins,
or rolling joins, then <code>pd.merge_asof</code> covers that.
There is also pandas' IntervalIndex, which is efficient for range joins,
especially if the intervals do not overlap.</p>
<p>Column selection in <code>df_columns</code> and <code>right_columns</code> is possible using the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
<p>Performance might be improved by setting <code>use_numba</code> to <code>True</code> -
this can be handy for equi joins that have lots of duplicated keys.
This can also be handy for non-equi joins, where there are more than
two join conditions,
or there is significant overlap in the range join columns.
This assumes that <code>numba</code> is installed.</p>
<p>Noticeable performance can be observed for range joins,
if both join columns from the right dataframe
are monotonically increasing.</p>
<p>This function returns rows, if any, where values from <code>df</code> meet the
condition(s) for values from <code>right</code>. The conditions are passed in
as a variable argument of tuples, where the tuple is of
the form <code>(left_on, right_on, op)</code>; <code>left_on</code> is the column
label from <code>df</code>, <code>right_on</code> is the column label from <code>right</code>,
while <code>op</code> is the operator.</p>
<p>For multiple conditions, the and(<code>&amp;</code>)
operator is used to combine the results of the individual conditions.</p>
<p>In some scenarios there might be performance gains if the less than join,
or the greater than join condition, or the range condition
is executed before the equi join - pass <code>force=True</code> to force this.</p>
<p>The operator can be any of <code>==</code>, <code>!=</code>, <code>&lt;=</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&gt;</code>.</p>
<p>There is no optimisation for the <code>!=</code> operator.</p>
<p>The join is done only on the columns.</p>
<p>For non-equi joins, only numeric, timedelta and date columns are supported.</p>
<p><code>inner</code>, <code>left</code>, <code>right</code> and <code>outer</code> joins are supported.</p>
<p>If the columns from <code>df</code> and <code>right</code> have nothing in common,
a single index column is returned; else, a MultiIndex column
is returned.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;value_1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;value_2A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s2">&quot;value_2B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span>
<span class="go">   value_1</span>
<span class="go">0        2</span>
<span class="go">1        5</span>
<span class="go">2        7</span>
<span class="go">3        1</span>
<span class="go">4        3</span>
<span class="go">5        4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span>
<span class="go">   value_2A  value_2B</span>
<span class="go">0         0         1</span>
<span class="go">1         3         5</span>
<span class="go">2         7         9</span>
<span class="go">3        12        15</span>
<span class="go">4         0         1</span>
<span class="go">5         2         4</span>
<span class="go">6         3         6</span>
<span class="go">7         1         3</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">conditional_join</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2B&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   value_1  value_2A  value_2B</span>
<span class="go">0        2         1         3</span>
<span class="go">1        5         3         6</span>
<span class="go">2        3         2         4</span>
<span class="go">3        4         3         5</span>
<span class="go">4        4         3         6</span>
</code></pre></div>
    <p>Select specific columns, after the join:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">conditional_join</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2B&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">right_columns</span><span class="o">=</span><span class="s1">&#39;value_2B&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   value_1  value_2B</span>
<span class="go">0        2       3.0</span>
<span class="go">1        5       6.0</span>
<span class="go">2        3       4.0</span>
<span class="go">3        4       5.0</span>
<span class="go">4        4       6.0</span>
<span class="go">5        7       NaN</span>
<span class="go">6        1       NaN</span>
</code></pre></div>
    <p>Rename columns, before the join:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">df1</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value_1&#39;</span><span class="p">:</span><span class="s1">&#39;left_column&#39;</span><span class="p">})</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">conditional_join</span><span class="p">(</span>
<span class="gp">... </span>     <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;left_column&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;left_column&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2B&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>     <span class="n">right_columns</span><span class="o">=</span><span class="s1">&#39;value_2B&#39;</span><span class="p">,</span>
<span class="gp">... </span>     <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">    left_column  value_2B</span>
<span class="go">0           2.0       3.0</span>
<span class="go">1           5.0       6.0</span>
<span class="go">2           3.0       4.0</span>
<span class="go">3           4.0       5.0</span>
<span class="go">4           4.0       6.0</span>
<span class="go">5           7.0       NaN</span>
<span class="go">6           1.0       NaN</span>
<span class="go">7           NaN       1.0</span>
<span class="go">8           NaN       9.0</span>
<span class="go">9           NaN      15.0</span>
<span class="go">10          NaN       1.0</span>
</code></pre></div>
    <p>Get the first match:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">conditional_join</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2B&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   value_1  value_2A  value_2B</span>
<span class="go">0        2         1         3</span>
<span class="go">1        5         3         6</span>
<span class="go">2        3         2         4</span>
<span class="go">3        4         3         5</span>
</code></pre></div>
    <p>Get the last match:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">conditional_join</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2B&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;last&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   value_1  value_2A  value_2B</span>
<span class="go">0        2         1         3</span>
<span class="go">1        5         3         6</span>
<span class="go">2        3         2         4</span>
<span class="go">3        4         3         6</span>
</code></pre></div>
    <p>Add an indicator column:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">conditional_join</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2A&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s2">&quot;value_1&quot;</span><span class="p">,</span> <span class="s2">&quot;value_2B&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">indicator</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">    value_1  value_2A  value_2B      _merge</span>
<span class="go">0       2.0       1.0       3.0        both</span>
<span class="go">1       5.0       3.0       6.0        both</span>
<span class="go">2       3.0       2.0       4.0        both</span>
<span class="go">3       4.0       3.0       5.0        both</span>
<span class="go">4       4.0       3.0       6.0        both</span>
<span class="go">5       7.0       NaN       NaN   left_only</span>
<span class="go">6       1.0       NaN       NaN   left_only</span>
<span class="go">7       NaN       0.0       1.0  right_only</span>
<span class="go">8       NaN       7.0       9.0  right_only</span>
<span class="go">9       NaN      12.0      15.0  right_only</span>
<span class="go">10      NaN       0.0       1.0  right_only</span>
</code></pre></div>
        <div class="admonition abstract">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.24.0<ul>
<li>Added <code>df_columns</code>, <code>right_columns</code>, <code>keep</code> and <code>use_numba</code> parameters.</li>
</ul>
</li>
<li>0.24.1<ul>
<li>Added <code>indicator</code> parameter.</li>
</ul>
</li>
<li>0.25.0<ul>
<li><code>col</code> class supported.</li>
<li>Outer join supported. <code>sort_by_appearance</code> deprecated.</li>
<li>Numba support for equi join</li>
</ul>
</li>
<li>0.27.0<ul>
<li>Added support for timedelta dtype.</li>
</ul>
</li>
<li>0.28.0<ul>
<li><code>col</code> class deprecated.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>right</code>
            </td>
            <td>
                  <code>Union[DataFrame, Series]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Named Series or DataFrame to join to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conditions</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Variable argument of tuple(s) of the form
<code>(left_on, right_on, op)</code>, where <code>left_on</code> is the column
label from <code>df</code>, <code>right_on</code> is the column label from <code>right</code>,
while <code>op</code> is the operator.
The <code>col</code> class is also supported. The operator can be any of
<code>==</code>, <code>!=</code>, <code>&lt;=</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&gt;</code>. For multiple conditions,
the and(<code>&amp;</code>) operator is used to combine the results
of the individual conditions.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>how</code>
            </td>
            <td>
                  <code>Literal[&#39;inner&#39;, &#39;left&#39;, &#39;right&#39;, &#39;outer&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates the type of join to be performed.
It can be one of <code>inner</code>, <code>left</code>, <code>right</code> or <code>outer</code>.</p>
              </div>
            </td>
            <td>
                  <code>&#39;inner&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>df_columns</code>
            </td>
            <td>
                  <code>Optional[Any]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Columns to select from <code>df</code> in the final output dataframe.
Column selection is based on the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
              </div>
            </td>
            <td>
                  <code>slice(None)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>right_columns</code>
            </td>
            <td>
                  <code>Optional[Any]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Columns to select from <code>right</code> in the final output dataframe.
Column selection is based on the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
              </div>
            </td>
            <td>
                  <code>slice(None)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_numba</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use numba, if installed, to accelerate the computation.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep</code>
            </td>
            <td>
                  <code>Literal[&#39;first&#39;, &#39;last&#39;, &#39;all&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Choose whether to return the first match, last match or all matches.</p>
              </div>
            </td>
            <td>
                  <code>&#39;all&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>indicator</code>
            </td>
            <td>
                  <code>Optional[Union[bool, str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, adds a column to the output DataFrame
called <code>_merge</code> with information on the source of each row.
The column can be given a different name by providing a string argument.
The column will have a Categorical type with the value of <code>left_only</code>
for observations whose merge key only appears in the left DataFrame,
<code>right_only</code> for observations whose merge key
only appears in the right DataFrame, and <code>both</code> if the observations
merge key is found in both DataFrames.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, force the non-equi join conditions to execute before the equi join.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame of the two merged Pandas objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/conditional_join.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">conditional_join</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">right</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">],</span>
    <span class="o">*</span><span class="n">conditions</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">how</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;outer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">df_columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">right_columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">keep</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;last&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="n">use_numba</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">indicator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The conditional_join function operates similarly to `pd.merge`,</span>
<span class="sd">    but supports joins on inequality operators,</span>
<span class="sd">    or a combination of equi and non-equi joins.</span>

<span class="sd">    Joins solely on equality are not supported.</span>

<span class="sd">    If the join is solely on equality, `pd.merge` function</span>
<span class="sd">    covers that; if you are interested in nearest joins, asof joins,</span>
<span class="sd">    or rolling joins, then `pd.merge_asof` covers that.</span>
<span class="sd">    There is also pandas&#39; IntervalIndex, which is efficient for range joins,</span>
<span class="sd">    especially if the intervals do not overlap.</span>

<span class="sd">    Column selection in `df_columns` and `right_columns` is possible using the</span>
<span class="sd">    [`select`][janitor.functions.select.select] syntax.</span>

<span class="sd">    Performance might be improved by setting `use_numba` to `True` -</span>
<span class="sd">    this can be handy for equi joins that have lots of duplicated keys.</span>
<span class="sd">    This can also be handy for non-equi joins, where there are more than</span>
<span class="sd">    two join conditions,</span>
<span class="sd">    or there is significant overlap in the range join columns.</span>
<span class="sd">    This assumes that `numba` is installed.</span>

<span class="sd">    Noticeable performance can be observed for range joins,</span>
<span class="sd">    if both join columns from the right dataframe</span>
<span class="sd">    are monotonically increasing.</span>

<span class="sd">    This function returns rows, if any, where values from `df` meet the</span>
<span class="sd">    condition(s) for values from `right`. The conditions are passed in</span>
<span class="sd">    as a variable argument of tuples, where the tuple is of</span>
<span class="sd">    the form `(left_on, right_on, op)`; `left_on` is the column</span>
<span class="sd">    label from `df`, `right_on` is the column label from `right`,</span>
<span class="sd">    while `op` is the operator.</span>

<span class="sd">    For multiple conditions, the and(`&amp;`)</span>
<span class="sd">    operator is used to combine the results of the individual conditions.</span>

<span class="sd">    In some scenarios there might be performance gains if the less than join,</span>
<span class="sd">    or the greater than join condition, or the range condition</span>
<span class="sd">    is executed before the equi join - pass `force=True` to force this.</span>

<span class="sd">    The operator can be any of `==`, `!=`, `&lt;=`, `&lt;`, `&gt;=`, `&gt;`.</span>

<span class="sd">    There is no optimisation for the `!=` operator.</span>

<span class="sd">    The join is done only on the columns.</span>

<span class="sd">    For non-equi joins, only numeric, timedelta and date columns are supported.</span>

<span class="sd">    `inner`, `left`, `right` and `outer` joins are supported.</span>

<span class="sd">    If the columns from `df` and `right` have nothing in common,</span>
<span class="sd">    a single index column is returned; else, a MultiIndex column</span>
<span class="sd">    is returned.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df1 = pd.DataFrame({&quot;value_1&quot;: [2, 5, 7, 1, 3, 4]})</span>
<span class="sd">        &gt;&gt;&gt; df2 = pd.DataFrame({&quot;value_2A&quot;: [0, 3, 7, 12, 0, 2, 3, 1],</span>
<span class="sd">        ...                     &quot;value_2B&quot;: [1, 5, 9, 15, 1, 4, 6, 3],</span>
<span class="sd">        ...                    })</span>
<span class="sd">        &gt;&gt;&gt; df1</span>
<span class="sd">           value_1</span>
<span class="sd">        0        2</span>
<span class="sd">        1        5</span>
<span class="sd">        2        7</span>
<span class="sd">        3        1</span>
<span class="sd">        4        3</span>
<span class="sd">        5        4</span>
<span class="sd">        &gt;&gt;&gt; df2</span>
<span class="sd">           value_2A  value_2B</span>
<span class="sd">        0         0         1</span>
<span class="sd">        1         3         5</span>
<span class="sd">        2         7         9</span>
<span class="sd">        3        12        15</span>
<span class="sd">        4         0         1</span>
<span class="sd">        5         2         4</span>
<span class="sd">        6         3         6</span>
<span class="sd">        7         1         3</span>

<span class="sd">        &gt;&gt;&gt; df1.conditional_join(</span>
<span class="sd">        ...     df2,</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2A&quot;, &quot;&gt;&quot;),</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2B&quot;, &quot;&lt;&quot;)</span>
<span class="sd">        ... )</span>
<span class="sd">           value_1  value_2A  value_2B</span>
<span class="sd">        0        2         1         3</span>
<span class="sd">        1        5         3         6</span>
<span class="sd">        2        3         2         4</span>
<span class="sd">        3        4         3         5</span>
<span class="sd">        4        4         3         6</span>

<span class="sd">        Select specific columns, after the join:</span>
<span class="sd">        &gt;&gt;&gt; df1.conditional_join(</span>
<span class="sd">        ...     df2,</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2A&quot;, &quot;&gt;&quot;),</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2B&quot;, &quot;&lt;&quot;),</span>
<span class="sd">        ...     right_columns=&#39;value_2B&#39;,</span>
<span class="sd">        ...     how=&#39;left&#39;</span>
<span class="sd">        ... )</span>
<span class="sd">           value_1  value_2B</span>
<span class="sd">        0        2       3.0</span>
<span class="sd">        1        5       6.0</span>
<span class="sd">        2        3       4.0</span>
<span class="sd">        3        4       5.0</span>
<span class="sd">        4        4       6.0</span>
<span class="sd">        5        7       NaN</span>
<span class="sd">        6        1       NaN</span>

<span class="sd">        Rename columns, before the join:</span>
<span class="sd">        &gt;&gt;&gt; (df1</span>
<span class="sd">        ...  .rename(columns={&#39;value_1&#39;:&#39;left_column&#39;})</span>
<span class="sd">        ...  .conditional_join(</span>
<span class="sd">        ...      df2,</span>
<span class="sd">        ...     (&quot;left_column&quot;, &quot;value_2A&quot;, &quot;&gt;&quot;),</span>
<span class="sd">        ...     (&quot;left_column&quot;, &quot;value_2B&quot;, &quot;&lt;&quot;),</span>
<span class="sd">        ...      right_columns=&#39;value_2B&#39;,</span>
<span class="sd">        ...      how=&#39;outer&#39;)</span>
<span class="sd">        ... )</span>
<span class="sd">            left_column  value_2B</span>
<span class="sd">        0           2.0       3.0</span>
<span class="sd">        1           5.0       6.0</span>
<span class="sd">        2           3.0       4.0</span>
<span class="sd">        3           4.0       5.0</span>
<span class="sd">        4           4.0       6.0</span>
<span class="sd">        5           7.0       NaN</span>
<span class="sd">        6           1.0       NaN</span>
<span class="sd">        7           NaN       1.0</span>
<span class="sd">        8           NaN       9.0</span>
<span class="sd">        9           NaN      15.0</span>
<span class="sd">        10          NaN       1.0</span>

<span class="sd">        Get the first match:</span>
<span class="sd">        &gt;&gt;&gt; df1.conditional_join(</span>
<span class="sd">        ...     df2,</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2A&quot;, &quot;&gt;&quot;),</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2B&quot;, &quot;&lt;&quot;),</span>
<span class="sd">        ...     keep=&#39;first&#39;</span>
<span class="sd">        ... )</span>
<span class="sd">           value_1  value_2A  value_2B</span>
<span class="sd">        0        2         1         3</span>
<span class="sd">        1        5         3         6</span>
<span class="sd">        2        3         2         4</span>
<span class="sd">        3        4         3         5</span>

<span class="sd">        Get the last match:</span>
<span class="sd">        &gt;&gt;&gt; df1.conditional_join(</span>
<span class="sd">        ...     df2,</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2A&quot;, &quot;&gt;&quot;),</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2B&quot;, &quot;&lt;&quot;),</span>
<span class="sd">        ...     keep=&#39;last&#39;</span>
<span class="sd">        ... )</span>
<span class="sd">           value_1  value_2A  value_2B</span>
<span class="sd">        0        2         1         3</span>
<span class="sd">        1        5         3         6</span>
<span class="sd">        2        3         2         4</span>
<span class="sd">        3        4         3         6</span>

<span class="sd">        Add an indicator column:</span>
<span class="sd">        &gt;&gt;&gt; df1.conditional_join(</span>
<span class="sd">        ...     df2,</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2A&quot;, &quot;&gt;&quot;),</span>
<span class="sd">        ...     (&quot;value_1&quot;, &quot;value_2B&quot;, &quot;&lt;&quot;),</span>
<span class="sd">        ...     how=&#39;outer&#39;,</span>
<span class="sd">        ...     indicator=True</span>
<span class="sd">        ... )</span>
<span class="sd">            value_1  value_2A  value_2B      _merge</span>
<span class="sd">        0       2.0       1.0       3.0        both</span>
<span class="sd">        1       5.0       3.0       6.0        both</span>
<span class="sd">        2       3.0       2.0       4.0        both</span>
<span class="sd">        3       4.0       3.0       5.0        both</span>
<span class="sd">        4       4.0       3.0       6.0        both</span>
<span class="sd">        5       7.0       NaN       NaN   left_only</span>
<span class="sd">        6       1.0       NaN       NaN   left_only</span>
<span class="sd">        7       NaN       0.0       1.0  right_only</span>
<span class="sd">        8       NaN       7.0       9.0  right_only</span>
<span class="sd">        9       NaN      12.0      15.0  right_only</span>
<span class="sd">        10      NaN       0.0       1.0  right_only</span>

<span class="sd">    !!! abstract &quot;Version Changed&quot;</span>

<span class="sd">        - 0.24.0</span>
<span class="sd">            - Added `df_columns`, `right_columns`, `keep` and `use_numba` parameters.</span>
<span class="sd">        - 0.24.1</span>
<span class="sd">            - Added `indicator` parameter.</span>
<span class="sd">        - 0.25.0</span>
<span class="sd">            - `col` class supported.</span>
<span class="sd">            - Outer join supported. `sort_by_appearance` deprecated.</span>
<span class="sd">            - Numba support for equi join</span>
<span class="sd">        - 0.27.0</span>
<span class="sd">            - Added support for timedelta dtype.</span>
<span class="sd">        - 0.28.0</span>
<span class="sd">            - `col` class deprecated.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        right: Named Series or DataFrame to join to.</span>
<span class="sd">        conditions: Variable argument of tuple(s) of the form</span>
<span class="sd">            `(left_on, right_on, op)`, where `left_on` is the column</span>
<span class="sd">            label from `df`, `right_on` is the column label from `right`,</span>
<span class="sd">            while `op` is the operator.</span>
<span class="sd">            The `col` class is also supported. The operator can be any of</span>
<span class="sd">            `==`, `!=`, `&lt;=`, `&lt;`, `&gt;=`, `&gt;`. For multiple conditions,</span>
<span class="sd">            the and(`&amp;`) operator is used to combine the results</span>
<span class="sd">            of the individual conditions.</span>
<span class="sd">        how: Indicates the type of join to be performed.</span>
<span class="sd">            It can be one of `inner`, `left`, `right` or `outer`.</span>
<span class="sd">        df_columns: Columns to select from `df` in the final output dataframe.</span>
<span class="sd">            Column selection is based on the</span>
<span class="sd">            [`select`][janitor.functions.select.select] syntax.</span>
<span class="sd">        right_columns: Columns to select from `right` in the final output dataframe.</span>
<span class="sd">            Column selection is based on the</span>
<span class="sd">            [`select`][janitor.functions.select.select] syntax.</span>
<span class="sd">        use_numba: Use numba, if installed, to accelerate the computation.</span>
<span class="sd">        keep: Choose whether to return the first match, last match or all matches.</span>
<span class="sd">        indicator: If `True`, adds a column to the output DataFrame</span>
<span class="sd">            called `_merge` with information on the source of each row.</span>
<span class="sd">            The column can be given a different name by providing a string argument.</span>
<span class="sd">            The column will have a Categorical type with the value of `left_only`</span>
<span class="sd">            for observations whose merge key only appears in the left DataFrame,</span>
<span class="sd">            `right_only` for observations whose merge key</span>
<span class="sd">            only appears in the right DataFrame, and `both` if the observations</span>
<span class="sd">            merge key is found in both DataFrames.</span>
<span class="sd">        force: If `True`, force the non-equi join conditions to execute before the equi join.</span>


<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame of the two merged Pandas objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">return</span> <span class="n">_conditional_join_compute</span><span class="p">(</span>
        <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">,</span>
        <span class="n">conditions</span><span class="o">=</span><span class="n">conditions</span><span class="p">,</span>
        <span class="n">how</span><span class="o">=</span><span class="n">how</span><span class="p">,</span>
        <span class="n">df_columns</span><span class="o">=</span><span class="n">df_columns</span><span class="p">,</span>
        <span class="n">right_columns</span><span class="o">=</span><span class="n">right_columns</span><span class="p">,</span>
        <span class="n">keep</span><span class="o">=</span><span class="n">keep</span><span class="p">,</span>
        <span class="n">use_numba</span><span class="o">=</span><span class="n">use_numba</span><span class="p">,</span>
        <span class="n">indicator</span><span class="o">=</span><span class="n">indicator</span><span class="p">,</span>
        <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.conditional_join.get_join_indices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_join_indices</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">conditions</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">use_numba</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_ragged_arrays</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convenience function to return the matching indices from an inner join.</p>
<div class="admonition info">
<p class="admonition-title">New in version 0.27.0</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.29.0<ul>
<li>Add support for ragged array indices.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>right</code>
            </td>
            <td>
                  <code>Union[DataFrame, Series]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Named Series or DataFrame to join to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conditions</code>
            </td>
            <td>
                  <code>list[tuple[str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of arguments of tuple(s) of the form
<code>(left_on, right_on, op)</code>, where <code>left_on</code> is the column
label from <code>df</code>, <code>right_on</code> is the column label from <code>right</code>,
while <code>op</code> is the operator.
The <code>col</code> class is also supported. The operator can be any of
<code>==</code>, <code>!=</code>, <code>&lt;=</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&gt;</code>. For multiple conditions,
the and(<code>&amp;</code>) operator is used to combine the results
of the individual conditions.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_numba</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use numba, if installed, to accelerate the computation.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep</code>
            </td>
            <td>
                  <code>Literal[&#39;first&#39;, &#39;last&#39;, &#39;all&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Choose whether to return the first match, last match or all matches.</p>
              </div>
            </td>
            <td>
                  <code>&#39;all&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, force the non-equi join conditions
to execute before the equi join.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>return_ragged_arrays</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, return slices/ranges of matching right indices
for each matching left index. Not applicable if <code>use_numba</code> is <code>True</code>.
If <code>return_ragged_arrays</code> is <code>True</code>, the join condition
should be a single join, or a range join,
where the right columns are both monotonically increasing.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[ndarray, ndarray]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple of indices for the rows in the dataframes that match.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/conditional_join.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_join_indices</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">right</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">],</span>
    <span class="n">conditions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">keep</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;last&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="n">use_numba</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">return_ragged_arrays</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convenience function to return the matching indices from an inner join.</span>

<span class="sd">    !!! info &quot;New in version 0.27.0&quot;</span>

<span class="sd">    !!! abstract &quot;Version Changed&quot;</span>

<span class="sd">        - 0.29.0</span>
<span class="sd">            - Add support for ragged array indices.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        right: Named Series or DataFrame to join to.</span>
<span class="sd">        conditions: List of arguments of tuple(s) of the form</span>
<span class="sd">            `(left_on, right_on, op)`, where `left_on` is the column</span>
<span class="sd">            label from `df`, `right_on` is the column label from `right`,</span>
<span class="sd">            while `op` is the operator.</span>
<span class="sd">            The `col` class is also supported. The operator can be any of</span>
<span class="sd">            `==`, `!=`, `&lt;=`, `&lt;`, `&gt;=`, `&gt;`. For multiple conditions,</span>
<span class="sd">            the and(`&amp;`) operator is used to combine the results</span>
<span class="sd">            of the individual conditions.</span>
<span class="sd">        use_numba: Use numba, if installed, to accelerate the computation.</span>
<span class="sd">        keep: Choose whether to return the first match, last match or all matches.</span>
<span class="sd">        force: If `True`, force the non-equi join conditions</span>
<span class="sd">            to execute before the equi join.</span>
<span class="sd">        return_ragged_arrays: If `True`, return slices/ranges of matching right indices</span>
<span class="sd">            for each matching left index. Not applicable if `use_numba` is `True`.</span>
<span class="sd">            If `return_ragged_arrays` is `True`, the join condition</span>
<span class="sd">            should be a single join, or a range join,</span>
<span class="sd">            where the right columns are both monotonically increasing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple of indices for the rows in the dataframes that match.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_conditional_join_compute</span><span class="p">(</span>
        <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">right</span><span class="o">=</span><span class="n">right</span><span class="p">,</span>
        <span class="n">conditions</span><span class="o">=</span><span class="n">conditions</span><span class="p">,</span>
        <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
        <span class="n">df_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">right_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">keep</span><span class="o">=</span><span class="n">keep</span><span class="p">,</span>
        <span class="n">use_numba</span><span class="o">=</span><span class="n">use_numba</span><span class="p">,</span>
        <span class="n">indicator</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span>
        <span class="n">return_matching_indices</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">return_ragged_arrays</span><span class="o">=</span><span class="n">return_ragged_arrays</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.convert_date" class="doc doc-heading">
            <code>convert_date</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.convert_date.convert_excel_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_excel_date</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert Excel's serial date format into Python datetime format.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Implementation is based on
<a href="https://stackoverflow.com/questions/38454403/convert-excel-style-date-with-pandas">Stack Overflow</a>.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">39690</span><span class="p">,</span> <span class="mi">39690</span><span class="p">,</span> <span class="mi">37118</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    date</span>
<span class="go">0  39690</span>
<span class="go">1  39690</span>
<span class="go">2  37118</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">convert_excel_date</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="go">        date</span>
<span class="go">0 2008-08-30</span>
<span class="go">1 2008-08-30</span>
<span class="go">2 2001-08-15</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[Hashable, list]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name, or a list of column names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with corrected dates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/convert_date.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_excel_date</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Hashable</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert Excel&#39;s serial date format into Python datetime format.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Implementation is based on</span>
<span class="sd">    [Stack Overflow](https://stackoverflow.com/questions/38454403/convert-excel-style-date-with-pandas).</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;date&quot;: [39690, 39690, 37118]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">            date</span>
<span class="sd">        0  39690</span>
<span class="sd">        1  39690</span>
<span class="sd">        2  37118</span>
<span class="sd">        &gt;&gt;&gt; df.convert_excel_date(&#39;date&#39;)</span>
<span class="sd">                date</span>
<span class="sd">        0 2008-08-30</span>
<span class="sd">        1 2008-08-30</span>
<span class="sd">        2 2001-08-15</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: A column name, or a list of column names.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with corrected dates.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">column_names</span><span class="p">]</span>
    <span class="c1"># https://stackoverflow.com/a/65460255/7175713</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">column_name</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s2">&quot;1899-12-30&quot;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">column_names</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">dictionary</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.convert_date.convert_matlab_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_matlab_date</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert Matlab's serial date number into Python datetime format.</p>
<p>Implementation is based on
<a href="https://stackoverflow.com/questions/13965740/converting-matlabs-datenum-format-to-python">Stack Overflow</a>.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">737125.0</span><span class="p">,</span> <span class="mf">737124.815863</span><span class="p">,</span> <span class="mf">737124.4985</span><span class="p">,</span> <span class="mi">737124</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">            date</span>
<span class="go">0  737125.000000</span>
<span class="go">1  737124.815863</span>
<span class="go">2  737124.498500</span>
<span class="go">3  737124.000000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">convert_matlab_date</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="go">                           date</span>
<span class="go">0 2018-03-06 00:00:00.000000000</span>
<span class="go">1 2018-03-05 19:34:50.563199671</span>
<span class="go">2 2018-03-05 11:57:50.399998876</span>
<span class="go">3 2018-03-05 00:00:00.000000000</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[Hashable, list]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name, or a list of column names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with corrected dates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/convert_date.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_matlab_date</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Hashable</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert Matlab&#39;s serial date number into Python datetime format.</span>

<span class="sd">    Implementation is based on</span>
<span class="sd">    [Stack Overflow](https://stackoverflow.com/questions/13965740/converting-matlabs-datenum-format-to-python).</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;date&quot;: [737125.0, 737124.815863, 737124.4985, 737124]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">                    date</span>
<span class="sd">        0  737125.000000</span>
<span class="sd">        1  737124.815863</span>
<span class="sd">        2  737124.498500</span>
<span class="sd">        3  737124.000000</span>
<span class="sd">        &gt;&gt;&gt; df.convert_matlab_date(&#39;date&#39;)</span>
<span class="sd">                                   date</span>
<span class="sd">        0 2018-03-06 00:00:00.000000000</span>
<span class="sd">        1 2018-03-05 19:34:50.563199671</span>
<span class="sd">        2 2018-03-05 11:57:50.399998876</span>
<span class="sd">        3 2018-03-05 00:00:00.000000000</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: A column name, or a list of column names.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with corrected dates.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="c1"># https://stackoverflow.com/a/49135037/7175713</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">column_names</span><span class="p">]</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">column_name</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">-</span> <span class="mi">719529</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">column_names</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">dictionary</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.convert_date.convert_unix_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_unix_date</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert unix epoch time into Python datetime format.</p>
<p>Note that this ignores local tz and convert all timestamps to naive
datetime based on UTC!</p>
<p>This method mutates the original DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.to_datetime</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1651510462</span><span class="p">,</span> <span class="mi">53394822</span><span class="p">,</span> <span class="mi">1126233195</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">         date</span>
<span class="go">0  1651510462</span>
<span class="go">1    53394822</span>
<span class="go">2  1126233195</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">convert_unix_date</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="go">                 date</span>
<span class="go">0 2022-05-02 16:54:22</span>
<span class="go">1 1971-09-10 23:53:42</span>
<span class="go">2 2005-09-09 02:33:15</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with corrected dates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/convert_date.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.to_datetime` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">convert_unix_date</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert unix epoch time into Python datetime format.</span>

<span class="sd">    Note that this ignores local tz and convert all timestamps to naive</span>
<span class="sd">    datetime based on UTC!</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.to_datetime` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;date&quot;: [1651510462, 53394822, 1126233195]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">                 date</span>
<span class="sd">        0  1651510462</span>
<span class="sd">        1    53394822</span>
<span class="sd">        2  1126233195</span>
<span class="sd">        &gt;&gt;&gt; df.convert_unix_date(&#39;date&#39;)</span>
<span class="sd">                         date</span>
<span class="sd">        0 2022-05-02 16:54:22</span>
<span class="sd">        1 1971-09-10 23:53:42</span>
<span class="sd">        2 2005-09-09 02:33:15</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: A column name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with corrected dates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">OutOfBoundsDatetime</span><span class="p">:</span>  <span class="c1"># Indicates time is in milliseconds.</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;ms&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.count_cumulative_unique" class="doc doc-heading">
            <code>count_cumulative_unique</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of count_cumulative_unique.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.count_cumulative_unique.count_cumulative_unique" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">count_cumulative_unique</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">dest_column_name</span><span class="p">,</span> <span class="n">case_sensitive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Generates a running total of cumulative unique values in a given column.</p>
<p>A new column will be created containing a running
count of unique values in the specified column.
If <code>case_sensitive</code> is <code>True</code>, then the case of
any letters will matter (i.e., <code>a != A</code>);
otherwise, the case of any letters will not matter.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;letters&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;aabABb&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  letters  numbers</span>
<span class="go">0       a        4</span>
<span class="go">1       a        5</span>
<span class="go">2       b        6</span>
<span class="go">3       A        7</span>
<span class="go">4       B        8</span>
<span class="go">5       b        9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">count_cumulative_unique</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;letters&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dest_column_name</span><span class="o">=</span><span class="s2">&quot;letters_unique_count&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">  letters  numbers  letters_unique_count</span>
<span class="go">0       a        4                     1</span>
<span class="go">1       a        5                     1</span>
<span class="go">2       b        6                     2</span>
<span class="go">3       A        7                     3</span>
<span class="go">4       B        8                     4</span>
<span class="go">5       b        9                     4</span>
</code></pre></div>
    <p>Cumulative counts, ignoring casing.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">count_cumulative_unique</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;letters&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dest_column_name</span><span class="o">=</span><span class="s2">&quot;letters_unique_count&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">case_sensitive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">  letters  numbers  letters_unique_count</span>
<span class="go">0       a        4                     1</span>
<span class="go">1       a        5                     1</span>
<span class="go">2       b        6                     2</span>
<span class="go">3       A        7                     2</span>
<span class="go">4       B        8                     2</span>
<span class="go">5       b        9                     2</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing values from which a
running count of unique values will be created.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dest_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the new column containing the
cumulative count of unique values that will be created.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>case_sensitive</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not uppercase and lowercase letters
will be considered equal. Only valid with string-like columns.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>case_sensitive</code> is False when counting a non-string
<code>column_name</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with a new column containing a cumulative
count of unique values from another column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/count_cumulative_unique.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">count_cumulative_unique</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">dest_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">case_sensitive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a running total of cumulative unique values in a given column.</span>

<span class="sd">    A new column will be created containing a running</span>
<span class="sd">    count of unique values in the specified column.</span>
<span class="sd">    If `case_sensitive` is `True`, then the case of</span>
<span class="sd">    any letters will matter (i.e., `a != A`);</span>
<span class="sd">    otherwise, the case of any letters will not matter.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;letters&quot;: list(&quot;aabABb&quot;),</span>
<span class="sd">        ...     &quot;numbers&quot;: range(4, 10),</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          letters  numbers</span>
<span class="sd">        0       a        4</span>
<span class="sd">        1       a        5</span>
<span class="sd">        2       b        6</span>
<span class="sd">        3       A        7</span>
<span class="sd">        4       B        8</span>
<span class="sd">        5       b        9</span>
<span class="sd">        &gt;&gt;&gt; df.count_cumulative_unique(</span>
<span class="sd">        ...     column_name=&quot;letters&quot;,</span>
<span class="sd">        ...     dest_column_name=&quot;letters_unique_count&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">          letters  numbers  letters_unique_count</span>
<span class="sd">        0       a        4                     1</span>
<span class="sd">        1       a        5                     1</span>
<span class="sd">        2       b        6                     2</span>
<span class="sd">        3       A        7                     3</span>
<span class="sd">        4       B        8                     4</span>
<span class="sd">        5       b        9                     4</span>

<span class="sd">        Cumulative counts, ignoring casing.</span>

<span class="sd">        &gt;&gt;&gt; df.count_cumulative_unique(</span>
<span class="sd">        ...     column_name=&quot;letters&quot;,</span>
<span class="sd">        ...     dest_column_name=&quot;letters_unique_count&quot;,</span>
<span class="sd">        ...     case_sensitive=False,</span>
<span class="sd">        ... )</span>
<span class="sd">          letters  numbers  letters_unique_count</span>
<span class="sd">        0       a        4                     1</span>
<span class="sd">        1       a        5                     1</span>
<span class="sd">        2       b        6                     2</span>
<span class="sd">        3       A        7                     2</span>
<span class="sd">        4       B        8                     2</span>
<span class="sd">        5       b        9                     2</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: Name of the column containing values from which a</span>
<span class="sd">            running count of unique values will be created.</span>
<span class="sd">        dest_column_name: The name of the new column containing the</span>
<span class="sd">            cumulative count of unique values that will be created.</span>
<span class="sd">        case_sensitive: Whether or not uppercase and lowercase letters</span>
<span class="sd">            will be considered equal. Only valid with string-like columns.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `case_sensitive` is False when counting a non-string</span>
<span class="sd">            `column_name`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with a new column containing a cumulative</span>
<span class="sd">            count of unique values from another column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">dest_column_name</span><span class="p">,</span> <span class="n">present</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">counter</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">case_sensitive</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Make it so that the the same uppercase and lowercase</span>
            <span class="c1"># letter are treated as one unique value</span>
            <span class="n">counter</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># AttributeError is raised by pandas when .str is used on</span>
            <span class="c1"># non-string types, e.g. int.</span>
            <span class="c1"># TypeError is raised by pandas when .str.lower is used on a</span>
            <span class="c1"># forbidden string type, e.g. bytes.</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;case_sensitive=False can only be used with a string-like &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;type. Column </span><span class="si">{</span><span class="n">column_name</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">counter</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2"> type.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">counter</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">counter</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">counter</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">cumcount</span><span class="p">()</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">counter</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">dest_column_name</span><span class="p">:</span> <span class="n">counter</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.currency_column_to_numeric" class="doc doc-heading">
            <code>currency_column_to_numeric</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.currency_column_to_numeric.currency_column_to_numeric" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">currency_column_to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">cleaning_style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cast_non_numeric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fill_all_non_numeric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remove_non_numeric</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert currency column to numeric.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>This method allows one to take a column containing currency values,
inadvertently imported as a string, and cast it as a float. This is
usually the case when reading CSV files that were modified in Excel.
Empty strings (i.e. <code>''</code>) are retained as <code>NaN</code> values.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a_col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot; 24.56&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;(12.12)&quot;</span><span class="p">,</span> <span class="s2">&quot;1,000,000&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;d_col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;1.23 dollars&quot;</span><span class="p">,</span> <span class="s2">&quot;-1,000 yen&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">       a_col         d_col</span>
<span class="go">0      24.56</span>
<span class="go">1          -           foo</span>
<span class="go">2    (12.12)  1.23 dollars</span>
<span class="go">3  1,000,000    -1,000 yen</span>
</code></pre></div>
    <p>The default cleaning style.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">currency_column_to_numeric</span><span class="p">(</span><span class="s2">&quot;d_col&quot;</span><span class="p">)</span>
<span class="go">       a_col    d_col</span>
<span class="go">0      24.56      NaN</span>
<span class="go">1          -      NaN</span>
<span class="go">2    (12.12)     1.23</span>
<span class="go">3  1,000,000 -1000.00</span>
</code></pre></div>
    <p>The accounting cleaning style.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">currency_column_to_numeric</span><span class="p">(</span><span class="s2">&quot;a_col&quot;</span><span class="p">,</span> <span class="n">cleaning_style</span><span class="o">=</span><span class="s2">&quot;accounting&quot;</span><span class="p">)</span>
<span class="go">        a_col         d_col</span>
<span class="go">0       24.56</span>
<span class="go">1        0.00           foo</span>
<span class="go">2      -12.12  1.23 dollars</span>
<span class="go">3  1000000.00    -1,000 yen</span>
</code></pre></div>
        <p>Valid cleaning styles are:</p>
<ul>
<li><code>None</code>: Default cleaning is applied. Empty strings are always retained as
    <code>NaN</code>. Numbers, <code>-</code>, <code>.</code> are extracted and the resulting string
    is cast to a float.</li>
<li><code>'accounting'</code>: Replaces numbers in parentheses with negatives, removes commas.</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column containing currency values to modify.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cleaning_style</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>What style of cleaning to perform.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cast_non_numeric</code>
            </td>
            <td>
                  <code>Optional[dict]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dict of how to coerce certain strings to numeric
type. For example, if there are values of 'REORDER' in the DataFrame,
<code>{'REORDER': 0}</code> will cast all instances of 'REORDER' to 0.
Only takes effect in the default cleaning style.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fill_all_non_numeric</code>
            </td>
            <td>
                  <code>Optional[Union[float, int]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Similar to <code>cast_non_numeric</code>, but fills all
strings to the same value. For example, <code>fill_all_non_numeric=1</code>, will
make everything that doesn't coerce to a currency <code>1</code>.
Only takes effect in the default cleaning style.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove_non_numeric</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If set to True, rows of <code>df</code> that contain
non-numeric values in the <code>column_name</code> column will be removed.
Only takes effect in the default cleaning style.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>cleaning_style</code> is not one of the accepted styles.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/currency_column_to_numeric.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">col_name</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;cleaning_style&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">currency_column_to_numeric</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">cleaning_style</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cast_non_numeric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fill_all_non_numeric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">remove_non_numeric</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert currency column to numeric.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    This method allows one to take a column containing currency values,</span>
<span class="sd">    inadvertently imported as a string, and cast it as a float. This is</span>
<span class="sd">    usually the case when reading CSV files that were modified in Excel.</span>
<span class="sd">    Empty strings (i.e. `&#39;&#39;`) are retained as `NaN` values.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a_col&quot;: [&quot; 24.56&quot;, &quot;-&quot;, &quot;(12.12)&quot;, &quot;1,000,000&quot;],</span>
<span class="sd">        ...     &quot;d_col&quot;: [&quot;&quot;, &quot;foo&quot;, &quot;1.23 dollars&quot;, &quot;-1,000 yen&quot;],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">               a_col         d_col</span>
<span class="sd">        0      24.56</span>
<span class="sd">        1          -           foo</span>
<span class="sd">        2    (12.12)  1.23 dollars</span>
<span class="sd">        3  1,000,000    -1,000 yen</span>

<span class="sd">        The default cleaning style.</span>

<span class="sd">        &gt;&gt;&gt; df.currency_column_to_numeric(&quot;d_col&quot;)</span>
<span class="sd">               a_col    d_col</span>
<span class="sd">        0      24.56      NaN</span>
<span class="sd">        1          -      NaN</span>
<span class="sd">        2    (12.12)     1.23</span>
<span class="sd">        3  1,000,000 -1000.00</span>

<span class="sd">        The accounting cleaning style.</span>

<span class="sd">        &gt;&gt;&gt; df.currency_column_to_numeric(&quot;a_col&quot;, cleaning_style=&quot;accounting&quot;)  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">                a_col         d_col</span>
<span class="sd">        0       24.56</span>
<span class="sd">        1        0.00           foo</span>
<span class="sd">        2      -12.12  1.23 dollars</span>
<span class="sd">        3  1000000.00    -1,000 yen</span>

<span class="sd">    Valid cleaning styles are:</span>

<span class="sd">    - `None`: Default cleaning is applied. Empty strings are always retained as</span>
<span class="sd">        `NaN`. Numbers, `-`, `.` are extracted and the resulting string</span>
<span class="sd">        is cast to a float.</span>
<span class="sd">    - `&#39;accounting&#39;`: Replaces numbers in parentheses with negatives, removes commas.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame.</span>
<span class="sd">        column_name: The column containing currency values to modify.</span>
<span class="sd">        cleaning_style: What style of cleaning to perform.</span>
<span class="sd">        cast_non_numeric: A dict of how to coerce certain strings to numeric</span>
<span class="sd">            type. For example, if there are values of &#39;REORDER&#39; in the DataFrame,</span>
<span class="sd">            `{&#39;REORDER&#39;: 0}` will cast all instances of &#39;REORDER&#39; to 0.</span>
<span class="sd">            Only takes effect in the default cleaning style.</span>
<span class="sd">        fill_all_non_numeric: Similar to `cast_non_numeric`, but fills all</span>
<span class="sd">            strings to the same value. For example, `fill_all_non_numeric=1`, will</span>
<span class="sd">            make everything that doesn&#39;t coerce to a currency `1`.</span>
<span class="sd">            Only takes effect in the default cleaning style.</span>
<span class="sd">        remove_non_numeric: If set to True, rows of `df` that contain</span>
<span class="sd">            non-numeric values in the `column_name` column will be removed.</span>
<span class="sd">            Only takes effect in the default cleaning style.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `cleaning_style` is not one of the accepted styles.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span>

    <span class="n">column_series</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">cleaning_style</span> <span class="o">==</span> <span class="s2">&quot;accounting&quot;</span><span class="p">:</span>
        <span class="n">outcome</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span>
            <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s2">&quot;-&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">})</span>
            <span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">column_name</span><span class="p">:</span> <span class="n">outcome</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">cleaning_style</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;`cleaning_style` is expected to be one of (&#39;accounting&#39;, None). &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Got </span><span class="si">{</span><span class="n">cleaning_style</span><span class="si">!r}</span><span class="s2"> instead.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">cast_non_numeric</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;cast_non_numeric&quot;</span><span class="p">,</span> <span class="n">cast_non_numeric</span><span class="p">,</span> <span class="p">[</span><span class="nb">dict</span><span class="p">])</span>

    <span class="n">_make_cc_patrial</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
        <span class="n">_currency_column_to_numeric</span><span class="p">,</span>
        <span class="n">cast_non_numeric</span><span class="o">=</span><span class="n">cast_non_numeric</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">column_series</span> <span class="o">=</span> <span class="n">column_series</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">_make_cc_patrial</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">remove_non_numeric</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">column_series</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">:]</span>

    <span class="c1"># _replace_empty_string_with_none is applied here after the check on</span>
    <span class="c1"># remove_non_numeric since &quot;&quot; is our indicator that a string was coerced</span>
    <span class="c1"># in the original column</span>
    <span class="n">column_series</span> <span class="o">=</span> <span class="n">_replace_empty_string_with_none</span><span class="p">(</span><span class="n">column_series</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">fill_all_non_numeric</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;fill_all_non_numeric&quot;</span><span class="p">,</span> <span class="n">fill_all_non_numeric</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span>
        <span class="n">column_series</span> <span class="o">=</span> <span class="n">column_series</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">fill_all_non_numeric</span><span class="p">)</span>

    <span class="n">column_series</span> <span class="o">=</span> <span class="n">_replace_original_empty_string_with_none</span><span class="p">(</span><span class="n">column_series</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">column_name</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">column_series</span><span class="p">)})</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.deconcatenate_column" class="doc doc-heading">
            <code>deconcatenate_column</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of deconcatenating columns.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.deconcatenate_column.deconcatenate_column" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deconcatenate_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">new_column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">autoname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">preserve_position</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>De-concatenates a single column into multiple columns.</p>
<p>The column to de-concatenate can be either a collection (list, tuple, ...)
which can be separated out with <code>pd.Series.tolist()</code>,
or a string to slice based on <code>sep</code>.</p>
<p>To determine this behaviour automatically,
the first element in the column specified is inspected.</p>
<p>If it is a string, then <code>sep</code> must be specified.
Else, the function assumes that it is an iterable type
(e.g. <code>list</code> or <code>tuple</code>),
and will attempt to deconcatenate by splitting the list.</p>
<p>Given a column with string values, this is the inverse of the
<a class="autorefs autorefs-internal" href="#janitor.functions.concatenate_columns.concatenate_columns"><code>concatenate_columns</code></a>
function.</p>
<p>Used to quickly split columns out of a single column.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;m&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1-x&quot;</span><span class="p">,</span> <span class="s2">&quot;2-y&quot;</span><span class="p">,</span> <span class="s2">&quot;3-z&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     m</span>
<span class="go">0  1-x</span>
<span class="go">1  2-y</span>
<span class="go">2  3-z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">deconcatenate_column</span><span class="p">(</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">autoname</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="p">)</span>
<span class="go">     m col1 col2</span>
<span class="go">0  1-x    1    x</span>
<span class="go">1  2-y    2    y</span>
<span class="go">2  3-z    3    z</span>
</code></pre></div>
        <p>The keyword argument <code>preserve_position</code>
takes <code>True</code> or <code>False</code> boolean
that controls whether the <code>new_column_names</code>
will take the original position
of the to-be-deconcatenated <code>column_name</code>:</p>
<ul>
<li>When <code>preserve_position=False</code> (default), <code>df.columns</code> change from
  <code>[..., column_name, ...]</code> to <code>[..., column_name, ..., new_column_names]</code>.
  In other words, the deconcatenated new columns are appended to the right
  of the original dataframe and the original <code>column_name</code> is NOT dropped.</li>
<li>When <code>preserve_position=True</code>, <code>df.column</code> change from
  <code>[..., column_name, ...]</code> to <code>[..., new_column_names, ...]</code>.
  In other words, the deconcatenated new column will REPLACE the original
  <code>column_name</code> at its original position, and <code>column_name</code> itself
  is dropped.</li>
</ul>
<p>The keyword argument <code>autoname</code> accepts a base string
and then automatically creates numbered column names
based off the base string.
For example, if <code>col</code> is passed in as the argument to <code>autoname</code>,
and 4 columns are created, then the resulting columns will be named
<code>col1, col2, col3, col4</code>.
Numbering is always 1-indexed, not 0-indexed,
in order to make the column names human-friendly.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column to split.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sep</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The separator delimiting the column's data.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_column_names</code>
            </td>
            <td>
                  <code>Optional[Union[List[str], Tuple[str]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of new column names post-splitting.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>autoname</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A base name for automatically naming the new columns.
Takes precedence over <code>new_column_names</code> if both are provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>preserve_position</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean for whether or not to preserve original
position of the column upon de-concatenation.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>column_name</code> is not present in the DataFrame.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>sep</code> is not provided and the column values
are of type <code>str</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If either <code>new_column_names</code> or <code>autoname</code>
is not supplied.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>JanitorError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If incorrect number of names is provided
within <code>new_column_names</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with a deconcatenated column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/deconcatenate_column.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">deconcatenate_column</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">sep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">new_column_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">autoname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">preserve_position</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;De-concatenates a single column into multiple columns.</span>

<span class="sd">    The column to de-concatenate can be either a collection (list, tuple, ...)</span>
<span class="sd">    which can be separated out with `pd.Series.tolist()`,</span>
<span class="sd">    or a string to slice based on `sep`.</span>

<span class="sd">    To determine this behaviour automatically,</span>
<span class="sd">    the first element in the column specified is inspected.</span>

<span class="sd">    If it is a string, then `sep` must be specified.</span>
<span class="sd">    Else, the function assumes that it is an iterable type</span>
<span class="sd">    (e.g. `list` or `tuple`),</span>
<span class="sd">    and will attempt to deconcatenate by splitting the list.</span>

<span class="sd">    Given a column with string values, this is the inverse of the</span>
<span class="sd">    [`concatenate_columns`][janitor.functions.concatenate_columns.concatenate_columns]</span>
<span class="sd">    function.</span>

<span class="sd">    Used to quickly split columns out of a single column.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;m&quot;: [&quot;1-x&quot;, &quot;2-y&quot;, &quot;3-z&quot;]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">             m</span>
<span class="sd">        0  1-x</span>
<span class="sd">        1  2-y</span>
<span class="sd">        2  3-z</span>
<span class="sd">        &gt;&gt;&gt; df.deconcatenate_column(&quot;m&quot;, sep=&quot;-&quot;, autoname=&quot;col&quot;)</span>
<span class="sd">             m col1 col2</span>
<span class="sd">        0  1-x    1    x</span>
<span class="sd">        1  2-y    2    y</span>
<span class="sd">        2  3-z    3    z</span>

<span class="sd">    The keyword argument `preserve_position`</span>
<span class="sd">    takes `True` or `False` boolean</span>
<span class="sd">    that controls whether the `new_column_names`</span>
<span class="sd">    will take the original position</span>
<span class="sd">    of the to-be-deconcatenated `column_name`:</span>

<span class="sd">    - When `preserve_position=False` (default), `df.columns` change from</span>
<span class="sd">      `[..., column_name, ...]` to `[..., column_name, ..., new_column_names]`.</span>
<span class="sd">      In other words, the deconcatenated new columns are appended to the right</span>
<span class="sd">      of the original dataframe and the original `column_name` is NOT dropped.</span>
<span class="sd">    - When `preserve_position=True`, `df.column` change from</span>
<span class="sd">      `[..., column_name, ...]` to `[..., new_column_names, ...]`.</span>
<span class="sd">      In other words, the deconcatenated new column will REPLACE the original</span>
<span class="sd">      `column_name` at its original position, and `column_name` itself</span>
<span class="sd">      is dropped.</span>

<span class="sd">    The keyword argument `autoname` accepts a base string</span>
<span class="sd">    and then automatically creates numbered column names</span>
<span class="sd">    based off the base string.</span>
<span class="sd">    For example, if `col` is passed in as the argument to `autoname`,</span>
<span class="sd">    and 4 columns are created, then the resulting columns will be named</span>
<span class="sd">    `col1, col2, col3, col4`.</span>
<span class="sd">    Numbering is always 1-indexed, not 0-indexed,</span>
<span class="sd">    in order to make the column names human-friendly.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: The column to split.</span>
<span class="sd">        sep: The separator delimiting the column&#39;s data.</span>
<span class="sd">        new_column_names: A list of new column names post-splitting.</span>
<span class="sd">        autoname: A base name for automatically naming the new columns.</span>
<span class="sd">            Takes precedence over `new_column_names` if both are provided.</span>
<span class="sd">        preserve_position: Boolean for whether or not to preserve original</span>
<span class="sd">            position of the column upon de-concatenation.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `column_name` is not present in the DataFrame.</span>
<span class="sd">        ValueError: If `sep` is not provided and the column values</span>
<span class="sd">            are of type `str`.</span>
<span class="sd">        ValueError: If either `new_column_names` or `autoname`</span>
<span class="sd">            is not supplied.</span>
<span class="sd">        JanitorError: If incorrect number of names is provided</span>
<span class="sd">            within `new_column_names`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with a deconcatenated column.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="n">column_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;column name </span><span class="si">{</span><span class="n">column_name</span><span class="si">}</span><span class="s2"> not present in DataFrame&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;`sep` must be specified if the column values &quot;</span>
                <span class="s2">&quot;are of type `str`.&quot;</span>
            <span class="p">)</span>
        <span class="n">df_deconcat</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df_deconcat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">new_column_names</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">new_column_names</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">autoname</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;One of `new_column_names` or `autoname` must be supplied.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">autoname</span><span class="p">:</span>
        <span class="n">new_column_names</span> <span class="o">=</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">autoname</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">df_deconcat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_column_names</span><span class="p">)</span> <span class="o">==</span> <span class="n">df_deconcat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">JanitorError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;You need to provide </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_deconcat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="si">}</span><span class="s2"> names &quot;</span>
            <span class="s2">&quot;to `new_column_names`&quot;</span>
        <span class="p">)</span>

    <span class="n">df_deconcat</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">new_column_names</span>
    <span class="n">df_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df_deconcat</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">preserve_position</span><span class="p">:</span>
        <span class="n">df_original</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_original</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">index_original</span> <span class="o">=</span> <span class="n">cols</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col_new</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">new_column_names</span><span class="p">):</span>
            <span class="n">cols</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index_original</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="n">col_new</span><span class="p">)</span>

        <span class="n">df_new</span> <span class="o">=</span> <span class="n">df_new</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">column_name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df_new</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.drop_constant_columns" class="doc doc-heading">
            <code>drop_constant_columns</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of drop_constant_columns.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.drop_constant_columns.drop_constant_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">drop_constant_columns</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Finds and drops the constant columns from a Pandas DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;d&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;rabbit&quot;</span><span class="p">,</span> <span class="s2">&quot;leopard&quot;</span><span class="p">,</span> <span class="s2">&quot;lion&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Cambridge&quot;</span><span class="p">,</span> <span class="s2">&quot;Shanghai&quot;</span><span class="p">,</span> <span class="s2">&quot;Basel&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b  c        d          e</span>
<span class="go">0  1  1  1   rabbit  Cambridge</span>
<span class="go">1  1  2  1  leopard   Shanghai</span>
<span class="go">2  1  3  1     lion      Basel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">drop_constant_columns</span><span class="p">()</span>
<span class="go">   b        d          e</span>
<span class="go">0  1   rabbit  Cambridge</span>
<span class="go">1  2  leopard   Shanghai</span>
<span class="go">2  3     lion      Basel</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input Pandas DataFrame</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Pandas DataFrame with the constant columns dropped.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/drop_constant_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">drop_constant_columns</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finds and drops the constant columns from a Pandas DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; data_dict = {</span>
<span class="sd">        ...     &quot;a&quot;: [1, 1, 1],</span>
<span class="sd">        ...     &quot;b&quot;: [1, 2, 3],</span>
<span class="sd">        ...     &quot;c&quot;: [1, 1, 1],</span>
<span class="sd">        ...     &quot;d&quot;: [&quot;rabbit&quot;, &quot;leopard&quot;, &quot;lion&quot;],</span>
<span class="sd">        ...     &quot;e&quot;: [&quot;Cambridge&quot;, &quot;Shanghai&quot;, &quot;Basel&quot;]</span>
<span class="sd">        ... }</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data_dict)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b  c        d          e</span>
<span class="sd">        0  1  1  1   rabbit  Cambridge</span>
<span class="sd">        1  1  2  1  leopard   Shanghai</span>
<span class="sd">        2  1  3  1     lion      Basel</span>
<span class="sd">        &gt;&gt;&gt; df.drop_constant_columns()</span>
<span class="sd">           b        d          e</span>
<span class="sd">        0  1   rabbit  Cambridge</span>
<span class="sd">        1  2  leopard   Shanghai</span>
<span class="sd">        2  3     lion      Basel</span>

<span class="sd">    Args:</span>
<span class="sd">        df: Input Pandas DataFrame</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Pandas DataFrame with the constant columns dropped.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">df</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">.</span><span class="n">ne</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.drop_duplicate_columns" class="doc doc-heading">
            <code>drop_duplicate_columns</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation for <code>drop_duplicate_columns</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.drop_duplicate_columns.drop_duplicate_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">drop_duplicate_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">nth_index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Remove a duplicated column specified by <code>column_name</code>.</p>
<p>Specifying <code>nth_index=0</code> will remove the first column,
<code>nth_index=1</code> will remove the second column,
and so on and so forth.</p>
<p>The corresponding tidyverse R's library is:
<code>select(-&lt;column_name&gt;_&lt;nth_index + 1&gt;)</code></p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;a*&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span><span class="o">.</span><span class="n">clean_names</span><span class="p">(</span><span class="n">remove_special</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b  a  a</span>
<span class="go">0  2  3  4  6</span>
<span class="go">1  3  4  5  7</span>
<span class="go">2  4  5  6  8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">drop_duplicate_columns</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">nth_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   a  b  a</span>
<span class="go">0  2  3  6</span>
<span class="go">1  3  4  7</span>
<span class="go">2  4  5  8</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of duplicated columns.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>nth_index</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Among the duplicated columns,
select the nth column to drop.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/drop_duplicate_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">drop_duplicate_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span> <span class="n">nth_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove a duplicated column specified by `column_name`.</span>

<span class="sd">    Specifying `nth_index=0` will remove the first column,</span>
<span class="sd">    `nth_index=1` will remove the second column,</span>
<span class="sd">    and so on and so forth.</span>

<span class="sd">    The corresponding tidyverse R&#39;s library is:</span>
<span class="sd">    `select(-&lt;column_name&gt;_&lt;nth_index + 1&gt;)`</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: range(2, 5),</span>
<span class="sd">        ...     &quot;b&quot;: range(3, 6),</span>
<span class="sd">        ...     &quot;A&quot;: range(4, 7),</span>
<span class="sd">        ...     &quot;a*&quot;: range(6, 9),</span>
<span class="sd">        ... }).clean_names(remove_special=True)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b  a  a</span>
<span class="sd">        0  2  3  4  6</span>
<span class="sd">        1  3  4  5  7</span>
<span class="sd">        2  4  5  6  8</span>
<span class="sd">        &gt;&gt;&gt; df.drop_duplicate_columns(column_name=&quot;a&quot;, nth_index=1)</span>
<span class="sd">           a  b  a</span>
<span class="sd">        0  2  3  6</span>
<span class="sd">        1  3  4  7</span>
<span class="sd">        2  4  5  8</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame</span>
<span class="sd">        column_name: Name of duplicated columns.</span>
<span class="sd">        nth_index: Among the duplicated columns,</span>
<span class="sd">            select the nth column to drop.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">col_indexes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">col_idx</span>
        <span class="k">for</span> <span class="n">col_idx</span><span class="p">,</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">col_name</span> <span class="o">==</span> <span class="n">column_name</span>
    <span class="p">]</span>

    <span class="c1"># Select the column to remove based on nth_index.</span>
    <span class="n">removed_col_idx</span> <span class="o">=</span> <span class="n">col_indexes</span><span class="p">[</span><span class="n">nth_index</span><span class="p">]</span>
    <span class="c1"># Filter out columns except for the one to be removed.</span>
    <span class="n">filtered_cols</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">c_i</span> <span class="k">for</span> <span class="n">c_i</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="k">if</span> <span class="n">c_i</span> <span class="o">!=</span> <span class="n">removed_col_idx</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">filtered_cols</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.dropnotnull" class="doc doc-heading">
            <code>dropnotnull</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>dropnotnull</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.dropnotnull.dropnotnull" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dropnotnull</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Drop rows that do <em>not</em> have null values in the given column.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     a     b</span>
<span class="go">0  1.0  None</span>
<span class="go">1  NaN     y</span>
<span class="go">2  3.0     z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">dropnotnull</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="go">    a  b</span>
<span class="go">1 NaN  y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">dropnotnull</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="go">     a     b</span>
<span class="go">0  1.0  None</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name to drop rows from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with dropped rows.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/dropnotnull.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">dropnotnull</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Drop rows that do *not* have null values in the given column.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [1., np.NaN, 3.], &quot;b&quot;: [None, &quot;y&quot;, &quot;z&quot;]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">             a     b</span>
<span class="sd">        0  1.0  None</span>
<span class="sd">        1  NaN     y</span>
<span class="sd">        2  3.0     z</span>
<span class="sd">        &gt;&gt;&gt; df.dropnotnull(&quot;a&quot;)</span>
<span class="sd">            a  b</span>
<span class="sd">        1 NaN  y</span>
<span class="sd">        &gt;&gt;&gt; df.dropnotnull(&quot;b&quot;)</span>
<span class="sd">             a     b</span>
<span class="sd">        0  1.0  None</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: The column name to drop rows from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with dropped rows.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">])]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.encode_categorical" class="doc doc-heading">
            <code>encode_categorical</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.encode_categorical.encode_categorical" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">encode_categorical</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Encode the specified columns with Pandas' <a href="http://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html">category dtype</a>.</p>
<p>It is syntactic sugar around <code>pd.Categorical</code>.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Simply pass a string, or a sequence of column names to <code>column_names</code>;
alternatively, you can pass kwargs, where the keys are the column names
and the values can either be None, <code>sort</code>, <code>appearance</code>
or a 1-D array-like object.</p>
<ul>
<li>None: column is cast to an unordered categorical.</li>
<li><code>sort</code>: column is cast to an ordered categorical,
          with the order defined by the sort-order of the categories.</li>
<li><code>appearance</code>: column is cast to an ordered categorical,
                with the order defined by the order of appearance
                in the original column.</li>
<li>1d-array-like object: column is cast to an ordered categorical,
                        with the categories and order as specified
                        in the input array.</li>
</ul>
<p><code>column_names</code> and <code>kwargs</code> parameters cannot be used at the same time.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Using <code>column_names</code></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  foo  bar</span>
<span class="go">0   b    4</span>
<span class="go">1   b    5</span>
<span class="go">2   a    6</span>
<span class="go">3   c    7</span>
<span class="go">4   b    8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">foo    object</span>
<span class="go">bar     int64</span>
<span class="go">dtype: object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">encode_categorical</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">foo    category</span>
<span class="go">bar       int64</span>
<span class="go">dtype: object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span>
<span class="go">Index([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], dtype=&#39;object&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">ordered</span>
<span class="go">False</span>
</code></pre></div>
    <p>Using <code>kwargs</code> to specify an ordered categorical.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">foo    object</span>
<span class="go">bar     int64</span>
<span class="go">dtype: object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">encode_categorical</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="s2">&quot;appearance&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">foo    category</span>
<span class="go">bar       int64</span>
<span class="go">dtype: object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span>
<span class="go">Index([&#39;b&#39;, &#39;a&#39;, &#39;c&#39;], dtype=&#39;object&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">enc_df</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">ordered</span>
<span class="go">True</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[str, Iterable[str], Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name or an iterable (list or tuple)
of column names.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping from column name to either <code>None</code>,
<code>'sort'</code> or <code>'appearance'</code>, or a 1-D array. This is useful
in creating categorical columns that are ordered, or
if the user needs to explicitly specify the categories.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If both <code>column_names</code> and <code>kwargs</code> are provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/encode_categorical.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">encode_categorical</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Hashable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Encode the specified columns with Pandas&#39; [category dtype][cat].</span>

<span class="sd">    [cat]: http://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html</span>

<span class="sd">    It is syntactic sugar around `pd.Categorical`.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Simply pass a string, or a sequence of column names to `column_names`;</span>
<span class="sd">    alternatively, you can pass kwargs, where the keys are the column names</span>
<span class="sd">    and the values can either be None, `sort`, `appearance`</span>
<span class="sd">    or a 1-D array-like object.</span>

<span class="sd">    - None: column is cast to an unordered categorical.</span>
<span class="sd">    - `sort`: column is cast to an ordered categorical,</span>
<span class="sd">              with the order defined by the sort-order of the categories.</span>
<span class="sd">    - `appearance`: column is cast to an ordered categorical,</span>
<span class="sd">                    with the order defined by the order of appearance</span>
<span class="sd">                    in the original column.</span>
<span class="sd">    - 1d-array-like object: column is cast to an ordered categorical,</span>
<span class="sd">                            with the categories and order as specified</span>
<span class="sd">                            in the input array.</span>

<span class="sd">    `column_names` and `kwargs` parameters cannot be used at the same time.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Using `column_names`</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;foo&quot;: [&quot;b&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;, &quot;b&quot;],</span>
<span class="sd">        ...     &quot;bar&quot;: range(4, 9),</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          foo  bar</span>
<span class="sd">        0   b    4</span>
<span class="sd">        1   b    5</span>
<span class="sd">        2   a    6</span>
<span class="sd">        3   c    7</span>
<span class="sd">        4   b    8</span>
<span class="sd">        &gt;&gt;&gt; df.dtypes</span>
<span class="sd">        foo    object</span>
<span class="sd">        bar     int64</span>
<span class="sd">        dtype: object</span>
<span class="sd">        &gt;&gt;&gt; enc_df = df.encode_categorical(column_names=&quot;foo&quot;)</span>
<span class="sd">        &gt;&gt;&gt; enc_df.dtypes</span>
<span class="sd">        foo    category</span>
<span class="sd">        bar       int64</span>
<span class="sd">        dtype: object</span>
<span class="sd">        &gt;&gt;&gt; enc_df[&quot;foo&quot;].cat.categories</span>
<span class="sd">        Index([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], dtype=&#39;object&#39;)</span>
<span class="sd">        &gt;&gt;&gt; enc_df[&quot;foo&quot;].cat.ordered</span>
<span class="sd">        False</span>

<span class="sd">        Using `kwargs` to specify an ordered categorical.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;foo&quot;: [&quot;b&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;, &quot;b&quot;],</span>
<span class="sd">        ...     &quot;bar&quot;: range(4, 9),</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df.dtypes</span>
<span class="sd">        foo    object</span>
<span class="sd">        bar     int64</span>
<span class="sd">        dtype: object</span>
<span class="sd">        &gt;&gt;&gt; enc_df = df.encode_categorical(foo=&quot;appearance&quot;)</span>
<span class="sd">        &gt;&gt;&gt; enc_df.dtypes</span>
<span class="sd">        foo    category</span>
<span class="sd">        bar       int64</span>
<span class="sd">        dtype: object</span>
<span class="sd">        &gt;&gt;&gt; enc_df[&quot;foo&quot;].cat.categories</span>
<span class="sd">        Index([&#39;b&#39;, &#39;a&#39;, &#39;c&#39;], dtype=&#39;object&#39;)</span>
<span class="sd">        &gt;&gt;&gt; enc_df[&quot;foo&quot;].cat.ordered</span>
<span class="sd">        True</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame object.</span>
<span class="sd">        column_names: A column name or an iterable (list or tuple)</span>
<span class="sd">            of column names.</span>
<span class="sd">        **kwargs: A mapping from column name to either `None`,</span>
<span class="sd">            `&#39;sort&#39;` or `&#39;appearance&#39;`, or a 1-D array. This is useful</span>
<span class="sd">            in creating categorical columns that are ordered, or</span>
<span class="sd">            if the user needs to explicitly specify the categories.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If both `column_names` and `kwargs` are provided.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">((</span><span class="n">column_names</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Only one of `column_names` or `kwargs` can be provided.&quot;</span>
        <span class="p">)</span>
    <span class="c1"># column_names deal with only category dtype (unordered)</span>
    <span class="c1"># kwargs takes care of scenarios where user wants an ordered category</span>
    <span class="c1"># or user supplies specific categories to create the categorical</span>
    <span class="k">if</span> <span class="n">column_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">column_names</span> <span class="o">=</span> <span class="n">get_index_labels</span><span class="p">([</span><span class="n">column_names</span><span class="p">],</span> <span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>
        <span class="n">dtypes</span> <span class="o">=</span> <span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">column_names</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtypes</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_computations_as_categorical</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.expand_column" class="doc doc-heading">
            <code>expand_column</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation for expand_column.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.expand_column.expand_column" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">expand_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="n">concat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Expand a categorical column with multiple labels into dummy-coded columns.</p>
<p>Super sugary syntax that wraps <code>pandas.Series.str.get_dummies</code>.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Functional usage syntax:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A, B&quot;</span><span class="p">,</span> <span class="s2">&quot;B, C, D&quot;</span><span class="p">,</span> <span class="s2">&quot;E, F&quot;</span><span class="p">,</span> <span class="s2">&quot;A, E, F&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">expand_column</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;, &quot;</span>  <span class="c1"># note space in sep</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      col1  col2  A  B  C  D  E  F</span>
<span class="go">0     A, B     1  1  1  0  0  0  0</span>
<span class="go">1  B, C, D     2  0  1  1  1  0  0</span>
<span class="go">2     E, F     3  0  0  0  0  1  1</span>
<span class="go">3  A, E, F     4  1  0  0  0  1  1</span>
</code></pre></div>
    <p>Method chaining syntax:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>        <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A, B&quot;</span><span class="p">,</span> <span class="s2">&quot;B, C, D&quot;</span><span class="p">,</span> <span class="s2">&quot;E, F&quot;</span><span class="p">,</span> <span class="s2">&quot;A, E, F&quot;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span>    <span class="o">.</span><span class="n">expand_column</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;, &#39;</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      col1  col2  A  B  C  D  E  F</span>
<span class="go">0     A, B     1  1  1  0  0  0  0</span>
<span class="go">1  B, C, D     2  0  1  1  1  0  0</span>
<span class="go">2     E, F     3  0  0  0  0  1  1</span>
<span class="go">3  A, E, F     4  1  0  0  0  1  1</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which column to expand.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sep</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The delimiter, same to
<code>pandas.Series.str.get_dummies</code>'s <code>sep</code>.</p>
              </div>
            </td>
            <td>
                  <code>&#39;|&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>concat</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to return the expanded column concatenated to
the original dataframe (<code>concat=True</code>), or to return it standalone
(<code>concat=False</code>).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with an expanded column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/expand_column.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">expand_column</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="p">,</span>
    <span class="n">concat</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Expand a categorical column with multiple labels into dummy-coded columns.</span>

<span class="sd">    Super sugary syntax that wraps `pandas.Series.str.get_dummies`.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Functional usage syntax:</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;col1&quot;: [&quot;A, B&quot;, &quot;B, C, D&quot;, &quot;E, F&quot;, &quot;A, E, F&quot;],</span>
<span class="sd">        ...         &quot;col2&quot;: [1, 2, 3, 4],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df = expand_column(</span>
<span class="sd">        ...     df,</span>
<span class="sd">        ...     column_name=&quot;col1&quot;,</span>
<span class="sd">        ...     sep=&quot;, &quot;  # note space in sep</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">              col1  col2  A  B  C  D  E  F</span>
<span class="sd">        0     A, B     1  1  1  0  0  0  0</span>
<span class="sd">        1  B, C, D     2  0  1  1  1  0  0</span>
<span class="sd">        2     E, F     3  0  0  0  0  1  1</span>
<span class="sd">        3  A, E, F     4  1  0  0  0  1  1</span>

<span class="sd">        Method chaining syntax:</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = (</span>
<span class="sd">        ...     pd.DataFrame(</span>
<span class="sd">        ...         {</span>
<span class="sd">        ...             &quot;col1&quot;: [&quot;A, B&quot;, &quot;B, C, D&quot;, &quot;E, F&quot;, &quot;A, E, F&quot;],</span>
<span class="sd">        ...             &quot;col2&quot;: [1, 2, 3, 4],</span>
<span class="sd">        ...         }</span>
<span class="sd">        ...     )</span>
<span class="sd">        ...     .expand_column(</span>
<span class="sd">        ...         column_name=&#39;col1&#39;,</span>
<span class="sd">        ...         sep=&#39;, &#39;</span>
<span class="sd">        ...     )</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">              col1  col2  A  B  C  D  E  F</span>
<span class="sd">        0     A, B     1  1  1  0  0  0  0</span>
<span class="sd">        1  B, C, D     2  0  1  1  1  0  0</span>
<span class="sd">        2     E, F     3  0  0  0  0  1  1</span>
<span class="sd">        3  A, E, F     4  1  0  0  0  1  1</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: Which column to expand.</span>
<span class="sd">        sep: The delimiter, same to</span>
<span class="sd">            `pandas.Series.str.get_dummies`&#39;s `sep`.</span>
<span class="sd">        concat: Whether to return the expanded column concatenated to</span>
<span class="sd">            the original dataframe (`concat=True`), or to return it standalone</span>
<span class="sd">            (`concat=False`).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with an expanded column.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">expanded_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="n">sep</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">concat</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">expanded_df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">expanded_df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.expand_grid" class="doc doc-heading">
            <code>expand_grid</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>expand_grid</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.expand_grid.cartesian_product" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cartesian_product</span><span class="p">(</span><span class="o">*</span><span class="n">inputs</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a DataFrame from a cartesian combination of all inputs.</p>
<p>Inspiration is from tidyr's expand_grid() function.</p>
<p>The input argument should be a pandas Index/Series/DataFrame,
or a dictionary - the values of the dictionary should be
a 1D array.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span> <span class="k">as</span> <span class="nn">jn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jn</span><span class="o">.</span><span class="n">cartesian_product</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="go">   x  y  z</span>
<span class="go">0  1  2  1</span>
<span class="go">1  1  2  2</span>
<span class="go">2  1  2  3</span>
<span class="go">3  2  1  1</span>
<span class="go">4  2  1  2</span>
<span class="go">5  2  1  3</span>
</code></pre></div>
    <p><code>cartesian_product</code> also works with non-pandas objects:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cartesian_product</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">   x  y</span>
<span class="go">0  1  1</span>
<span class="go">1  1  2</span>
<span class="go">2  2  1</span>
<span class="go">3  2  2</span>
<span class="go">4  3  1</span>
<span class="go">5  3  2</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*inputs</code>
            </td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Variable arguments. The arguments should be
a pandas Index/Series/DataFrame, or a dictionary,
where the values in the dictionary is a 1D array.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, sort the output DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/expand_grid.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">cartesian_product</span><span class="p">(</span><span class="o">*</span><span class="n">inputs</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a DataFrame from a cartesian combination of all inputs.</span>

<span class="sd">    Inspiration is from tidyr&#39;s expand_grid() function.</span>

<span class="sd">    The input argument should be a pandas Index/Series/DataFrame,</span>
<span class="sd">    or a dictionary - the values of the dictionary should be</span>
<span class="sd">    a 1D array.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor as jn</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;x&quot;: [1, 2], &quot;y&quot;: [2, 1]})</span>
<span class="sd">        &gt;&gt;&gt; data = pd.Series([1, 2, 3], name=&#39;z&#39;)</span>
<span class="sd">        &gt;&gt;&gt; jn.cartesian_product(df, data)</span>
<span class="sd">           x  y  z</span>
<span class="sd">        0  1  2  1</span>
<span class="sd">        1  1  2  2</span>
<span class="sd">        2  1  2  3</span>
<span class="sd">        3  2  1  1</span>
<span class="sd">        4  2  1  2</span>
<span class="sd">        5  2  1  3</span>

<span class="sd">        `cartesian_product` also works with non-pandas objects:</span>

<span class="sd">        &gt;&gt;&gt; data = {&quot;x&quot;: [1, 2, 3], &quot;y&quot;: [1, 2]}</span>
<span class="sd">        &gt;&gt;&gt; cartesian_product(data)</span>
<span class="sd">           x  y</span>
<span class="sd">        0  1  1</span>
<span class="sd">        1  1  2</span>
<span class="sd">        2  2  1</span>
<span class="sd">        3  2  2</span>
<span class="sd">        4  3  1</span>
<span class="sd">        5  3  2</span>

<span class="sd">    Args:</span>
<span class="sd">        *inputs: Variable arguments. The arguments should be</span>
<span class="sd">            a pandas Index/Series/DataFrame, or a dictionary,</span>
<span class="sd">            where the values in the dictionary is a 1D array.</span>
<span class="sd">        sort: If True, sort the output DataFrame.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">entry</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">arr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>
                <span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
    <span class="n">outcome</span> <span class="o">=</span> <span class="n">_compute_cartesian_product</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">contents</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">)</span>
    <span class="c1"># the values in the outcome dictionary are copies,</span>
    <span class="c1"># based on numpy indexing semantics;</span>
    <span class="c1"># as such, it is safe to pass copy=False</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">outcome</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.expand_grid.expand" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">expand</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">columns</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a DataFrame from a cartesian combination of all inputs.</p>
<p>Inspiration is from tidyr's expand() function.</p>
<p>expand() is often useful with
<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.merge.html">pd.merge</a>
to convert implicit
missing values to explicit missing values - similar to
<a class="autorefs autorefs-internal" href="#janitor.functions.complete.complete"><code>complete</code></a>.</p>
<p>It can also be used to figure out which combinations are missing
(e.g identify gaps in your DataFrame).</p>
<p>The variable <code>columns</code> parameter can be a column name,
a list of column names, a pandas Index/Series/DataFrame,
or a callable, which when applied to the DataFrame,
evaluates to a pandas Index/Series/DataFrame.</p>
<p>A dictionary can also be passed
to the variable <code>columns</code> parameter -
the values of the dictionary should be
either be a 1D array
or a callable that evaluates to a
1D array. The array should be unique;
no check is done to verify this.</p>
<p>If <code>by</code> is present, the DataFrame is <em>expanded</em> per group.
<code>by</code> should be a column name, or a list of column names.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">2010</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="s1">&#39;XS&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">2010</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="s1">&#39;S&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">2012</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="s1">&#39;M&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">2010</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="s1">&#39;S&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">2011</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="s1">&#39;S&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">2012</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="s1">&#39;M&#39;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     type  year size</span>
<span class="go">0   apple  2010   XS</span>
<span class="go">1  orange  2010    S</span>
<span class="go">2   apple  2012    M</span>
<span class="go">3  orange  2010    S</span>
<span class="go">4  orange  2011    S</span>
<span class="go">5  orange  2012    M</span>
</code></pre></div>
    <p>Get unique observations:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span>
<span class="go">     type</span>
<span class="go">0   apple</span>
<span class="go">1  orange</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;size&#39;</span><span class="p">)</span>
<span class="go">  size</span>
<span class="go">0   XS</span>
<span class="go">1    S</span>
<span class="go">2    M</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">)</span>
<span class="go">     type size</span>
<span class="go">0   apple   XS</span>
<span class="go">1   apple    S</span>
<span class="go">2   apple    M</span>
<span class="go">3  orange   XS</span>
<span class="go">4  orange    S</span>
<span class="go">5  orange    M</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="go">      type size  year</span>
<span class="go">0    apple   XS  2010</span>
<span class="go">1    apple   XS  2012</span>
<span class="go">2    apple   XS  2011</span>
<span class="go">3    apple    S  2010</span>
<span class="go">4    apple    S  2012</span>
<span class="go">5    apple    S  2011</span>
<span class="go">6    apple    M  2010</span>
<span class="go">7    apple    M  2012</span>
<span class="go">8    apple    M  2011</span>
<span class="go">9   orange   XS  2010</span>
<span class="go">10  orange   XS  2012</span>
<span class="go">11  orange   XS  2011</span>
<span class="go">12  orange    S  2010</span>
<span class="go">13  orange    S  2012</span>
<span class="go">14  orange    S  2011</span>
<span class="go">15  orange    M  2010</span>
<span class="go">16  orange    M  2012</span>
<span class="go">17  orange    M  2011</span>
</code></pre></div>
    <p>Get observations that only occur in the data:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">([</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">])</span>
<span class="go">     type size</span>
<span class="go">0   apple   XS</span>
<span class="go">1  orange    S</span>
<span class="go">2   apple    M</span>
<span class="go">3  orange    M</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">([</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">])</span>
<span class="go">     type size  year</span>
<span class="go">0   apple   XS  2010</span>
<span class="go">1  orange    S  2010</span>
<span class="go">2   apple    M  2012</span>
<span class="go">3  orange    S  2011</span>
<span class="go">4  orange    M  2012</span>
</code></pre></div>
    <p>Expand the DataFrame to include new observations:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">,{</span><span class="s1">&#39;new_year&#39;</span><span class="p">:</span><span class="nb">range</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span><span class="mi">2014</span><span class="p">)})</span>
<span class="go">      type size  new_year</span>
<span class="go">0    apple   XS      2010</span>
<span class="go">1    apple   XS      2011</span>
<span class="go">2    apple   XS      2012</span>
<span class="go">3    apple   XS      2013</span>
<span class="go">4    apple    S      2010</span>
<span class="go">5    apple    S      2011</span>
<span class="go">6    apple    S      2012</span>
<span class="go">7    apple    S      2013</span>
<span class="go">8    apple    M      2010</span>
<span class="go">9    apple    M      2011</span>
<span class="go">10   apple    M      2012</span>
<span class="go">11   apple    M      2013</span>
<span class="go">12  orange   XS      2010</span>
<span class="go">13  orange   XS      2011</span>
<span class="go">14  orange   XS      2012</span>
<span class="go">15  orange   XS      2013</span>
<span class="go">16  orange    S      2010</span>
<span class="go">17  orange    S      2011</span>
<span class="go">18  orange    S      2012</span>
<span class="go">19  orange    S      2013</span>
<span class="go">20  orange    M      2010</span>
<span class="go">21  orange    M      2011</span>
<span class="go">22  orange    M      2012</span>
<span class="go">23  orange    M      2013</span>
</code></pre></div>
    <p>Filter for missing observations:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">combo</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anti_join</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">combo</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anti_join</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;_merge==&#39;right_only&#39;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;_merge&quot;</span><span class="p">)</span>
<span class="go">      type  year size</span>
<span class="go">1    apple  2012   XS</span>
<span class="go">2    apple  2011   XS</span>
<span class="go">3    apple  2010    S</span>
<span class="go">4    apple  2012    S</span>
<span class="go">5    apple  2011    S</span>
<span class="go">6    apple  2010    M</span>
<span class="go">8    apple  2011    M</span>
<span class="go">9   orange  2010   XS</span>
<span class="go">10  orange  2012   XS</span>
<span class="go">11  orange  2011   XS</span>
<span class="go">14  orange  2012    S</span>
<span class="go">16  orange  2010    M</span>
<span class="go">18  orange  2011    M</span>
</code></pre></div>
    <p>Expand within each group, using <code>by</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">)</span>
<span class="go">        year size</span>
<span class="go">type</span>
<span class="go">apple   2010   XS</span>
<span class="go">apple   2010    M</span>
<span class="go">apple   2012   XS</span>
<span class="go">apple   2012    M</span>
<span class="go">orange  2010    S</span>
<span class="go">orange  2010    M</span>
<span class="go">orange  2011    S</span>
<span class="go">orange  2011    M</span>
<span class="go">orange  2012    S</span>
<span class="go">orange  2012    M</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specification of columns to expand.
It could be column labels,
 a list/tuple of column labels,
 or a pandas Index/Series/DataFrame.</p>
<p>It can also be a callable;
the callable will be applied to the
entire DataFrame. The callable should
return a pandas Series/Index/DataFrame.</p>
<p>It can also be a dictionary,
where the values are either a 1D array
or a callable that evaluates to a
1D array.
The array should be unique;
no check is done to verify this.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, sort the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>by</code>
            </td>
            <td>
                  <code>str | list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label or list of labels to group by.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/expand_grid.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">expand</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">*</span><span class="n">columns</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">,</span>
    <span class="n">sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">by</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a DataFrame from a cartesian combination of all inputs.</span>

<span class="sd">    Inspiration is from tidyr&#39;s expand() function.</span>

<span class="sd">    expand() is often useful with</span>
<span class="sd">    [pd.merge](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.merge.html)</span>
<span class="sd">    to convert implicit</span>
<span class="sd">    missing values to explicit missing values - similar to</span>
<span class="sd">    [`complete`][janitor.functions.complete.complete].</span>

<span class="sd">    It can also be used to figure out which combinations are missing</span>
<span class="sd">    (e.g identify gaps in your DataFrame).</span>

<span class="sd">    The variable `columns` parameter can be a column name,</span>
<span class="sd">    a list of column names, a pandas Index/Series/DataFrame,</span>
<span class="sd">    or a callable, which when applied to the DataFrame,</span>
<span class="sd">    evaluates to a pandas Index/Series/DataFrame.</span>

<span class="sd">    A dictionary can also be passed</span>
<span class="sd">    to the variable `columns` parameter -</span>
<span class="sd">    the values of the dictionary should be</span>
<span class="sd">    either be a 1D array</span>
<span class="sd">    or a callable that evaluates to a</span>
<span class="sd">    1D array. The array should be unique;</span>
<span class="sd">    no check is done to verify this.</span>

<span class="sd">    If `by` is present, the DataFrame is *expanded* per group.</span>
<span class="sd">    `by` should be a column name, or a list of column names.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; data = [{&#39;type&#39;: &#39;apple&#39;, &#39;year&#39;: 2010, &#39;size&#39;: &#39;XS&#39;},</span>
<span class="sd">        ...         {&#39;type&#39;: &#39;orange&#39;, &#39;year&#39;: 2010, &#39;size&#39;: &#39;S&#39;},</span>
<span class="sd">        ...         {&#39;type&#39;: &#39;apple&#39;, &#39;year&#39;: 2012, &#39;size&#39;: &#39;M&#39;},</span>
<span class="sd">        ...         {&#39;type&#39;: &#39;orange&#39;, &#39;year&#39;: 2010, &#39;size&#39;: &#39;S&#39;},</span>
<span class="sd">        ...         {&#39;type&#39;: &#39;orange&#39;, &#39;year&#39;: 2011, &#39;size&#39;: &#39;S&#39;},</span>
<span class="sd">        ...         {&#39;type&#39;: &#39;orange&#39;, &#39;year&#39;: 2012, &#39;size&#39;: &#39;M&#39;}]</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">             type  year size</span>
<span class="sd">        0   apple  2010   XS</span>
<span class="sd">        1  orange  2010    S</span>
<span class="sd">        2   apple  2012    M</span>
<span class="sd">        3  orange  2010    S</span>
<span class="sd">        4  orange  2011    S</span>
<span class="sd">        5  orange  2012    M</span>

<span class="sd">        Get unique observations:</span>
<span class="sd">        &gt;&gt;&gt; df.expand(&#39;type&#39;)</span>
<span class="sd">             type</span>
<span class="sd">        0   apple</span>
<span class="sd">        1  orange</span>
<span class="sd">        &gt;&gt;&gt; df.expand(&#39;size&#39;)</span>
<span class="sd">          size</span>
<span class="sd">        0   XS</span>
<span class="sd">        1    S</span>
<span class="sd">        2    M</span>
<span class="sd">        &gt;&gt;&gt; df.expand(&#39;type&#39;, &#39;size&#39;)</span>
<span class="sd">             type size</span>
<span class="sd">        0   apple   XS</span>
<span class="sd">        1   apple    S</span>
<span class="sd">        2   apple    M</span>
<span class="sd">        3  orange   XS</span>
<span class="sd">        4  orange    S</span>
<span class="sd">        5  orange    M</span>
<span class="sd">        &gt;&gt;&gt; df.expand(&#39;type&#39;,&#39;size&#39;,&#39;year&#39;)</span>
<span class="sd">              type size  year</span>
<span class="sd">        0    apple   XS  2010</span>
<span class="sd">        1    apple   XS  2012</span>
<span class="sd">        2    apple   XS  2011</span>
<span class="sd">        3    apple    S  2010</span>
<span class="sd">        4    apple    S  2012</span>
<span class="sd">        5    apple    S  2011</span>
<span class="sd">        6    apple    M  2010</span>
<span class="sd">        7    apple    M  2012</span>
<span class="sd">        8    apple    M  2011</span>
<span class="sd">        9   orange   XS  2010</span>
<span class="sd">        10  orange   XS  2012</span>
<span class="sd">        11  orange   XS  2011</span>
<span class="sd">        12  orange    S  2010</span>
<span class="sd">        13  orange    S  2012</span>
<span class="sd">        14  orange    S  2011</span>
<span class="sd">        15  orange    M  2010</span>
<span class="sd">        16  orange    M  2012</span>
<span class="sd">        17  orange    M  2011</span>

<span class="sd">        Get observations that only occur in the data:</span>
<span class="sd">        &gt;&gt;&gt; df.expand([&#39;type&#39;,&#39;size&#39;])</span>
<span class="sd">             type size</span>
<span class="sd">        0   apple   XS</span>
<span class="sd">        1  orange    S</span>
<span class="sd">        2   apple    M</span>
<span class="sd">        3  orange    M</span>
<span class="sd">        &gt;&gt;&gt; df.expand([&#39;type&#39;,&#39;size&#39;,&#39;year&#39;])</span>
<span class="sd">             type size  year</span>
<span class="sd">        0   apple   XS  2010</span>
<span class="sd">        1  orange    S  2010</span>
<span class="sd">        2   apple    M  2012</span>
<span class="sd">        3  orange    S  2011</span>
<span class="sd">        4  orange    M  2012</span>

<span class="sd">        Expand the DataFrame to include new observations:</span>
<span class="sd">        &gt;&gt;&gt; df.expand(&#39;type&#39;,&#39;size&#39;,{&#39;new_year&#39;:range(2010,2014)})</span>
<span class="sd">              type size  new_year</span>
<span class="sd">        0    apple   XS      2010</span>
<span class="sd">        1    apple   XS      2011</span>
<span class="sd">        2    apple   XS      2012</span>
<span class="sd">        3    apple   XS      2013</span>
<span class="sd">        4    apple    S      2010</span>
<span class="sd">        5    apple    S      2011</span>
<span class="sd">        6    apple    S      2012</span>
<span class="sd">        7    apple    S      2013</span>
<span class="sd">        8    apple    M      2010</span>
<span class="sd">        9    apple    M      2011</span>
<span class="sd">        10   apple    M      2012</span>
<span class="sd">        11   apple    M      2013</span>
<span class="sd">        12  orange   XS      2010</span>
<span class="sd">        13  orange   XS      2011</span>
<span class="sd">        14  orange   XS      2012</span>
<span class="sd">        15  orange   XS      2013</span>
<span class="sd">        16  orange    S      2010</span>
<span class="sd">        17  orange    S      2011</span>
<span class="sd">        18  orange    S      2012</span>
<span class="sd">        19  orange    S      2013</span>
<span class="sd">        20  orange    M      2010</span>
<span class="sd">        21  orange    M      2011</span>
<span class="sd">        22  orange    M      2012</span>
<span class="sd">        23  orange    M      2013</span>

<span class="sd">        Filter for missing observations:</span>
<span class="sd">        &gt;&gt;&gt; combo = df.expand(&#39;type&#39;,&#39;size&#39;,&#39;year&#39;)</span>
<span class="sd">        &gt;&gt;&gt; anti_join = df.merge(combo, how=&#39;right&#39;, indicator=True)</span>
<span class="sd">        &gt;&gt;&gt; anti_join.query(&quot;_merge==&#39;right_only&#39;&quot;).drop(columns=&quot;_merge&quot;)</span>
<span class="sd">              type  year size</span>
<span class="sd">        1    apple  2012   XS</span>
<span class="sd">        2    apple  2011   XS</span>
<span class="sd">        3    apple  2010    S</span>
<span class="sd">        4    apple  2012    S</span>
<span class="sd">        5    apple  2011    S</span>
<span class="sd">        6    apple  2010    M</span>
<span class="sd">        8    apple  2011    M</span>
<span class="sd">        9   orange  2010   XS</span>
<span class="sd">        10  orange  2012   XS</span>
<span class="sd">        11  orange  2011   XS</span>
<span class="sd">        14  orange  2012    S</span>
<span class="sd">        16  orange  2010    M</span>
<span class="sd">        18  orange  2011    M</span>

<span class="sd">        Expand within each group, using `by`:</span>
<span class="sd">        &gt;&gt;&gt; df.expand(&#39;year&#39;,&#39;size&#39;,by=&#39;type&#39;)</span>
<span class="sd">                year size</span>
<span class="sd">        type</span>
<span class="sd">        apple   2010   XS</span>
<span class="sd">        apple   2010    M</span>
<span class="sd">        apple   2012   XS</span>
<span class="sd">        apple   2012    M</span>
<span class="sd">        orange  2010    S</span>
<span class="sd">        orange  2010    M</span>
<span class="sd">        orange  2011    S</span>
<span class="sd">        orange  2011    M</span>
<span class="sd">        orange  2012    S</span>
<span class="sd">        orange  2012    M</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        columns: Specification of columns to expand.</span>
<span class="sd">            It could be column labels,</span>
<span class="sd">             a list/tuple of column labels,</span>
<span class="sd">             or a pandas Index/Series/DataFrame.</span>

<span class="sd">            It can also be a callable;</span>
<span class="sd">            the callable will be applied to the</span>
<span class="sd">            entire DataFrame. The callable should</span>
<span class="sd">            return a pandas Series/Index/DataFrame.</span>

<span class="sd">            It can also be a dictionary,</span>
<span class="sd">            where the values are either a 1D array</span>
<span class="sd">            or a callable that evaluates to a</span>
<span class="sd">            1D array.</span>
<span class="sd">            The array should be unique;</span>
<span class="sd">            no check is done to verify this.</span>
<span class="sd">        sort: If True, sort the DataFrame.</span>
<span class="sd">        by: Label or list of labels to group by.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="k">if</span> <span class="n">by</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">_build_pandas_objects_for_expand</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cartesian_product</span><span class="p">(</span><span class="o">*</span><span class="n">contents</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_scalar</span><span class="p">(</span><span class="n">by</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">by</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;The argument to the by parameter &quot;</span>
            <span class="s2">&quot;should be a scalar or a list; &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;instead got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">by</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">present</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">_grouper</span><span class="o">.</span><span class="n">result_index</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">lengths</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">grouped</span><span class="p">:</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="n">_build_pandas_objects_for_expand</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="n">_compute_cartesian_product</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">objects</span><span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">objects</span><span class="p">))]</span><span class="o">.</span><span class="n">size</span>
        <span class="n">lengths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">objects</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">dictionary</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">key</span><span class="p">:</span> <span class="n">concat_compat</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">lengths</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sort</span><span class="p">:</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">out</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.expand_grid.expand_grid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">expand_grid</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">df_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">others</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a DataFrame from a cartesian combination of all inputs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release;
use <a class="autorefs autorefs-internal" href="#janitor.functions.expand_grid.cartesian_product"><code>cartesian_product</code></a>
instead.</p>
</div>
<p>It is not restricted to a pandas DataFrame;
it can work with any list-like structure
that is 1 or 2 dimensional.</p>
<p>If method-chaining to a DataFrame, a string argument
to <code>df_key</code> parameter must be provided.</p>
<p>Data types are preserved in this function,
including pandas' extension array dtypes.</p>
<p>The output will always be a DataFrame, usually with a MultiIndex column,
with the keys of the <code>others</code> dictionary serving as the top level columns.</p>
<p>If a pandas Series/DataFrame is passed, and has a labeled index, or
a MultiIndex index, the index is discarded; the final DataFrame
will have a RangeIndex.</p>
<p>The MultiIndexed DataFrame can be flattened using pyjanitor's
<a class="autorefs autorefs-internal" href="#janitor.functions.collapse_levels.collapse_levels"><code>collapse_levels</code></a>
method; the user can also decide to drop any of the levels, via pandas'
<code>droplevel</code> method.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span> <span class="k">as</span> <span class="nn">jn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">expand_grid</span><span class="p">(</span><span class="n">df_key</span><span class="o">=</span><span class="s2">&quot;df&quot;</span><span class="p">,</span> <span class="n">others</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="go">  df     z</span>
<span class="go">   x  y  0</span>
<span class="go">0  1  2  1</span>
<span class="go">1  1  2  2</span>
<span class="go">2  1  2  3</span>
<span class="go">3  2  1  1</span>
<span class="go">4  2  1  2</span>
<span class="go">5  2  1  3</span>
</code></pre></div>
    <p><code>expand_grid</code> works with non-pandas objects:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jn</span><span class="o">.</span><span class="n">expand_grid</span><span class="p">(</span><span class="n">others</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="go">   x  y</span>
<span class="go">   0  0</span>
<span class="go">0  1  1</span>
<span class="go">1  1  2</span>
<span class="go">2  2  1</span>
<span class="go">3  2  2</span>
<span class="go">4  3  1</span>
<span class="go">5  3  2</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>Optional[DataFrame]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>df_key</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of key for the dataframe.
It becomes part of the column names of the dataframe.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>others</code>
            </td>
            <td>
                  <code>Optional[dict]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary that contains the data
to be combined with the dataframe.
If no dataframe exists, all inputs
in <code>others</code> will be combined to create a DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>KeyError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there is a DataFrame and <code>df_key</code> is not provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>Union[DataFrame, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame of the cartesian product.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>Union[DataFrame, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>df</code> is not provided, and <code>others</code> is not provided,</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>Union[DataFrame, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None is returned.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/expand_grid.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `janitor.cartesian_product` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">expand_grid</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">df_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">others</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a DataFrame from a cartesian combination of all inputs.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release;</span>
<span class="sd">        use [`cartesian_product`][janitor.functions.expand_grid.cartesian_product]</span>
<span class="sd">        instead.</span>

<span class="sd">    It is not restricted to a pandas DataFrame;</span>
<span class="sd">    it can work with any list-like structure</span>
<span class="sd">    that is 1 or 2 dimensional.</span>

<span class="sd">    If method-chaining to a DataFrame, a string argument</span>
<span class="sd">    to `df_key` parameter must be provided.</span>

<span class="sd">    Data types are preserved in this function,</span>
<span class="sd">    including pandas&#39; extension array dtypes.</span>

<span class="sd">    The output will always be a DataFrame, usually with a MultiIndex column,</span>
<span class="sd">    with the keys of the `others` dictionary serving as the top level columns.</span>

<span class="sd">    If a pandas Series/DataFrame is passed, and has a labeled index, or</span>
<span class="sd">    a MultiIndex index, the index is discarded; the final DataFrame</span>
<span class="sd">    will have a RangeIndex.</span>

<span class="sd">    The MultiIndexed DataFrame can be flattened using pyjanitor&#39;s</span>
<span class="sd">    [`collapse_levels`][janitor.functions.collapse_levels.collapse_levels]</span>
<span class="sd">    method; the user can also decide to drop any of the levels, via pandas&#39;</span>
<span class="sd">    `droplevel` method.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor as jn</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;x&quot;: [1, 2], &quot;y&quot;: [2, 1]})</span>
<span class="sd">        &gt;&gt;&gt; data = {&quot;z&quot;: [1, 2, 3]}</span>
<span class="sd">        &gt;&gt;&gt; df.expand_grid(df_key=&quot;df&quot;, others=data)</span>
<span class="sd">          df     z</span>
<span class="sd">           x  y  0</span>
<span class="sd">        0  1  2  1</span>
<span class="sd">        1  1  2  2</span>
<span class="sd">        2  1  2  3</span>
<span class="sd">        3  2  1  1</span>
<span class="sd">        4  2  1  2</span>
<span class="sd">        5  2  1  3</span>

<span class="sd">        `expand_grid` works with non-pandas objects:</span>

<span class="sd">        &gt;&gt;&gt; data = {&quot;x&quot;: [1, 2, 3], &quot;y&quot;: [1, 2]}</span>
<span class="sd">        &gt;&gt;&gt; jn.expand_grid(others=data)</span>
<span class="sd">           x  y</span>
<span class="sd">           0  0</span>
<span class="sd">        0  1  1</span>
<span class="sd">        1  1  2</span>
<span class="sd">        2  2  1</span>
<span class="sd">        3  2  2</span>
<span class="sd">        4  3  1</span>
<span class="sd">        5  3  2</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        df_key: Name of key for the dataframe.</span>
<span class="sd">            It becomes part of the column names of the dataframe.</span>
<span class="sd">        others: A dictionary that contains the data</span>
<span class="sd">            to be combined with the dataframe.</span>
<span class="sd">            If no dataframe exists, all inputs</span>
<span class="sd">            in `others` will be combined to create a DataFrame.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If there is a DataFrame and `df_key` is not provided.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame of the cartesian product.</span>
<span class="sd">        If `df` is not provided, and `others` is not provided,</span>
<span class="sd">        None is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;df&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">df_key</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="s2">&quot;Using `expand_grid` as part of a &quot;</span>
                <span class="s2">&quot;DataFrame method chain requires that &quot;</span>
                <span class="s2">&quot;a string argument be provided for &quot;</span>
                <span class="s2">&quot;the `df_key` parameter. &quot;</span>
            <span class="p">)</span>

        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;df_key&quot;</span><span class="p">,</span> <span class="n">df_key</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">others</span> <span class="ow">and</span> <span class="p">(</span><span class="n">df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">others</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;others&quot;</span><span class="p">,</span> <span class="n">others</span><span class="p">,</span> <span class="p">[</span><span class="nb">dict</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">others</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">others</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="p">{</span><span class="n">df_key</span><span class="p">:</span> <span class="n">df</span><span class="p">},</span> <span class="o">**</span><span class="n">others</span><span class="p">}</span>

    <span class="n">others</span> <span class="o">=</span> <span class="n">_computations_expand_grid</span><span class="p">(</span><span class="n">others</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">others</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.explode_index" class="doc doc-heading">
            <code>explode_index</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>explode_index</code> function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.explode_index.explode_index" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">explode_index</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">names_sep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names_pattern</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">level_names</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Explode a single index DataFrame into a MultiIndex DataFrame.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>         <span class="p">{</span><span class="s1">&#39;max_speed_mean&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">267.3333333333333</span><span class="p">,</span> <span class="mf">50.5</span><span class="p">],</span>
<span class="gp">... </span>          <span class="s1">&#39;max_speed_median&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">389.0</span><span class="p">,</span> <span class="mf">50.5</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   max_speed_mean  max_speed_median</span>
<span class="go">0      267.333333             389.0</span>
<span class="go">1       50.500000              50.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">explode_index</span><span class="p">(</span><span class="n">names_sep</span><span class="o">=</span><span class="s1">&#39;_&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
<span class="go">          max</span>
<span class="go">        speed</span>
<span class="go">         mean median</span>
<span class="go">0  267.333333  389.0</span>
<span class="go">1   50.500000   50.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">explode_index</span><span class="p">(</span><span class="n">names_pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(.+speed)_(.+)&quot;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
<span class="go">    max_speed</span>
<span class="go">         mean median</span>
<span class="go">0  267.333333  389.0</span>
<span class="go">1   50.500000   50.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">explode_index</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">names_pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(?P&lt;measurement&gt;.+speed)_(?P&lt;aggregation&gt;.+)&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">measurement   max_speed</span>
<span class="go">aggregation        mean median</span>
<span class="go">0            267.333333  389.0</span>
<span class="go">1             50.500000   50.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">explode_index</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">names_sep</span><span class="o">=</span><span class="s1">&#39;_&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">level_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;min or max&#39;</span><span class="p">,</span> <span class="s1">&#39;measurement&#39;</span><span class="p">,</span><span class="s1">&#39;aggregation&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">min or max          max</span>
<span class="go">measurement       speed</span>
<span class="go">aggregation        mean median</span>
<span class="go">0            267.333333  389.0</span>
<span class="go">1             50.500000   50.5</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_sep</code>
            </td>
            <td>
                  <code>Union[str, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>string or compiled regex used to split the column/index into levels.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_pattern</code>
            </td>
            <td>
                  <code>Union[str, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>regex to extract new levels from the column/index.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>'index/columns'. Determines which axis to explode.</p>
              </div>
            </td>
            <td>
                  <code>&#39;columns&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>level_names</code>
            </td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>names of the levels in the MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with a MultiIndex.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/explode_index.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">explode_index</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">names_sep</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">names_pattern</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;columns&quot;</span><span class="p">,</span>
    <span class="n">level_names</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Explode a single index DataFrame into a MultiIndex DataFrame.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...          {&#39;max_speed_mean&#39;: [267.3333333333333, 50.5],</span>
<span class="sd">        ...           &#39;max_speed_median&#39;: [389.0, 50.5]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           max_speed_mean  max_speed_median</span>
<span class="sd">        0      267.333333             389.0</span>
<span class="sd">        1       50.500000              50.5</span>
<span class="sd">        &gt;&gt;&gt; df.explode_index(names_sep=&#39;_&#39;,axis=&#39;columns&#39;)  # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">                  max</span>
<span class="sd">                speed</span>
<span class="sd">                 mean median</span>
<span class="sd">        0  267.333333  389.0</span>
<span class="sd">        1   50.500000   50.5</span>
<span class="sd">        &gt;&gt;&gt; df.explode_index(names_pattern=r&quot;(.+speed)_(.+)&quot;,axis=&#39;columns&#39;) # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">            max_speed</span>
<span class="sd">                 mean median</span>
<span class="sd">        0  267.333333  389.0</span>
<span class="sd">        1   50.500000   50.5</span>
<span class="sd">        &gt;&gt;&gt; df.explode_index(</span>
<span class="sd">        ...     names_pattern=r&quot;(?P&lt;measurement&gt;.+speed)_(?P&lt;aggregation&gt;.+)&quot;,</span>
<span class="sd">        ...     axis=&#39;columns&#39;</span>
<span class="sd">        ... ) # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">        measurement   max_speed</span>
<span class="sd">        aggregation        mean median</span>
<span class="sd">        0            267.333333  389.0</span>
<span class="sd">        1             50.500000   50.5</span>
<span class="sd">        &gt;&gt;&gt; df.explode_index(</span>
<span class="sd">        ...     names_sep=&#39;_&#39;,</span>
<span class="sd">        ...     axis=&#39;columns&#39;,</span>
<span class="sd">        ...     level_names = [&#39;min or max&#39;, &#39;measurement&#39;,&#39;aggregation&#39;]</span>
<span class="sd">        ... ) # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">        min or max          max</span>
<span class="sd">        measurement       speed</span>
<span class="sd">        aggregation        mean median</span>
<span class="sd">        0            267.333333  389.0</span>
<span class="sd">        1             50.500000   50.5</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        names_sep: string or compiled regex used to split the column/index into levels.</span>
<span class="sd">        names_pattern: regex to extract new levels from the column/index.</span>
<span class="sd">        axis: &#39;index/columns&#39;. Determines which axis to explode.</span>
<span class="sd">        level_names: names of the levels in the MultiIndex.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with a MultiIndex.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;axis&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span><span class="p">}:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;axis should be either index or columns.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">names_sep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">names_pattern</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Provide argument for either names_sep or names_pattern.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">names_sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">names_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Provide argument for either names_sep or names_pattern, not both.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">names_sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;names_sep&quot;</span><span class="p">,</span> <span class="n">names_sep</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">names_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;names_pattern&quot;</span><span class="p">,</span> <span class="n">names_pattern</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">level_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;level_names&quot;</span><span class="p">,</span> <span class="n">level_names</span><span class="p">,</span> <span class="p">[</span><span class="nb">list</span><span class="p">])</span>

    <span class="n">new_index</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_index</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">df</span>
    <span class="c1"># avoid a copy - Index is immutable; a slice is safe to use.</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:]</span>
    <span class="k">if</span> <span class="n">names_sep</span><span class="p">:</span>
        <span class="n">new_index</span> <span class="o">=</span> <span class="n">new_index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">names_sep</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">named_groups</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">names_pattern</span><span class="p">)</span><span class="o">.</span><span class="n">groupindex</span>
        <span class="k">if</span> <span class="n">named_groups</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">level_names</span><span class="p">:</span>
            <span class="n">level_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">named_groups</span><span class="p">)</span>
        <span class="n">new_index</span> <span class="o">=</span> <span class="n">new_index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">names_pattern</span><span class="p">)</span>
        <span class="n">new_index</span> <span class="o">=</span> <span class="p">[</span><span class="n">arr</span><span class="o">.</span><span class="n">array</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">arr</span> <span class="ow">in</span> <span class="n">new_index</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="n">new_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">(</span><span class="n">new_index</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">level_names</span><span class="p">:</span>
        <span class="n">new_index</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="n">level_names</span>

    <span class="nb">setattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">new_index</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.factorize_columns" class="doc doc-heading">
            <code>factorize_columns</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>factorize_columns</code> function</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.factorize_columns.factorize_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">factorize_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;_enc&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Converts labels into numerical data.</p>
<p>This method will create a new column with the string <code>_enc</code> appended
after the original column's name.
This can be overridden with the suffix parameter.</p>
<p>Internally, this method uses pandas <code>factorize</code> method.
It takes in an optional suffix and keyword arguments also.
An empty string as suffix will override the existing column.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  foo  bar</span>
<span class="go">0   b    4</span>
<span class="go">1   b    5</span>
<span class="go">2   a    6</span>
<span class="go">3   c    7</span>
<span class="go">4   b    8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">factorize_columns</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="go">  foo  bar  foo_enc</span>
<span class="go">0   b    4        0</span>
<span class="go">1   b    5        0</span>
<span class="go">2   a    6        1</span>
<span class="go">3   c    7        2</span>
<span class="go">4   b    8        0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[str, Iterable[str], Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name or an iterable (list or tuple) of
column names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>suffix</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Suffix to be used for the new column.
An empty string suffix means, it will override the existing column.</p>
              </div>
            </td>
            <td>
                  <code>&#39;_enc&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments. It takes any of the keyword arguments,
which the pandas factorize method takes like <code>sort</code>, <code>na_sentinel</code>,
<code>size_hint</code>.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/factorize_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">factorize_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Hashable</span><span class="p">],</span>
    <span class="n">suffix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;_enc&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts labels into numerical data.</span>

<span class="sd">    This method will create a new column with the string `_enc` appended</span>
<span class="sd">    after the original column&#39;s name.</span>
<span class="sd">    This can be overridden with the suffix parameter.</span>

<span class="sd">    Internally, this method uses pandas `factorize` method.</span>
<span class="sd">    It takes in an optional suffix and keyword arguments also.</span>
<span class="sd">    An empty string as suffix will override the existing column.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;foo&quot;: [&quot;b&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;, &quot;b&quot;],</span>
<span class="sd">        ...     &quot;bar&quot;: range(4, 9),</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          foo  bar</span>
<span class="sd">        0   b    4</span>
<span class="sd">        1   b    5</span>
<span class="sd">        2   a    6</span>
<span class="sd">        3   c    7</span>
<span class="sd">        4   b    8</span>
<span class="sd">        &gt;&gt;&gt; df.factorize_columns(column_names=&quot;foo&quot;)</span>
<span class="sd">          foo  bar  foo_enc</span>
<span class="sd">        0   b    4        0</span>
<span class="sd">        1   b    5        0</span>
<span class="sd">        2   a    6        1</span>
<span class="sd">        3   c    7        2</span>
<span class="sd">        4   b    8        0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        column_names: A column name or an iterable (list or tuple) of</span>
<span class="sd">            column names.</span>
<span class="sd">        suffix: Suffix to be used for the new column.</span>
<span class="sd">            An empty string suffix means, it will override the existing column.</span>
<span class="sd">        **kwargs: Keyword arguments. It takes any of the keyword arguments,</span>
<span class="sd">            which the pandas factorize method takes like `sort`, `na_sentinel`,</span>
<span class="sd">            `size_hint`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">_factorize</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.fill" class="doc doc-heading">
            <code>fill</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.fill.fill_direction" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fill_direction</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Provide a method-chainable function for filling missing values
in selected columns.</p>
<p>It is a wrapper for <code>pd.Series.ffill</code> and <code>pd.Series.bfill</code>,
and pairs the column name with one of <code>up</code>, <code>down</code>, <code>updown</code>,
and <code>downup</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.assign</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span> <span class="k">as</span> <span class="nn">jn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span>
<span class="gp">... </span>       <span class="s1">&#39;col1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>       <span class="s1">&#39;col2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">... </span>       <span class="s1">&#39;col3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
<span class="gp">... </span>       <span class="s1">&#39;col4&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
<span class="gp">... </span>       <span class="s1">&#39;col5&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
<span class="gp">... </span>   <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   col1  col2  col3  col4  col5</span>
<span class="go">0     1   NaN   8.0   NaN   NaN</span>
<span class="go">1     2   5.0   9.0   NaN  12.0</span>
<span class="go">2     3   6.0  10.0  11.0  13.0</span>
<span class="go">3     4   7.0   NaN   NaN   NaN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">fill_direction</span><span class="p">(</span>
<span class="gp">... </span><span class="n">col2</span> <span class="o">=</span> <span class="s1">&#39;up&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">col3</span> <span class="o">=</span> <span class="s1">&#39;down&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">col4</span> <span class="o">=</span> <span class="s1">&#39;downup&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">col5</span> <span class="o">=</span> <span class="s1">&#39;updown&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   col1  col2  col3  col4  col5</span>
<span class="go">0     1   5.0   8.0  11.0  12.0</span>
<span class="go">1     2   5.0   9.0  11.0  12.0</span>
<span class="go">2     3   6.0  10.0  11.0  13.0</span>
<span class="go">3     4   7.0  10.0  11.0  13.0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Key - value pairs of columns and directions.
Directions can be either <code>down</code>, <code>up</code>, <code>updown</code>
(fill up then down) and <code>downup</code> (fill down then up).</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If direction supplied is not one of <code>down</code>, <code>up</code>,
<code>updown</code>, or <code>downup</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with modified column(s).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/fill.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.assign` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">fill_direction</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide a method-chainable function for filling missing values</span>
<span class="sd">    in selected columns.</span>

<span class="sd">    It is a wrapper for `pd.Series.ffill` and `pd.Series.bfill`,</span>
<span class="sd">    and pairs the column name with one of `up`, `down`, `updown`,</span>
<span class="sd">    and `downup`.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.assign` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor as jn</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...    {</span>
<span class="sd">        ...        &#39;col1&#39;: [1, 2, 3, 4],</span>
<span class="sd">        ...        &#39;col2&#39;: [None, 5, 6, 7],</span>
<span class="sd">        ...        &#39;col3&#39;: [8, 9, 10, None],</span>
<span class="sd">        ...        &#39;col4&#39;: [None, None, 11, None],</span>
<span class="sd">        ...        &#39;col5&#39;: [None, 12, 13, None]</span>
<span class="sd">        ...    }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           col1  col2  col3  col4  col5</span>
<span class="sd">        0     1   NaN   8.0   NaN   NaN</span>
<span class="sd">        1     2   5.0   9.0   NaN  12.0</span>
<span class="sd">        2     3   6.0  10.0  11.0  13.0</span>
<span class="sd">        3     4   7.0   NaN   NaN   NaN</span>
<span class="sd">        &gt;&gt;&gt; df.fill_direction(</span>
<span class="sd">        ... col2 = &#39;up&#39;,</span>
<span class="sd">        ... col3 = &#39;down&#39;,</span>
<span class="sd">        ... col4 = &#39;downup&#39;,</span>
<span class="sd">        ... col5 = &#39;updown&#39;</span>
<span class="sd">        ... )</span>
<span class="sd">           col1  col2  col3  col4  col5</span>
<span class="sd">        0     1   5.0   8.0  11.0  12.0</span>
<span class="sd">        1     2   5.0   9.0  11.0  12.0</span>
<span class="sd">        2     3   6.0  10.0  11.0  13.0</span>
<span class="sd">        3     4   7.0  10.0  11.0  13.0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        **kwargs: Key - value pairs of columns and directions.</span>
<span class="sd">            Directions can be either `down`, `up`, `updown`</span>
<span class="sd">            (fill up then down) and `downup` (fill down then up).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If direction supplied is not one of `down`, `up`,</span>
<span class="sd">            `updown`, or `downup`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with modified column(s).</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="n">fill_types</span> <span class="o">=</span> <span class="p">{</span><span class="n">fill</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">fill</span> <span class="ow">in</span> <span class="n">_FILLTYPE</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">fill_type</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;fill_type&quot;</span><span class="p">,</span> <span class="n">fill_type</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">fill_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fill_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;fill_type should be one of up, down, updown, or downup.&quot;</span>
            <span class="p">)</span>

    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

    <span class="n">new_values</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">fill_type</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="n">_FILLTYPE</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fill_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">direction</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="n">methodcaller</span><span class="p">(</span><span class="n">direction</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">direction</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="p">[</span><span class="n">methodcaller</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">direction</span><span class="p">]</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">_chain_func</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="o">*</span><span class="n">direction</span><span class="p">)</span>
        <span class="n">new_values</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">new_values</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.fill.fill_empty" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fill_empty</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Fill <code>NaN</code> values in specified columns with a given value.</p>
<p>Super sugary syntax that wraps <code>pandas.DataFrame.fillna</code>.</p>
<p>This method mutates the original DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <a class="autorefs autorefs-internal" href="#janitor.functions.impute.impute"><code>jn.impute</code></a> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>       <span class="p">{</span>
<span class="gp">... </span>           <span class="s1">&#39;col1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>           <span class="s1">&#39;col2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">None</span> <span class="p">],</span>
<span class="gp">... </span>           <span class="s1">&#39;col3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">... </span>       <span class="p">}</span>
<span class="gp">... </span>   <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   col1  col2  col3</span>
<span class="go">0     1   NaN   NaN</span>
<span class="go">1     2   4.0   5.0</span>
<span class="go">2     3   NaN   6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">fill_empty</span><span class="p">(</span><span class="n">column_names</span> <span class="o">=</span> <span class="s1">&#39;col2&#39;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">   col1  col2  col3</span>
<span class="go">0     1   0.0   NaN</span>
<span class="go">1     2   4.0   5.0</span>
<span class="go">2     3   0.0   6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">fill_empty</span><span class="p">(</span><span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;col2&#39;</span><span class="p">,</span> <span class="s1">&#39;col3&#39;</span><span class="p">],</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">   col1  col2  col3</span>
<span class="go">0     1   0.0   0.0</span>
<span class="go">1     2   4.0   5.0</span>
<span class="go">2     3   0.0   6.0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[str, Iterable[str], Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name or an iterable (list
or tuple) of column names. If a single column name is passed in,
then only that column will be filled; if a list or tuple is passed
in, then those columns will all be filled with the same value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value that replaces the <code>NaN</code> values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with <code>NaN</code> values filled.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/fill.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
    <span class="s2">&quot;Kindly use `jn.impute` instead.&quot;</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fill_empty</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Hashable</span><span class="p">],</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fill `NaN` values in specified columns with a given value.</span>

<span class="sd">    Super sugary syntax that wraps `pandas.DataFrame.fillna`.</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use [`jn.impute`][janitor.functions.impute.impute] instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...        {</span>
<span class="sd">        ...            &#39;col1&#39;: [1, 2, 3],</span>
<span class="sd">        ...            &#39;col2&#39;: [None, 4, None ],</span>
<span class="sd">        ...            &#39;col3&#39;: [None, 5, 6]</span>
<span class="sd">        ...        }</span>
<span class="sd">        ...    )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           col1  col2  col3</span>
<span class="sd">        0     1   NaN   NaN</span>
<span class="sd">        1     2   4.0   5.0</span>
<span class="sd">        2     3   NaN   6.0</span>
<span class="sd">        &gt;&gt;&gt; df.fill_empty(column_names = &#39;col2&#39;, value = 0)</span>
<span class="sd">           col1  col2  col3</span>
<span class="sd">        0     1   0.0   NaN</span>
<span class="sd">        1     2   4.0   5.0</span>
<span class="sd">        2     3   0.0   6.0</span>
<span class="sd">        &gt;&gt;&gt; df.fill_empty(column_names = [&#39;col2&#39;, &#39;col3&#39;], value = 0)</span>
<span class="sd">           col1  col2  col3</span>
<span class="sd">        0     1   0.0   0.0</span>
<span class="sd">        1     2   4.0   5.0</span>
<span class="sd">        2     3   0.0   6.0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: A column name or an iterable (list</span>
<span class="sd">            or tuple) of column names. If a single column name is passed in,</span>
<span class="sd">            then only that column will be filled; if a list or tuple is passed</span>
<span class="sd">            in, then those columns will all be filled with the same value.</span>
<span class="sd">        value: The value that replaces the `NaN` values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with `NaN` values filled.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_fill_empty</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.filter" class="doc doc-heading">
            <code>filter</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.filter.filter_column_isin" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">filter_column_isin</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">iterable</span><span class="p">,</span> <span class="n">complement</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Filter a dataframe for values in a column that exist in the given iterable.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Assumes exact matching; fuzzy matching not implemented.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Filter the dataframe to retain rows for which <code>names</code>
are exactly <code>James</code> or <code>John</code>.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jane&quot;</span><span class="p">,</span> <span class="s2">&quot;Jeremy&quot;</span><span class="p">,</span> <span class="s2">&quot;John&quot;</span><span class="p">],</span> <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    names foo</span>
<span class="go">0    Jane   x</span>
<span class="go">1  Jeremy   y</span>
<span class="go">2    John   z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">filter_column_isin</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="n">iterable</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;James&quot;</span><span class="p">,</span> <span class="s2">&quot;John&quot;</span><span class="p">])</span>
<span class="go">  names foo</span>
<span class="go">2  John   z</span>
</code></pre></div>
    <p>This is the method-chaining alternative to:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;James&quot;</span><span class="p">,</span> <span class="s2">&quot;John&quot;</span><span class="p">])]</span>
</code></pre></div>
<p>If <code>complement=True</code>, then we will only get rows for which the names
are neither <code>James</code> nor <code>John</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column on which to filter.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>iterable</code>
            </td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An iterable. Could be a list, tuple, another pandas
Series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>complement</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to return the complement of the selection or
not.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>iterable</code> does not have a length of <code>1</code>
or greater.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A filtered pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/filter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">filter_column_isin</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">iterable</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span>
    <span class="n">complement</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter a dataframe for values in a column that exist in the given iterable.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Assumes exact matching; fuzzy matching not implemented.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Filter the dataframe to retain rows for which `names`</span>
<span class="sd">        are exactly `James` or `John`.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;names&quot;: [&quot;Jane&quot;, &quot;Jeremy&quot;, &quot;John&quot;], &quot;foo&quot;: list(&quot;xyz&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">            names foo</span>
<span class="sd">        0    Jane   x</span>
<span class="sd">        1  Jeremy   y</span>
<span class="sd">        2    John   z</span>
<span class="sd">        &gt;&gt;&gt; df.filter_column_isin(column_name=&quot;names&quot;, iterable=[&quot;James&quot;, &quot;John&quot;])</span>
<span class="sd">          names foo</span>
<span class="sd">        2  John   z</span>

<span class="sd">        This is the method-chaining alternative to:</span>

<span class="sd">        ```python</span>
<span class="sd">        df = df[df[&quot;names&quot;].isin([&quot;James&quot;, &quot;John&quot;])]</span>
<span class="sd">        ```</span>

<span class="sd">        If `complement=True`, then we will only get rows for which the names</span>
<span class="sd">        are neither `James` nor `John`.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: The column on which to filter.</span>
<span class="sd">        iterable: An iterable. Could be a list, tuple, another pandas</span>
<span class="sd">            Series.</span>
<span class="sd">        complement: Whether to return the complement of the selection or</span>
<span class="sd">            not.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `iterable` does not have a length of `1`</span>
<span class="sd">            or greater.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A filtered pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;`iterable` kwarg must be given an iterable of length 1 &quot;</span>
            <span class="s2">&quot;or greater.&quot;</span>
        <span class="p">)</span>
    <span class="n">criteria</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">complement</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">criteria</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">criteria</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.filter.filter_date" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">filter_date</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">years</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">column_date_options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Filter a date-based column based on certain criteria.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Dates may be finicky and this function builds on top of the <em>magic</em> from
the pandas <code>to_datetime</code> function that is able to parse dates well.</p>
<p>Additional options to parse the date type of your column may be found at
the official pandas <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html">documentation</a>.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;dt&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2021-11-12&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-12-15&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-01-03&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-01-09&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a          dt</span>
<span class="go">0  5  2021-11-12</span>
<span class="go">1  6  2021-12-15</span>
<span class="go">2  7  2022-01-03</span>
<span class="go">3  8  2022-01-09</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">filter_date</span><span class="p">(</span><span class="s2">&quot;dt&quot;</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;2021-12-01&quot;</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;2022-01-05&quot;</span><span class="p">)</span>
<span class="go">   a         dt</span>
<span class="go">1  6 2021-12-15</span>
<span class="go">2  7 2022-01-03</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">filter_date</span><span class="p">(</span><span class="s2">&quot;dt&quot;</span><span class="p">,</span> <span class="n">years</span><span class="o">=</span><span class="p">[</span><span class="mi">2021</span><span class="p">],</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">])</span>
<span class="go">   a         dt</span>
<span class="go">1  6 2021-12-15</span>
</code></pre></div>
        <div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will cast your column to a Timestamp!</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This only affects the format of the <code>start_date</code> and <code>end_date</code>
parameters. If there's an issue with the format of the DataFrame being
parsed, you would pass <code>{'format': your_format}</code> to <code>column_date_options</code>.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dataframe to filter on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column which to apply the fraction transformation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>start_date</code>
            </td>
            <td>
                  <code>Optional[date]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The beginning date to use to filter the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>end_date</code>
            </td>
            <td>
                  <code>Optional[date]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The end date to use to filter the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>years</code>
            </td>
            <td>
                  <code>Optional[List]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The years to use to filter the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>months</code>
            </td>
            <td>
                  <code>Optional[List]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The months to use to filter the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>days</code>
            </td>
            <td>
                  <code>Optional[List]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The days to use to filter the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_date_options</code>
            </td>
            <td>
                  <code>Optional[Dict]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Special options to use when parsing the date
column in the original DataFrame. The options may be found at the
official Pandas documentation.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>format</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If you're using a format for <code>start_date</code> or <code>end_date</code>
that is not recognized natively by pandas' <code>to_datetime</code> function, you
may supply the format yourself. Python date and time formats may be
found <a href="http://strftime.org/">here</a>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A filtered pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/filter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;start_date&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;end_date&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">filter_date</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">start_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">end_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">years</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">months</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">days</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">column_date_options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">format</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># skipcq: PYL-W0622</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter a date-based column based on certain criteria.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Dates may be finicky and this function builds on top of the *magic* from</span>
<span class="sd">    the pandas `to_datetime` function that is able to parse dates well.</span>

<span class="sd">    Additional options to parse the date type of your column may be found at</span>
<span class="sd">    the official pandas [documentation][datetime].</span>

<span class="sd">    [datetime]: https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: range(5, 9),</span>
<span class="sd">        ...     &quot;dt&quot;: [&quot;2021-11-12&quot;, &quot;2021-12-15&quot;, &quot;2022-01-03&quot;, &quot;2022-01-09&quot;],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a          dt</span>
<span class="sd">        0  5  2021-11-12</span>
<span class="sd">        1  6  2021-12-15</span>
<span class="sd">        2  7  2022-01-03</span>
<span class="sd">        3  8  2022-01-09</span>
<span class="sd">        &gt;&gt;&gt; df.filter_date(&quot;dt&quot;, start_date=&quot;2021-12-01&quot;, end_date=&quot;2022-01-05&quot;)</span>
<span class="sd">           a         dt</span>
<span class="sd">        1  6 2021-12-15</span>
<span class="sd">        2  7 2022-01-03</span>
<span class="sd">        &gt;&gt;&gt; df.filter_date(&quot;dt&quot;, years=[2021], months=[12])</span>
<span class="sd">           a         dt</span>
<span class="sd">        1  6 2021-12-15</span>

<span class="sd">    !!!note</span>

<span class="sd">        This method will cast your column to a Timestamp!</span>

<span class="sd">    !!!note</span>

<span class="sd">        This only affects the format of the `start_date` and `end_date`</span>
<span class="sd">        parameters. If there&#39;s an issue with the format of the DataFrame being</span>
<span class="sd">        parsed, you would pass `{&#39;format&#39;: your_format}` to `column_date_options`.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The dataframe to filter on.</span>
<span class="sd">        column_name: The column which to apply the fraction transformation.</span>
<span class="sd">        start_date: The beginning date to use to filter the DataFrame.</span>
<span class="sd">        end_date: The end date to use to filter the DataFrame.</span>
<span class="sd">        years: The years to use to filter the DataFrame.</span>
<span class="sd">        months: The months to use to filter the DataFrame.</span>
<span class="sd">        days: The days to use to filter the DataFrame.</span>
<span class="sd">        column_date_options: Special options to use when parsing the date</span>
<span class="sd">            column in the original DataFrame. The options may be found at the</span>
<span class="sd">            official Pandas documentation.</span>
<span class="sd">        format: If you&#39;re using a format for `start_date` or `end_date`</span>
<span class="sd">            that is not recognized natively by pandas&#39; `to_datetime` function, you</span>
<span class="sd">            may supply the format yourself. Python date and time formats may be</span>
<span class="sd">            found [here](http://strftime.org/).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A filtered pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">def</span> <span class="nf">_date_filter_conditions</span><span class="p">(</span><span class="n">conditions</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Taken from: https://stackoverflow.com/a/13616382.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">,</span> <span class="n">conditions</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">column_date_options</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">column_date_options</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="o">**</span><span class="n">column_date_options</span><span class="p">)</span>

    <span class="n">_filter_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">start_date</span><span class="p">:</span>
        <span class="n">start_date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">)</span>
        <span class="n">_filter_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">start_date</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">end_date</span><span class="p">:</span>
        <span class="n">end_date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">end_date</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">)</span>
        <span class="n">_filter_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">end_date</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">years</span><span class="p">:</span>
        <span class="n">_filter_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">years</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">months</span><span class="p">:</span>
        <span class="n">_filter_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">months</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">days</span><span class="p">:</span>
        <span class="n">_filter_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">days</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">start_date</span> <span class="ow">and</span> <span class="n">end_date</span> <span class="ow">and</span> <span class="n">start_date</span> <span class="o">&gt;</span> <span class="n">end_date</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Your start date of </span><span class="si">{</span><span class="n">start_date</span><span class="si">}</span><span class="s2"> is after your end date of &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">end_date</span><span class="si">}</span><span class="s2">. Is this intended?&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">_date_filter_conditions</span><span class="p">(</span><span class="n">_filter_list</span><span class="p">),</span> <span class="p">:]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.filter.filter_on" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">filter_on</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">criteria</span><span class="p">,</span> <span class="n">complement</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return a dataframe filtered on a particular criteria.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>This is super-sugary syntax that wraps the pandas <code>.query()</code> API, enabling
users to use strings to quickly specify filters for filtering their
dataframe. The intent is that <code>filter_on</code> as a verb better matches the
intent of a pandas user than the verb <code>query</code>.</p>
<p>This is intended to be the method-chaining equivalent of the following:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.query</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Filter students who failed an exam (scored less than 50).</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;S1&quot;</span><span class="p">,</span> <span class="s2">&quot;S2&quot;</span><span class="p">,</span> <span class="s2">&quot;S3&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">85</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  student_id  score</span>
<span class="go">0         S1     40</span>
<span class="go">1         S2     60</span>
<span class="go">2         S3     85</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">filter_on</span><span class="p">(</span><span class="s2">&quot;score &lt; 50&quot;</span><span class="p">,</span> <span class="n">complement</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">  student_id  score</span>
<span class="go">0         S1     40</span>
</code></pre></div>
        <p>Credit to Brant Peterson for the name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>criteria</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A filtering criteria that returns an array or Series of
booleans, on which pandas can filter on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>complement</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to return the complement of the filter or not.
If set to True, then the rows for which the criteria is False are
retained instead.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A filtered pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/filter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.query` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">filter_on</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">criteria</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">complement</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a dataframe filtered on a particular criteria.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    This is super-sugary syntax that wraps the pandas `.query()` API, enabling</span>
<span class="sd">    users to use strings to quickly specify filters for filtering their</span>
<span class="sd">    dataframe. The intent is that `filter_on` as a verb better matches the</span>
<span class="sd">    intent of a pandas user than the verb `query`.</span>

<span class="sd">    This is intended to be the method-chaining equivalent of the following:</span>

<span class="sd">    ```python</span>
<span class="sd">    df = df[df[&quot;score&quot;] &lt; 3]</span>
<span class="sd">    ```</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.query` instead.</span>


<span class="sd">    Examples:</span>
<span class="sd">        Filter students who failed an exam (scored less than 50).</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;student_id&quot;: [&quot;S1&quot;, &quot;S2&quot;, &quot;S3&quot;],</span>
<span class="sd">        ...     &quot;score&quot;: [40, 60, 85],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          student_id  score</span>
<span class="sd">        0         S1     40</span>
<span class="sd">        1         S2     60</span>
<span class="sd">        2         S3     85</span>
<span class="sd">        &gt;&gt;&gt; df.filter_on(&quot;score &lt; 50&quot;, complement=False)</span>
<span class="sd">          student_id  score</span>
<span class="sd">        0         S1     40</span>

<span class="sd">    Credit to Brant Peterson for the name.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        criteria: A filtering criteria that returns an array or Series of</span>
<span class="sd">            booleans, on which pandas can filter on.</span>
<span class="sd">        complement: Whether to return the complement of the filter or not.</span>
<span class="sd">            If set to True, then the rows for which the criteria is False are</span>
<span class="sd">            retained instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A filtered pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Kindly use `pd.DataFrame.query` instead.&quot;</span><span class="p">,</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="n">stacklevel</span><span class="o">=</span><span class="n">find_stack_level</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">complement</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;not (</span><span class="si">{</span><span class="n">criteria</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">criteria</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.filter.filter_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">filter_string</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">search_string</span><span class="p">,</span> <span class="n">complement</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Filter a string-based column according to whether it contains a substring.</p>
<p>This is super sugary syntax that builds on top of <code>pandas.Series.str.contains</code>.
It is meant to be the method-chaining equivalent of the following:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">search_string</span><span class="p">)]]</span>
</code></pre></div>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Retain rows whose column values contain a particular substring.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bear&quot;</span><span class="p">,</span> <span class="s2">&quot;peeL&quot;</span><span class="p">,</span> <span class="s2">&quot;sail&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a     b</span>
<span class="go">0  3  bear</span>
<span class="go">1  4  peeL</span>
<span class="go">2  5  sail</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">filter_string</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">search_string</span><span class="o">=</span><span class="s2">&quot;ee&quot;</span><span class="p">)</span>
<span class="go">   a     b</span>
<span class="go">1  4  peeL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">filter_string</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">search_string</span><span class="o">=</span><span class="s2">&quot;L&quot;</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">   a     b</span>
<span class="go">1  4  peeL</span>
<span class="go">2  5  sail</span>
</code></pre></div>
    <p>Filter names does not contain <code>'.'</code> (disable regex mode).</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;JoseChen&quot;</span><span class="p">,</span> <span class="s2">&quot;Brian.Salvi&quot;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">          Name</span>
<span class="go">0     JoseChen</span>
<span class="go">1  Brian.Salvi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">filter_string</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="n">search_string</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">complement</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">       Name</span>
<span class="go">0  JoseChen</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column to filter. The column should contain strings.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>search_string</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A regex pattern or a (sub-)string to search.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>complement</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to return the complement of the filter or not. If
set to True, then the rows for which the string search fails are retained
instead.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>case</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, case sensitive.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flags</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flags to pass through to the re module, e.g. re.IGNORECASE.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>na</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fill value for missing values. The default depends on dtype of
the array. For object-dtype, <code>numpy.nan</code> is used. For <code>StringDtype</code>,
<code>pandas.NA</code> is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>regex</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, assumes <code>search_string</code> is a regular expression. If False,
treats the <code>search_string</code> as a literal string.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A filtered pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/filter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">filter_string</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">search_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">complement</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">case</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">flags</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">na</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">regex</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter a string-based column according to whether it contains a substring.</span>

<span class="sd">    This is super sugary syntax that builds on top of `pandas.Series.str.contains`.</span>
<span class="sd">    It is meant to be the method-chaining equivalent of the following:</span>

<span class="sd">    ```python</span>
<span class="sd">    df = df[df[column_name].str.contains(search_string)]]</span>
<span class="sd">    ```</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Retain rows whose column values contain a particular substring.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: range(3, 6), &quot;b&quot;: [&quot;bear&quot;, &quot;peeL&quot;, &quot;sail&quot;]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a     b</span>
<span class="sd">        0  3  bear</span>
<span class="sd">        1  4  peeL</span>
<span class="sd">        2  5  sail</span>
<span class="sd">        &gt;&gt;&gt; df.filter_string(column_name=&quot;b&quot;, search_string=&quot;ee&quot;)</span>
<span class="sd">           a     b</span>
<span class="sd">        1  4  peeL</span>
<span class="sd">        &gt;&gt;&gt; df.filter_string(column_name=&quot;b&quot;, search_string=&quot;L&quot;, case=False)</span>
<span class="sd">           a     b</span>
<span class="sd">        1  4  peeL</span>
<span class="sd">        2  5  sail</span>

<span class="sd">        Filter names does not contain `&#39;.&#39;` (disable regex mode).</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.Series([&quot;JoseChen&quot;, &quot;Brian.Salvi&quot;], name=&quot;Name&quot;).to_frame()</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">                  Name</span>
<span class="sd">        0     JoseChen</span>
<span class="sd">        1  Brian.Salvi</span>
<span class="sd">        &gt;&gt;&gt; df.filter_string(column_name=&quot;Name&quot;, search_string=&quot;.&quot;, regex=False, complement=True)</span>
<span class="sd">               Name</span>
<span class="sd">        0  JoseChen</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: The column to filter. The column should contain strings.</span>
<span class="sd">        search_string: A regex pattern or a (sub-)string to search.</span>
<span class="sd">        complement: Whether to return the complement of the filter or not. If</span>
<span class="sd">            set to True, then the rows for which the string search fails are retained</span>
<span class="sd">            instead.</span>
<span class="sd">        case: If True, case sensitive.</span>
<span class="sd">        flags: Flags to pass through to the re module, e.g. re.IGNORECASE.</span>
<span class="sd">        na: Fill value for missing values. The default depends on dtype of</span>
<span class="sd">            the array. For object-dtype, `numpy.nan` is used. For `StringDtype`,</span>
<span class="sd">            `pandas.NA` is used.</span>
<span class="sd">        regex: If True, assumes `search_string` is a regular expression. If False,</span>
<span class="sd">            treats the `search_string` as a literal string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A filtered pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">criteria</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span>
        <span class="n">pat</span><span class="o">=</span><span class="n">search_string</span><span class="p">,</span>
        <span class="n">case</span><span class="o">=</span><span class="n">case</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="p">,</span>
        <span class="n">na</span><span class="o">=</span><span class="n">na</span><span class="p">,</span>
        <span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">complement</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">criteria</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">criteria</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.find_replace" class="doc doc-heading">
            <code>find_replace</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation for find_replace.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.find_replace.find_replace" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_replace</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;exact&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">mappings</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Perform a find-and-replace action on provided columns.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.replace</code> instead.</p>
</div>
<p>Depending on use case, users can choose either exact, full-value matching,
or regular-expression-based fuzzy matching
(hence allowing substring matching in the latter case).
For strings, the matching is always case sensitive.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>For instance, given a DataFrame containing orders at a coffee shop:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;customer&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Mary&quot;</span><span class="p">,</span> <span class="s2">&quot;Tom&quot;</span><span class="p">,</span> <span class="s2">&quot;Lila&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ice coffee&quot;</span><span class="p">,</span> <span class="s2">&quot;lemonade&quot;</span><span class="p">,</span> <span class="s2">&quot;regular coffee&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  customer           order</span>
<span class="go">0     Mary      ice coffee</span>
<span class="go">1      Tom        lemonade</span>
<span class="go">2     Lila  regular coffee</span>
</code></pre></div>
    <p>Our task is to replace values <code>ice coffee</code> and <code>regular coffee</code>
of the <code>order</code> column into <code>latte</code>.</p>
<p>Example 1 - exact matching (functional usage):</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">find_replace</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">match</span><span class="o">=</span><span class="s2">&quot;exact&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ice coffee&quot;</span><span class="p">:</span> <span class="s2">&quot;latte&quot;</span><span class="p">,</span> <span class="s2">&quot;regular coffee&quot;</span><span class="p">:</span> <span class="s2">&quot;latte&quot;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  customer     order</span>
<span class="go">0     Mary     latte</span>
<span class="go">1      Tom  lemonade</span>
<span class="go">2     Lila     latte</span>
</code></pre></div>
    <p>Example 1 - exact matching (method chaining):</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">find_replace</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">match</span><span class="o">=</span><span class="s2">&quot;exact&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ice coffee&quot;</span><span class="p">:</span> <span class="s2">&quot;latte&quot;</span><span class="p">,</span> <span class="s2">&quot;regular coffee&quot;</span><span class="p">:</span> <span class="s2">&quot;latte&quot;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  customer     order</span>
<span class="go">0     Mary     latte</span>
<span class="go">1      Tom  lemonade</span>
<span class="go">2     Lila     latte</span>
</code></pre></div>
    <p>Example 2 - Regular-expression-based matching (functional usage):</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">find_replace</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">match</span><span class="o">=</span><span class="s1">&#39;regex&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;coffee$&#39;</span><span class="p">:</span> <span class="s1">&#39;latte&#39;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  customer     order</span>
<span class="go">0     Mary     latte</span>
<span class="go">1      Tom  lemonade</span>
<span class="go">2     Lila     latte</span>
</code></pre></div>
    <p>Example 2 - Regular-expression-based matching (method chaining usage):</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">find_replace</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">match</span><span class="o">=</span><span class="s1">&#39;regex&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">order</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;coffee$&#39;</span><span class="p">:</span> <span class="s1">&#39;latte&#39;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  customer     order</span>
<span class="go">0     Mary     latte</span>
<span class="go">1      Tom  lemonade</span>
<span class="go">2     Lila     latte</span>
</code></pre></div>
        <p>To perform a find and replace on the entire DataFrame,
pandas' <code>df.replace()</code> function provides the appropriate functionality.
You can find more detail on the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.replace.html">replace</a> docs.</p>
<p>This function only works with column names that have no spaces
or punctuation in them.
For example, a column name <code>item_name</code> would work with <code>find_replace</code>,
because it is a contiguous string that can be parsed correctly,
but <code>item name</code> would not be parsed correctly by the Python interpreter.</p>
<p>If you have column names that might not be compatible,
we recommend calling on <a class="autorefs autorefs-internal" href="#janitor.functions.clean_names.clean_names"><code>clean_names()</code></a>
as the first method call. If, for whatever reason, that is not possible,
then <code>_find_replace</code> is available as a function
that you can do a pandas <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.pipe.html">pipe</a> call on.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>match</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to perform an exact match or not.
Valid values are "exact" or "regex".</p>
              </div>
            </td>
            <td>
                  <code>&#39;exact&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**mappings</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>keyword arguments corresponding to column names
that have dictionaries passed in indicating what to find (keys)
and what to replace with (values).</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with replaced values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/find_replace.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.replace` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">find_replace</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">match</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;exact&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">mappings</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform a find-and-replace action on provided columns.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.replace` instead.</span>

<span class="sd">    Depending on use case, users can choose either exact, full-value matching,</span>
<span class="sd">    or regular-expression-based fuzzy matching</span>
<span class="sd">    (hence allowing substring matching in the latter case).</span>
<span class="sd">    For strings, the matching is always case sensitive.</span>

<span class="sd">    Examples:</span>
<span class="sd">        For instance, given a DataFrame containing orders at a coffee shop:</span>

<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;customer&quot;: [&quot;Mary&quot;, &quot;Tom&quot;, &quot;Lila&quot;],</span>
<span class="sd">        ...     &quot;order&quot;: [&quot;ice coffee&quot;, &quot;lemonade&quot;, &quot;regular coffee&quot;]</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          customer           order</span>
<span class="sd">        0     Mary      ice coffee</span>
<span class="sd">        1      Tom        lemonade</span>
<span class="sd">        2     Lila  regular coffee</span>

<span class="sd">        Our task is to replace values `ice coffee` and `regular coffee`</span>
<span class="sd">        of the `order` column into `latte`.</span>

<span class="sd">        Example 1 - exact matching (functional usage):</span>

<span class="sd">        &gt;&gt;&gt; df = find_replace(</span>
<span class="sd">        ...     df,</span>
<span class="sd">        ...     match=&quot;exact&quot;,</span>
<span class="sd">        ...     order={&quot;ice coffee&quot;: &quot;latte&quot;, &quot;regular coffee&quot;: &quot;latte&quot;},</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          customer     order</span>
<span class="sd">        0     Mary     latte</span>
<span class="sd">        1      Tom  lemonade</span>
<span class="sd">        2     Lila     latte</span>

<span class="sd">        Example 1 - exact matching (method chaining):</span>

<span class="sd">        &gt;&gt;&gt; df = df.find_replace(</span>
<span class="sd">        ...     match=&quot;exact&quot;,</span>
<span class="sd">        ...     order={&quot;ice coffee&quot;: &quot;latte&quot;, &quot;regular coffee&quot;: &quot;latte&quot;},</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          customer     order</span>
<span class="sd">        0     Mary     latte</span>
<span class="sd">        1      Tom  lemonade</span>
<span class="sd">        2     Lila     latte</span>

<span class="sd">        Example 2 - Regular-expression-based matching (functional usage):</span>

<span class="sd">        &gt;&gt;&gt; df = find_replace(</span>
<span class="sd">        ...     df,</span>
<span class="sd">        ...     match=&#39;regex&#39;,</span>
<span class="sd">        ...     order={&#39;coffee$&#39;: &#39;latte&#39;},</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          customer     order</span>
<span class="sd">        0     Mary     latte</span>
<span class="sd">        1      Tom  lemonade</span>
<span class="sd">        2     Lila     latte</span>

<span class="sd">        Example 2 - Regular-expression-based matching (method chaining usage):</span>

<span class="sd">        &gt;&gt;&gt; df = df.find_replace(</span>
<span class="sd">        ...     match=&#39;regex&#39;,</span>
<span class="sd">        ...     order={&#39;coffee$&#39;: &#39;latte&#39;},</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          customer     order</span>
<span class="sd">        0     Mary     latte</span>
<span class="sd">        1      Tom  lemonade</span>
<span class="sd">        2     Lila     latte</span>

<span class="sd">    To perform a find and replace on the entire DataFrame,</span>
<span class="sd">    pandas&#39; `df.replace()` function provides the appropriate functionality.</span>
<span class="sd">    You can find more detail on the [replace] docs.</span>

<span class="sd">    [replace]: https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.replace.html</span>

<span class="sd">    This function only works with column names that have no spaces</span>
<span class="sd">    or punctuation in them.</span>
<span class="sd">    For example, a column name `item_name` would work with `find_replace`,</span>
<span class="sd">    because it is a contiguous string that can be parsed correctly,</span>
<span class="sd">    but `item name` would not be parsed correctly by the Python interpreter.</span>

<span class="sd">    If you have column names that might not be compatible,</span>
<span class="sd">    we recommend calling on [`clean_names()`][janitor.functions.clean_names.clean_names]</span>
<span class="sd">    as the first method call. If, for whatever reason, that is not possible,</span>
<span class="sd">    then `_find_replace` is available as a function</span>
<span class="sd">    that you can do a pandas [pipe](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.pipe.html) call on.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        match: Whether or not to perform an exact match or not.</span>
<span class="sd">            Valid values are &quot;exact&quot; or &quot;regex&quot;.</span>
<span class="sd">        **mappings: keyword arguments corresponding to column names</span>
<span class="sd">            that have dictionaries passed in indicating what to find (keys)</span>
<span class="sd">            and what to replace with (values).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with replaced values.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="k">for</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">mapper</span> <span class="ow">in</span> <span class="n">mappings</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">_find_replace</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">mapper</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="n">match</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.flag_nulls" class="doc doc-heading">
            <code>flag_nulls</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>flag_nulls</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.flag_nulls.flag_nulls" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">flag_nulls</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;null_flag&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a new column to indicate whether you have null values in a given
row.</p>
<p>If the columns parameter is not set, looks across the entire
DataFrame, otherwise will look only in the columns you set.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">flag_nulls</span><span class="p">()</span>
<span class="go">      a    b  null_flag</span>
<span class="go">0     w  5.0          0</span>
<span class="go">1     x  NaN          1</span>
<span class="go">2  None  7.0          1</span>
<span class="go">3     z  8.0          0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">flag_nulls</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="go">      a    b  null_flag</span>
<span class="go">0     w  5.0          0</span>
<span class="go">1     x  NaN          1</span>
<span class="go">2  None  7.0          0</span>
<span class="go">3     z  8.0          0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Optional[Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name for the output column.</p>
              </div>
            </td>
            <td>
                  <code>&#39;null_flag&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code>Optional[Union[str, Iterable[str], Hashable]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of columns to look at for finding null values. If you
only want to look at one column, you can simply give its name.
If set to None (default), all DataFrame columns are used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>column_name</code> is already present in the
DataFrame.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If any column within <code>columns</code> is not present in
the DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input dataframe with the null flag column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <!--
# noqa: DAR402
-->

            <details class="quote">
              <summary>Source code in <code>janitor/functions/flag_nulls.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">flag_nulls</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Hashable</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;null_flag&quot;</span><span class="p">,</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Hashable</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new column to indicate whether you have null values in a given</span>
<span class="sd">    row.</span>

<span class="sd">    If the columns parameter is not set, looks across the entire</span>
<span class="sd">    DataFrame, otherwise will look only in the columns you set.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [&quot;w&quot;, &quot;x&quot;, None, &quot;z&quot;], &quot;b&quot;: [5, None, 7, 8],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df.flag_nulls()</span>
<span class="sd">              a    b  null_flag</span>
<span class="sd">        0     w  5.0          0</span>
<span class="sd">        1     x  NaN          1</span>
<span class="sd">        2  None  7.0          1</span>
<span class="sd">        3     z  8.0          0</span>
<span class="sd">        &gt;&gt;&gt; df.flag_nulls(columns=&quot;b&quot;)</span>
<span class="sd">              a    b  null_flag</span>
<span class="sd">        0     w  5.0          0</span>
<span class="sd">        1     x  NaN          1</span>
<span class="sd">        2  None  7.0          0</span>
<span class="sd">        3     z  8.0          0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: Input pandas DataFrame.</span>
<span class="sd">        column_name: Name for the output column.</span>
<span class="sd">        columns: List of columns to look at for finding null values. If you</span>
<span class="sd">            only want to look at one column, you can simply give its name.</span>
<span class="sd">            If set to None (default), all DataFrame columns are used.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `column_name` is already present in the</span>
<span class="sd">            DataFrame.</span>
<span class="sd">        ValueError: If any column within `columns` is not present in</span>
<span class="sd">            the DataFrame.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Input dataframe with the null flag column.</span>

<span class="sd">    &lt;!--</span>
<span class="sd">    # noqa: DAR402</span>
<span class="sd">    --&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Sort out columns input</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">columns</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">):</span>
        <span class="c1"># catches other hashable types</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">columns</span><span class="p">]</span>

    <span class="c1"># Input sanitation checks</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="p">)</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="n">present</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># This algorithm works best for n_rows &gt;&gt; n_cols. See issue #501</span>
    <span class="n">null_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="n">null_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">null_array</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]))</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">null_array</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.get_dupes" class="doc doc-heading">
            <code>get_dupes</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>get_dupes</code> function</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.get_dupes.get_dupes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dupes</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return all duplicate rows.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Method chaining syntax:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;bag&quot;</span><span class="p">,</span> <span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;bag&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">75</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   item  quantity</span>
<span class="go">0  shoe       100</span>
<span class="go">1  shoe       100</span>
<span class="go">2   bag        75</span>
<span class="go">3  shoe       200</span>
<span class="go">4   bag        75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">get_dupes</span><span class="p">()</span>
<span class="go">   item  quantity</span>
<span class="go">0  shoe       100</span>
<span class="go">1  shoe       100</span>
<span class="go">2   bag        75</span>
<span class="go">4   bag        75</span>
</code></pre></div>
    <p>Optional <code>column_names</code> usage:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;bag&quot;</span><span class="p">,</span> <span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;bag&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">75</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   item  quantity</span>
<span class="go">0  shoe       100</span>
<span class="go">1  shoe       100</span>
<span class="go">2   bag        75</span>
<span class="go">3  shoe       200</span>
<span class="go">4   bag        75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">get_dupes</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">])</span>
<span class="go">   item  quantity</span>
<span class="go">0  shoe       100</span>
<span class="go">1  shoe       100</span>
<span class="go">2   bag        75</span>
<span class="go">3  shoe       200</span>
<span class="go">4   bag        75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">get_dupes</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">])</span>
<span class="go">   item  quantity</span>
<span class="go">0  shoe       100</span>
<span class="go">1  shoe       100</span>
<span class="go">2   bag        75</span>
<span class="go">4   bag        75</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Optional[Union[str, Iterable[str], Hashable]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name or an iterable
(list or tuple) of column names. Following pandas API, this only
considers certain columns for identifying duplicates. Defaults
to using all columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The duplicate rows, as a pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/get_dupes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_dupes</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Hashable</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all duplicate rows.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Method chaining syntax:</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;item&quot;: [&quot;shoe&quot;, &quot;shoe&quot;, &quot;bag&quot;, &quot;shoe&quot;, &quot;bag&quot;],</span>
<span class="sd">        ...     &quot;quantity&quot;: [100, 100, 75, 200, 75],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           item  quantity</span>
<span class="sd">        0  shoe       100</span>
<span class="sd">        1  shoe       100</span>
<span class="sd">        2   bag        75</span>
<span class="sd">        3  shoe       200</span>
<span class="sd">        4   bag        75</span>
<span class="sd">        &gt;&gt;&gt; df.get_dupes()</span>
<span class="sd">           item  quantity</span>
<span class="sd">        0  shoe       100</span>
<span class="sd">        1  shoe       100</span>
<span class="sd">        2   bag        75</span>
<span class="sd">        4   bag        75</span>

<span class="sd">        Optional `column_names` usage:</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;item&quot;: [&quot;shoe&quot;, &quot;shoe&quot;, &quot;bag&quot;, &quot;shoe&quot;, &quot;bag&quot;],</span>
<span class="sd">        ...     &quot;quantity&quot;: [100, 100, 75, 200, 75],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           item  quantity</span>
<span class="sd">        0  shoe       100</span>
<span class="sd">        1  shoe       100</span>
<span class="sd">        2   bag        75</span>
<span class="sd">        3  shoe       200</span>
<span class="sd">        4   bag        75</span>
<span class="sd">        &gt;&gt;&gt; df.get_dupes(column_names=[&quot;item&quot;])</span>
<span class="sd">           item  quantity</span>
<span class="sd">        0  shoe       100</span>
<span class="sd">        1  shoe       100</span>
<span class="sd">        2   bag        75</span>
<span class="sd">        3  shoe       200</span>
<span class="sd">        4   bag        75</span>
<span class="sd">        &gt;&gt;&gt; df.get_dupes(column_names=[&quot;quantity&quot;])</span>
<span class="sd">           item  quantity</span>
<span class="sd">        0  shoe       100</span>
<span class="sd">        1  shoe       100</span>
<span class="sd">        2   bag        75</span>
<span class="sd">        4   bag        75</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        column_names: A column name or an iterable</span>
<span class="sd">            (list or tuple) of column names. Following pandas API, this only</span>
<span class="sd">            considers certain columns for identifying duplicates. Defaults</span>
<span class="sd">            to using all columns.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The duplicate rows, as a pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">column_names</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.groupby_agg" class="doc doc-heading">
            <code>groupby_agg</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>groupby_agg</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.groupby_agg.groupby_agg" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">groupby_agg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">by</span><span class="p">,</span> <span class="n">new_column_name</span><span class="p">,</span> <span class="n">agg_column_name</span><span class="p">,</span> <span class="n">agg</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Shortcut for assigning a groupby-transform to a new column.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Intended to be the method-chaining equivalent of:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">...=</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="o">...</span><span class="p">)[</span><span class="o">...</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="o">...</span><span class="p">))</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use
<a class="autorefs autorefs-internal" href="#janitor.functions.transform_columns.transform_column"><code>jn.transform_column</code></a>
instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;bag&quot;</span><span class="p">,</span> <span class="s2">&quot;shoe&quot;</span><span class="p">,</span> <span class="s2">&quot;bag&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">groupby_agg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">by</span><span class="o">=</span><span class="s2">&quot;item&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">agg</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">agg_column_name</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">new_column_name</span><span class="o">=</span><span class="s2">&quot;avg_quantity&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   item  quantity  avg_quantity</span>
<span class="go">0  shoe       100         140.0</span>
<span class="go">1  shoe       120         140.0</span>
<span class="go">2   bag        75          50.0</span>
<span class="go">3  shoe       200         140.0</span>
<span class="go">4   bag        25          50.0</span>
</code></pre></div>
    <p>Set <code>dropna=False</code> to compute the aggregation, treating the null
values in the <code>by</code> column as an isolated "group".</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">groupby_agg</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">by</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">agg</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">agg_column_name</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">new_column_name</span><span class="o">=</span><span class="s2">&quot;y_count&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">      x  y  y_count</span>
<span class="go">0     a  9        2</span>
<span class="go">1     a  9        2</span>
<span class="go">2  None  9        1</span>
<span class="go">3     b  9        1</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>by</code>
            </td>
            <td>
                  <code>Union[List, Callable, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column(s) to groupby on, will be passed into <code>DataFrame.groupby</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the aggregation output column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>agg_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column to aggregate over.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>agg</code>
            </td>
            <td>
                  <code>Union[Callable, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How to aggregate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dropna</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to include null values, if present in the
<code>by</code> column(s). Default is True (null values in <code>by</code> are assigned NaN in
the new column).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/groupby_agg.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">new_column</span><span class="o">=</span><span class="s2">&quot;new_column_name&quot;</span><span class="p">,</span> <span class="n">agg_column</span><span class="o">=</span><span class="s2">&quot;agg_column_name&quot;</span><span class="p">)</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `janitor.transform_column` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">groupby_agg</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">by</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">new_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">agg_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">agg</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">dropna</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Shortcut for assigning a groupby-transform to a new column.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Intended to be the method-chaining equivalent of:</span>

<span class="sd">    ```python</span>
<span class="sd">    df = df.assign(...=df.groupby(...)[...].transform(...))</span>
<span class="sd">    ```</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use</span>
<span class="sd">        [`jn.transform_column`][janitor.functions.transform_columns.transform_column]</span>
<span class="sd">        instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Basic usage.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;item&quot;: [&quot;shoe&quot;, &quot;shoe&quot;, &quot;bag&quot;, &quot;shoe&quot;, &quot;bag&quot;],</span>
<span class="sd">        ...     &quot;quantity&quot;: [100, 120, 75, 200, 25],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df.groupby_agg(</span>
<span class="sd">        ...     by=&quot;item&quot;,</span>
<span class="sd">        ...     agg=&quot;mean&quot;,</span>
<span class="sd">        ...     agg_column_name=&quot;quantity&quot;,</span>
<span class="sd">        ...     new_column_name=&quot;avg_quantity&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           item  quantity  avg_quantity</span>
<span class="sd">        0  shoe       100         140.0</span>
<span class="sd">        1  shoe       120         140.0</span>
<span class="sd">        2   bag        75          50.0</span>
<span class="sd">        3  shoe       200         140.0</span>
<span class="sd">        4   bag        25          50.0</span>

<span class="sd">        Set `dropna=False` to compute the aggregation, treating the null</span>
<span class="sd">        values in the `by` column as an isolated &quot;group&quot;.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;x&quot;: [&quot;a&quot;, &quot;a&quot;, None, &quot;b&quot;], &quot;y&quot;: [9, 9, 9, 9],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df.groupby_agg(</span>
<span class="sd">        ...     by=&quot;x&quot;,</span>
<span class="sd">        ...     agg=&quot;count&quot;,</span>
<span class="sd">        ...     agg_column_name=&quot;y&quot;,</span>
<span class="sd">        ...     new_column_name=&quot;y_count&quot;,</span>
<span class="sd">        ...     dropna=False,</span>
<span class="sd">        ... )</span>
<span class="sd">              x  y  y_count</span>
<span class="sd">        0     a  9        2</span>
<span class="sd">        1     a  9        2</span>
<span class="sd">        2  None  9        1</span>
<span class="sd">        3     b  9        1</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        by: Column(s) to groupby on, will be passed into `DataFrame.groupby`.</span>
<span class="sd">        new_column_name: Name of the aggregation output column.</span>
<span class="sd">        agg_column_name: Name of the column to aggregate over.</span>
<span class="sd">        agg: How to aggregate.</span>
<span class="sd">        dropna: Whether or not to include null values, if present in the</span>
<span class="sd">            `by` column(s). Default is True (null values in `by` are assigned NaN in</span>
<span class="sd">            the new column).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span>
        <span class="o">**</span><span class="p">{</span>
            <span class="n">new_column_name</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="n">dropna</span><span class="p">)[</span>
                <span class="n">agg_column_name</span>
            <span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">agg</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.groupby_topk" class="doc doc-heading">
            <code>groupby_topk</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>groupby_topk</code> function</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.groupby_topk.groupby_topk" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">groupby_topk</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">by</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return top <code>k</code> rows from a groupby of a set of columns.</p>
<p>Returns a DataFrame that has the top <code>k</code> values per <code>column</code>,
grouped by <code>by</code>. Under the hood it uses <code>nlargest/nsmallest</code>,
for numeric columns, which avoids sorting the entire dataframe,
and is usually more performant. For non-numeric columns, <code>pd.sort_values</code>
is used.
No sorting is done to the <code>by</code> column(s); the order is maintained
in the final output.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;pass&quot;</span><span class="p">,</span> <span class="s2">&quot;pass&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">,</span> <span class="s2">&quot;pass&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   age  id result</span>
<span class="go">0   20   1   pass</span>
<span class="go">1   23   4   pass</span>
<span class="go">2   22   6   fail</span>
<span class="go">3   43   2   pass</span>
<span class="go">4   21   5   fail</span>
</code></pre></div>
    <p>Ascending top 3:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">groupby_topk</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;result&quot;</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">   age  id result</span>
<span class="go">0   20   1   pass</span>
<span class="go">1   23   4   pass</span>
<span class="go">2   43   2   pass</span>
<span class="go">3   21   5   fail</span>
<span class="go">4   22   6   fail</span>
</code></pre></div>
    <p>Descending top 2:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">groupby_topk</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">by</span><span class="o">=</span><span class="s2">&quot;result&quot;</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">False</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   age  id result</span>
<span class="go">3   43   2   pass</span>
<span class="go">1   23   4   pass</span>
<span class="go">2   22   6   fail</span>
<span class="go">4   21   5   fail</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>by</code>
            </td>
            <td>
                  <code>Union[list, Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name(s) to group input DataFrame <code>df</code> by.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column that determines <code>k</code> rows
to return.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>k</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of top rows to return for each group.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dropna</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, and <code>NA</code> values exist in <code>by</code>, the <code>NA</code>
values are not used in the groupby computation to get the relevant
<code>k</code> rows. If <code>False</code>, and <code>NA</code> values exist in <code>by</code>, then the <code>NA</code>
values are used in the groupby computation to get the relevant
<code>k</code> rows.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ascending</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, the smallest top <code>k</code> rows,
determined by <code>column</code> are returned; if <code>False, the largest top</code>k<code>rows, determined by</code>column` are returned.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ignore_index</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, the original index is ignored.
If <code>False</code>, the original index for the top <code>k</code> rows is retained.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>k</code> is less than 1.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with top <code>k</code> rows per <code>column</code>, grouped by <code>by</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/groupby_topk.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">groupby_column_name</span><span class="o">=</span><span class="s2">&quot;by&quot;</span><span class="p">,</span> <span class="n">sort_column_name</span><span class="o">=</span><span class="s2">&quot;column&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">groupby_topk</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">by</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="n">Hashable</span><span class="p">],</span>
    <span class="n">column</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">dropna</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ascending</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ignore_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return top `k` rows from a groupby of a set of columns.</span>

<span class="sd">    Returns a DataFrame that has the top `k` values per `column`,</span>
<span class="sd">    grouped by `by`. Under the hood it uses `nlargest/nsmallest`,</span>
<span class="sd">    for numeric columns, which avoids sorting the entire dataframe,</span>
<span class="sd">    and is usually more performant. For non-numeric columns, `pd.sort_values`</span>
<span class="sd">    is used.</span>
<span class="sd">    No sorting is done to the `by` column(s); the order is maintained</span>
<span class="sd">    in the final output.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;age&quot;: [20, 23, 22, 43, 21],</span>
<span class="sd">        ...         &quot;id&quot;: [1, 4, 6, 2, 5],</span>
<span class="sd">        ...         &quot;result&quot;: [&quot;pass&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;pass&quot;, &quot;fail&quot;],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           age  id result</span>
<span class="sd">        0   20   1   pass</span>
<span class="sd">        1   23   4   pass</span>
<span class="sd">        2   22   6   fail</span>
<span class="sd">        3   43   2   pass</span>
<span class="sd">        4   21   5   fail</span>

<span class="sd">        Ascending top 3:</span>

<span class="sd">        &gt;&gt;&gt; df.groupby_topk(by=&quot;result&quot;, column=&quot;age&quot;, k=3)</span>
<span class="sd">           age  id result</span>
<span class="sd">        0   20   1   pass</span>
<span class="sd">        1   23   4   pass</span>
<span class="sd">        2   43   2   pass</span>
<span class="sd">        3   21   5   fail</span>
<span class="sd">        4   22   6   fail</span>

<span class="sd">        Descending top 2:</span>

<span class="sd">        &gt;&gt;&gt; df.groupby_topk(</span>
<span class="sd">        ...     by=&quot;result&quot;, column=&quot;age&quot;, k=2, ascending=False, ignore_index=False</span>
<span class="sd">        ... )</span>
<span class="sd">           age  id result</span>
<span class="sd">        3   43   2   pass</span>
<span class="sd">        1   23   4   pass</span>
<span class="sd">        2   22   6   fail</span>
<span class="sd">        4   21   5   fail</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        by: Column name(s) to group input DataFrame `df` by.</span>
<span class="sd">        column: Name of the column that determines `k` rows</span>
<span class="sd">            to return.</span>
<span class="sd">        k: Number of top rows to return for each group.</span>
<span class="sd">        dropna: If `True`, and `NA` values exist in `by`, the `NA`</span>
<span class="sd">            values are not used in the groupby computation to get the relevant</span>
<span class="sd">            `k` rows. If `False`, and `NA` values exist in `by`, then the `NA`</span>
<span class="sd">            values are used in the groupby computation to get the relevant</span>
<span class="sd">            `k` rows.</span>
<span class="sd">        ascending: If `True`, the smallest top `k` rows,</span>
<span class="sd">            determined by `column` are returned; if `False, the largest top `k`</span>
<span class="sd">            rows, determined by `column` are returned.</span>
<span class="sd">        ignore_index: If `True`, the original index is ignored.</span>
<span class="sd">            If `False`, the original index for the top `k` rows is retained.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `k` is less than 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with top `k` rows per `column`, grouped by `by`.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">by</span><span class="p">,</span> <span class="n">Hashable</span><span class="p">):</span>
        <span class="n">by</span> <span class="o">=</span> <span class="p">[</span><span class="n">by</span><span class="p">]</span>

    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;by&quot;</span><span class="p">,</span> <span class="n">by</span><span class="p">,</span> <span class="p">[</span><span class="n">Hashable</span><span class="p">,</span> <span class="nb">list</span><span class="p">])</span>

    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="n">column</span><span class="p">])</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">by</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Numbers of rows per group &quot;</span>
            <span class="s2">&quot;to be returned must be greater than 0.&quot;</span>
        <span class="p">)</span>

    <span class="n">indices</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="n">dropna</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ascending</span><span class="p">:</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="o">.</span><span class="n">nsmallest</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="n">ascending</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ignore_index</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.impute" class="doc doc-heading">
            <code>impute</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of <code>impute</code> function</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.impute.impute" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">impute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">statistic_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Method-chainable imputation of values in a column.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Underneath the hood, this function calls the <code>.fillna()</code> method available
to every <code>pandas.Series</code> object.</p>
<p>Either one of <code>value</code> or <code>statistic_column_name</code> should be provided.</p>
<p>If <code>value</code> is provided, then all null values in the selected column will
take on the value provided.</p>
<p>If <code>statistic_column_name</code> is provided, then all null values in the
selected column(s) will take on the summary statistic value
of other non-null values.</p>
<p>Column selection in <code>column_names</code> is possible using the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
<p>Currently supported statistics include:</p>
<ul>
<li><code>mean</code> (also aliased by <code>average</code>)</li>
<li><code>median</code></li>
<li><code>mode</code></li>
<li><code>minimum</code> (also aliased by <code>min</code>)</li>
<li><code>maximum</code> (also aliased by <code>max</code>)</li>
</ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;sales&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  sales  score</span>
<span class="go">0  1    NaN    NaN</span>
<span class="go">1  2    NaN    3.0</span>
<span class="go">2  3    NaN    2.0</span>
</code></pre></div>
    <p>Imputing null values with 0 (using the <code>value</code> parameter):</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">impute</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="go">   a  sales  score</span>
<span class="go">0  1    0.0    NaN</span>
<span class="go">1  2    0.0    3.0</span>
<span class="go">2  3    0.0    2.0</span>
</code></pre></div>
    <p>Imputing null values with median (using the <code>statistic_column_name</code>
parameter):</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">impute</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="n">statistic_column_name</span><span class="o">=</span><span class="s2">&quot;median&quot;</span><span class="p">)</span>
<span class="go">   a  sales  score</span>
<span class="go">0  1    NaN    2.5</span>
<span class="go">1  2    NaN    3.0</span>
<span class="go">2  3    NaN    2.0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column(s) on which to impute values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code>Optional[Any]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value used for imputation, passed into <code>.fillna</code> method
of the underlying pandas Series.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>statistic_column_name</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column statistic to impute.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If both <code>value</code> and <code>statistic_column_name</code> are
provided.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>KeyError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>statistic_column_name</code> is not one of <code>mean</code>,
<code>average</code>, <code>median</code>, <code>mode</code>, <code>minimum</code>, <code>min</code>, <code>maximum</code>, or
<code>max</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An imputed pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/impute.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">statistic</span><span class="o">=</span><span class="s2">&quot;statistic_column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">impute</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">statistic_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method-chainable imputation of values in a column.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Underneath the hood, this function calls the `.fillna()` method available</span>
<span class="sd">    to every `pandas.Series` object.</span>

<span class="sd">    Either one of `value` or `statistic_column_name` should be provided.</span>

<span class="sd">    If `value` is provided, then all null values in the selected column will</span>
<span class="sd">    take on the value provided.</span>

<span class="sd">    If `statistic_column_name` is provided, then all null values in the</span>
<span class="sd">    selected column(s) will take on the summary statistic value</span>
<span class="sd">    of other non-null values.</span>

<span class="sd">    Column selection in `column_names` is possible using the</span>
<span class="sd">    [`select`][janitor.functions.select.select] syntax.</span>

<span class="sd">    Currently supported statistics include:</span>

<span class="sd">    - `mean` (also aliased by `average`)</span>
<span class="sd">    - `median`</span>
<span class="sd">    - `mode`</span>
<span class="sd">    - `minimum` (also aliased by `min`)</span>
<span class="sd">    - `maximum` (also aliased by `max`)</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [1, 2, 3],</span>
<span class="sd">        ...     &quot;sales&quot;: np.nan,</span>
<span class="sd">        ...     &quot;score&quot;: [np.nan, 3, 2],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  sales  score</span>
<span class="sd">        0  1    NaN    NaN</span>
<span class="sd">        1  2    NaN    3.0</span>
<span class="sd">        2  3    NaN    2.0</span>

<span class="sd">        Imputing null values with 0 (using the `value` parameter):</span>

<span class="sd">        &gt;&gt;&gt; df.impute(column_names=&quot;sales&quot;, value=0.0)</span>
<span class="sd">           a  sales  score</span>
<span class="sd">        0  1    0.0    NaN</span>
<span class="sd">        1  2    0.0    3.0</span>
<span class="sd">        2  3    0.0    2.0</span>

<span class="sd">        Imputing null values with median (using the `statistic_column_name`</span>
<span class="sd">        parameter):</span>

<span class="sd">        &gt;&gt;&gt; df.impute(column_names=&quot;score&quot;, statistic_column_name=&quot;median&quot;)</span>
<span class="sd">           a  sales  score</span>
<span class="sd">        0  1    NaN    2.5</span>
<span class="sd">        1  2    NaN    3.0</span>
<span class="sd">        2  3    NaN    2.0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: The name of the column(s) on which to impute values.</span>
<span class="sd">        value: The value used for imputation, passed into `.fillna` method</span>
<span class="sd">            of the underlying pandas Series.</span>
<span class="sd">        statistic_column_name: The column statistic to impute.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If both `value` and `statistic_column_name` are</span>
<span class="sd">            provided.</span>
<span class="sd">        KeyError: If `statistic_column_name` is not one of `mean`,</span>
<span class="sd">            `average`, `median`, `mode`, `minimum`, `min`, `maximum`, or</span>
<span class="sd">            `max`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An imputed pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Firstly, we check that only one of `value` or `statistic` are provided.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">statistic_column_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Kindly specify a value or a statistic_column_name&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">statistic_column_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Only one of `value` or `statistic_column_name` should be &quot;</span>
            <span class="s2">&quot;provided.&quot;</span>
        <span class="p">)</span>

    <span class="n">column_names</span> <span class="o">=</span> <span class="n">get_index_labels</span><span class="p">([</span><span class="n">column_names</span><span class="p">],</span> <span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="p">[</span><span class="n">value</span><span class="p">]))</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># If statistic is provided, then we compute</span>
        <span class="c1"># the relevant summary statistic</span>
        <span class="c1"># from the other data.</span>
        <span class="n">funcs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;mean&quot;</span><span class="p">:</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span>
            <span class="s2">&quot;average&quot;</span><span class="p">:</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span>  <span class="c1"># aliased</span>
            <span class="s2">&quot;median&quot;</span><span class="p">:</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;mode&quot;</span><span class="p">,</span>
            <span class="s2">&quot;minimum&quot;</span><span class="p">:</span> <span class="s2">&quot;min&quot;</span><span class="p">,</span>
            <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="s2">&quot;min&quot;</span><span class="p">,</span>  <span class="c1"># aliased</span>
            <span class="s2">&quot;maximum&quot;</span><span class="p">:</span> <span class="s2">&quot;max&quot;</span><span class="p">,</span>
            <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="s2">&quot;max&quot;</span><span class="p">,</span>  <span class="c1"># aliased</span>
        <span class="p">}</span>
        <span class="c1"># Check that the statistic keyword argument is one of the approved.</span>
        <span class="k">if</span> <span class="n">statistic_column_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">funcs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;`statistic_column_name` must be one of </span><span class="si">{</span><span class="n">funcs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="p">[</span><span class="n">funcs</span><span class="p">[</span><span class="n">statistic_column_name</span><span class="p">]]))</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="c1"># special treatment for mode</span>
        <span class="k">if</span> <span class="n">statistic_column_name</span> <span class="o">==</span> <span class="s2">&quot;mode&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">val</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.jitter" class="doc doc-heading">
            <code>jitter</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>jitter</code> function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.jitter.jitter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">jitter</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">dest_column_name</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">clip</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Adds Gaussian noise (jitter) to the values of a column.</p>
<p>A new column will be created containing the values of the original column
with Gaussian noise added.
For each value in the column, a Gaussian distribution is created
having a location (mean) equal to the value
and a scale (standard deviation) equal to <code>scale</code>.
A random value is then sampled from this distribution,
which is the jittered value.
If a tuple is supplied for <code>clip</code>,
then any values of the new column less than <code>clip[0]</code>
will be set to <code>clip[0]</code>,
and any values greater than <code>clip[1]</code> will be set to <code>clip[1]</code>.
Additionally, if a numeric value is supplied for <code>random_state</code>,
this value will be used to set the random seed used for sampling.
NaN values are ignored in this method.</p>
<p>This method mutates the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     a</span>
<span class="go">0  3.0</span>
<span class="go">1  4.0</span>
<span class="go">2  5.0</span>
<span class="go">3  NaN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">jitter</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">dest_column_name</span><span class="o">=</span><span class="s2">&quot;a_jit&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="go">     a     a_jit</span>
<span class="go">0  3.0  3.496714</span>
<span class="go">1  4.0  3.861736</span>
<span class="go">2  5.0  5.647689</span>
<span class="go">3  NaN       NaN</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing
values to add Gaussian jitter to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dest_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the new column containing the
jittered values that will be created.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scale</code>
            </td>
            <td>
                  <code>number</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A positive value multiplied by the original
column value to determine the scale (standard deviation) of the
Gaussian distribution to sample from. (A value of zero results in
no jittering.)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>clip</code>
            </td>
            <td>
                  <code>Optional[Iterable[number]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An iterable of two values (minimum and maximum) to clip
the jittered values to, default to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>random_state</code>
            </td>
            <td>
                  <code>Optional[number]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An integer or 1-d array value used to set the random
seed, default to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>column_name</code> is not numeric.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>scale</code> is not a numerical value
greater than <code>0</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>clip</code> is not an iterable of length <code>2</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>clip[0]</code> is greater than <code>clip[1]</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with a new column containing
Gaussian-jittered values from another column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/jitter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">jitter</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">dest_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
    <span class="n">clip</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">random_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds Gaussian noise (jitter) to the values of a column.</span>

<span class="sd">    A new column will be created containing the values of the original column</span>
<span class="sd">    with Gaussian noise added.</span>
<span class="sd">    For each value in the column, a Gaussian distribution is created</span>
<span class="sd">    having a location (mean) equal to the value</span>
<span class="sd">    and a scale (standard deviation) equal to `scale`.</span>
<span class="sd">    A random value is then sampled from this distribution,</span>
<span class="sd">    which is the jittered value.</span>
<span class="sd">    If a tuple is supplied for `clip`,</span>
<span class="sd">    then any values of the new column less than `clip[0]`</span>
<span class="sd">    will be set to `clip[0]`,</span>
<span class="sd">    and any values greater than `clip[1]` will be set to `clip[1]`.</span>
<span class="sd">    Additionally, if a numeric value is supplied for `random_state`,</span>
<span class="sd">    this value will be used to set the random seed used for sampling.</span>
<span class="sd">    NaN values are ignored in this method.</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [3, 4, 5, np.nan]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">             a</span>
<span class="sd">        0  3.0</span>
<span class="sd">        1  4.0</span>
<span class="sd">        2  5.0</span>
<span class="sd">        3  NaN</span>
<span class="sd">        &gt;&gt;&gt; df.jitter(&quot;a&quot;, dest_column_name=&quot;a_jit&quot;, scale=1, random_state=42)</span>
<span class="sd">             a     a_jit</span>
<span class="sd">        0  3.0  3.496714</span>
<span class="sd">        1  4.0  3.861736</span>
<span class="sd">        2  5.0  5.647689</span>
<span class="sd">        3  NaN       NaN</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: Name of the column containing</span>
<span class="sd">            values to add Gaussian jitter to.</span>
<span class="sd">        dest_column_name: The name of the new column containing the</span>
<span class="sd">            jittered values that will be created.</span>
<span class="sd">        scale: A positive value multiplied by the original</span>
<span class="sd">            column value to determine the scale (standard deviation) of the</span>
<span class="sd">            Gaussian distribution to sample from. (A value of zero results in</span>
<span class="sd">            no jittering.)</span>
<span class="sd">        clip: An iterable of two values (minimum and maximum) to clip</span>
<span class="sd">            the jittered values to, default to None.</span>
<span class="sd">        random_state: An integer or 1-d array value used to set the random</span>
<span class="sd">            seed, default to None.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `column_name` is not numeric.</span>
<span class="sd">        ValueError: If `scale` is not a numerical value</span>
<span class="sd">            greater than `0`.</span>
<span class="sd">        ValueError: If `clip` is not an iterable of length `2`.</span>
<span class="sd">        ValueError: If `clip[0]` is greater than `clip[1]`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with a new column containing</span>
<span class="sd">            Gaussian-jittered values from another column.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Check types</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span>

    <span class="c1"># Check that `column_name` is a numeric column</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">column_name</span><span class="si">}</span><span class="s2"> must be a numeric column.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">scale</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`scale` must be a numeric value greater than 0.&quot;</span><span class="p">)</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">random_state</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">random_state</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">clip</span><span class="p">:</span>
        <span class="c1"># Ensure `clip` has length 2</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clip</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`clip` must be an iterable of length 2.&quot;</span><span class="p">)</span>
        <span class="c1"># Ensure the values in `clip` are ordered as min, max</span>
        <span class="k">if</span> <span class="n">clip</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">clip</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;`clip[0]` must be less than or equal to `clip[1]`.&quot;</span>
            <span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="o">*</span><span class="n">clip</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="n">dest_column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.join_apply" class="doc doc-heading">
            <code>join_apply</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>join_apply</code> function</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.join_apply.join_apply" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">join_apply</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">new_column_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Join the result of applying a function across dataframe rows.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>This is a convenience function that allows us to apply arbitrary functions
that take any combination of information from any of the columns. The only
requirement is that the function signature takes in a row from the
DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Sum the result of two columns into a new column.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b</span>
<span class="go">0  1  2</span>
<span class="go">1  2  3</span>
<span class="go">2  3  4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">join_apply</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">func</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">new_column_name</span><span class="o">=</span><span class="s2">&quot;2a+b&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   a  b  2a+b</span>
<span class="go">0  1  2     4</span>
<span class="go">1  2  3     7</span>
<span class="go">2  3  4    10</span>
</code></pre></div>
    <p>Incorporating conditionals in <code>func</code>.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a   b</span>
<span class="go">0  1  20</span>
<span class="go">1  2  30</span>
<span class="go">2  3  40</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">take_a_if_even</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">join_apply</span><span class="p">(</span><span class="n">take_a_if_even</span><span class="p">,</span> <span class="s2">&quot;a_if_even&quot;</span><span class="p">)</span>
<span class="go">   a   b  a_if_even</span>
<span class="go">0  1  20         20</span>
<span class="go">1  2  30          2</span>
<span class="go">2  3  40         40</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
                  <code>Callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that is applied elementwise across all rows of the
DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the resulting column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with new column appended.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/join_apply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">join_apply</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
    <span class="n">new_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Join the result of applying a function across dataframe rows.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    This is a convenience function that allows us to apply arbitrary functions</span>
<span class="sd">    that take any combination of information from any of the columns. The only</span>
<span class="sd">    requirement is that the function signature takes in a row from the</span>
<span class="sd">    DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Sum the result of two columns into a new column.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;:[1, 2, 3], &quot;b&quot;: [2, 3, 4]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b</span>
<span class="sd">        0  1  2</span>
<span class="sd">        1  2  3</span>
<span class="sd">        2  3  4</span>
<span class="sd">        &gt;&gt;&gt; df.join_apply(</span>
<span class="sd">        ...     func=lambda x: 2 * x[&quot;a&quot;] + x[&quot;b&quot;],</span>
<span class="sd">        ...     new_column_name=&quot;2a+b&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           a  b  2a+b</span>
<span class="sd">        0  1  2     4</span>
<span class="sd">        1  2  3     7</span>
<span class="sd">        2  3  4    10</span>

<span class="sd">        Incorporating conditionals in `func`.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [1, 2, 3], &quot;b&quot;: [20, 30, 40]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a   b</span>
<span class="sd">        0  1  20</span>
<span class="sd">        1  2  30</span>
<span class="sd">        2  3  40</span>
<span class="sd">        &gt;&gt;&gt; def take_a_if_even(x):</span>
<span class="sd">        ...     if x[&quot;a&quot;] % 2 == 0:</span>
<span class="sd">        ...         return x[&quot;a&quot;]</span>
<span class="sd">        ...     else:</span>
<span class="sd">        ...         return x[&quot;b&quot;]</span>
<span class="sd">        &gt;&gt;&gt; df.join_apply(take_a_if_even, &quot;a_if_even&quot;)</span>
<span class="sd">           a   b  a_if_even</span>
<span class="sd">        0  1  20         20</span>
<span class="sd">        1  2  30          2</span>
<span class="sd">        2  3  40         40</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        func: A function that is applied elementwise across all rows of the</span>
<span class="sd">            DataFrame.</span>
<span class="sd">        new_column_name: Name of the resulting column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with new column appended.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">new_column_name</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.label_encode" class="doc doc-heading">
            <code>label_encode</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of <code>label_encode</code> function</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.label_encode.label_encode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">label_encode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert labels into numerical data.</p>
<p>This method will create a new column with the string <code>_enc</code> appended
after the original column's name.
Consider this to be syntactic sugar.
This function uses the <code>factorize</code> pandas function under the hood.</p>
<p>This method behaves differently from
<a class="autorefs autorefs-internal" href="#janitor.functions.encode_categorical.encode_categorical"><code>encode_categorical</code></a>.
This method creates a new column of numeric data.
<a class="autorefs autorefs-internal" href="#janitor.functions.encode_categorical.encode_categorical"><code>encode_categorical</code></a>
replaces the dtype of the original column with a <em>categorical</em> dtype.</p>
<p>This method mutates the original DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <a class="autorefs autorefs-internal" href="#janitor.functions.factorize_columns.factorize_columns"><code>factorize_columns</code></a>
instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  foo  bar</span>
<span class="go">0   b    4</span>
<span class="go">1   b    5</span>
<span class="go">2   a    6</span>
<span class="go">3   c    7</span>
<span class="go">4   b    8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">label_encode</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="go">  foo  bar  foo_enc</span>
<span class="go">0   b    4        0</span>
<span class="go">1   b    5        0</span>
<span class="go">2   a    6        1</span>
<span class="go">3   c    7        2</span>
<span class="go">4   b    8        0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[str, Iterable[str], Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A column name or an iterable (list
or tuple) of column names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/label_encode.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `janitor.factorize_columns` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">label_encode</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Hashable</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert labels into numerical data.</span>

<span class="sd">    This method will create a new column with the string `_enc` appended</span>
<span class="sd">    after the original column&#39;s name.</span>
<span class="sd">    Consider this to be syntactic sugar.</span>
<span class="sd">    This function uses the `factorize` pandas function under the hood.</span>

<span class="sd">    This method behaves differently from</span>
<span class="sd">    [`encode_categorical`][janitor.functions.encode_categorical.encode_categorical].</span>
<span class="sd">    This method creates a new column of numeric data.</span>
<span class="sd">    [`encode_categorical`][janitor.functions.encode_categorical.encode_categorical]</span>
<span class="sd">    replaces the dtype of the original column with a *categorical* dtype.</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use [`factorize_columns`][janitor.functions.factorize_columns.factorize_columns]</span>
<span class="sd">        instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;foo&quot;: [&quot;b&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;, &quot;b&quot;],</span>
<span class="sd">        ...     &quot;bar&quot;: range(4, 9),</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          foo  bar</span>
<span class="sd">        0   b    4</span>
<span class="sd">        1   b    5</span>
<span class="sd">        2   a    6</span>
<span class="sd">        3   c    7</span>
<span class="sd">        4   b    8</span>
<span class="sd">        &gt;&gt;&gt; df.label_encode(column_names=&quot;foo&quot;)</span>
<span class="sd">          foo  bar  foo_enc</span>
<span class="sd">        0   b    4        0</span>
<span class="sd">        1   b    5        0</span>
<span class="sd">        2   a    6        1</span>
<span class="sd">        3   c    7        2</span>
<span class="sd">        4   b    8        0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        column_names: A column name or an iterable (list</span>
<span class="sd">            or tuple) of column names.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;`label_encode` will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `factorize_columns` instead.&quot;</span>
    <span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">_factorize</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="s2">&quot;_enc&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.limit_column_characters" class="doc doc-heading">
            <code>limit_column_characters</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of limit_column_characters.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.limit_column_characters.limit_column_characters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">limit_column_characters</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_length</span><span class="p">,</span> <span class="n">col_separator</span><span class="o">=</span><span class="s1">&#39;_&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Truncate column sizes to a specific length.</p>
<p>This method mutates the original DataFrame.</p>
<p>Method chaining will truncate all columns to a given length and append
a given separator character with the index of duplicate columns, except
for the first distinct column name.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;really_long_name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;another_really_long_name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;another_really_longer_name&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;this_is_getting_out_of_hand&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;pqr&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   really_long_name  another_really_long_name another_really_longer_name this_is_getting_out_of_hand</span>
<span class="go">0                 9                         2                          x                           p</span>
<span class="go">1                 8                         4                          y                           q</span>
<span class="go">2                 7                         6                          z                           r</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">limit_column_characters</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">   really_  another another_1 this_is</span>
<span class="go">0        9        2         x       p</span>
<span class="go">1        8        4         y       q</span>
<span class="go">2        7        6         z       r</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_length</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Character length for which to truncate all columns.
The column separator value and number for duplicate column name does
not contribute. Therefore, if all columns are truncated to 10
characters, the first distinct column will be 10 characters and the
remaining will be 12 characters (assuming a column separator of one
character).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>col_separator</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The separator to use for counting distinct column
values, for example, <code>'_'</code> or <code>'.'</code>.
Supply an empty string (i.e. <code>''</code>) to remove the separator.</p>
              </div>
            </td>
            <td>
                  <code>&#39;_&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with truncated column lengths.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/limit_column_characters.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">limit_column_characters</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_length</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">col_separator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Truncate column sizes to a specific length.</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    Method chaining will truncate all columns to a given length and append</span>
<span class="sd">    a given separator character with the index of duplicate columns, except</span>
<span class="sd">    for the first distinct column name.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; data_dict = {</span>
<span class="sd">        ...     &quot;really_long_name&quot;: [9, 8, 7],</span>
<span class="sd">        ...     &quot;another_really_long_name&quot;: [2, 4, 6],</span>
<span class="sd">        ...     &quot;another_really_longer_name&quot;: list(&quot;xyz&quot;),</span>
<span class="sd">        ...     &quot;this_is_getting_out_of_hand&quot;: list(&quot;pqr&quot;),</span>
<span class="sd">        ... }</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data_dict)</span>
<span class="sd">        &gt;&gt;&gt; df  # doctest: +SKIP</span>
<span class="sd">           really_long_name  another_really_long_name another_really_longer_name this_is_getting_out_of_hand</span>
<span class="sd">        0                 9                         2                          x                           p</span>
<span class="sd">        1                 8                         4                          y                           q</span>
<span class="sd">        2                 7                         6                          z                           r</span>
<span class="sd">        &gt;&gt;&gt; df.limit_column_characters(7)</span>
<span class="sd">           really_  another another_1 this_is</span>
<span class="sd">        0        9        2         x       p</span>
<span class="sd">        1        8        4         y       q</span>
<span class="sd">        2        7        6         z       r</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_length: Character length for which to truncate all columns.</span>
<span class="sd">            The column separator value and number for duplicate column name does</span>
<span class="sd">            not contribute. Therefore, if all columns are truncated to 10</span>
<span class="sd">            characters, the first distinct column will be 10 characters and the</span>
<span class="sd">            remaining will be 12 characters (assuming a column separator of one</span>
<span class="sd">            character).</span>
<span class="sd">        col_separator: The separator to use for counting distinct column</span>
<span class="sd">            values, for example, `&#39;_&#39;` or `&#39;.&#39;`.</span>
<span class="sd">            Supply an empty string (i.e. `&#39;&#39;`) to remove the separator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with truncated column lengths.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_length&quot;</span><span class="p">,</span> <span class="n">column_length</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;col_separator&quot;</span><span class="p">,</span> <span class="n">col_separator</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>

    <span class="n">col_names</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">col_name</span><span class="p">[:</span><span class="n">column_length</span><span class="p">]</span> <span class="k">for</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">col_names</span><span class="p">]</span>

    <span class="n">col_name_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">col_names</span><span class="p">)</span>
    <span class="n">col_name_count</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># If no columns are duplicates, we can skip the loops below.</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">col_name_set</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">col_names</span><span class="p">):</span>
        <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">col_names</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">for</span> <span class="n">col_name_to_check</span> <span class="ow">in</span> <span class="n">col_name_set</span><span class="p">:</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">col_names</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">col_name_to_check</span> <span class="o">==</span> <span class="n">col_name</span><span class="p">:</span>
                <span class="n">col_name_count</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">final_col_names</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">col_names</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">col_name_count</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">col_name_to_append</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">col_name</span> <span class="o">+</span> <span class="n">col_separator</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">col_name_count</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
            <span class="p">)</span>
            <span class="n">final_col_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">col_name_to_append</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">final_col_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">col_name</span><span class="p">)</span>

    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">final_col_names</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.min_max_scale" class="doc doc-heading">
            <code>min_max_scale</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.min_max_scale.min_max_scale" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">min_max_scale</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">jointly</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Scales DataFrame to between a minimum and maximum value.</p>
<p>One can optionally set a new target <strong>minimum</strong> and <strong>maximum</strong> value
using the <code>feature_range</code> keyword argument.</p>
<p>If <code>column_name</code> is specified, then only that column(s) of data is scaled.
Otherwise, the entire dataframe is scaled.
If <code>jointly</code> is <code>True</code>, the <code>column_names</code> provided entire dataframe will
be regnozied as the one to jointly scale. Otherwise, each column of data
will be scaled separately.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">min_max_scale</span><span class="p">()</span>
<span class="go">     a    b</span>
<span class="go">0  0.0  0.0</span>
<span class="go">1  1.0  1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">min_max_scale</span><span class="p">(</span><span class="n">jointly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">     a    b</span>
<span class="go">0  0.5  0.0</span>
<span class="go">1  1.0  0.5</span>
</code></pre></div>
    <p>Setting custom minimum and maximum.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">min_max_scale</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="go">       a      b</span>
<span class="go">0    0.0    0.0</span>
<span class="go">1  100.0  100.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">min_max_scale</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">jointly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">       a     b</span>
<span class="go">0   50.0   0.0</span>
<span class="go">1  100.0  50.0</span>
</code></pre></div>
    <p>Apply min-max to the selected columns.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">min_max_scale</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">       a  b      c</span>
<span class="go">0    0.0  0  100.0</span>
<span class="go">1  100.0  1    0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">min_max_scale</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">jointly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">       a  b     c</span>
<span class="go">0   50.0  0  50.0</span>
<span class="go">1  100.0  1   0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">min_max_scale</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">       a  b  c</span>
<span class="go">0    0.0  0  1</span>
<span class="go">1  100.0  1  0</span>
</code></pre></div>
    <p>The aforementioned example might be applied to something like scaling the
isoelectric points of amino acids. While technically they range from
approx 3-10, we can also think of them on the pH scale which ranges from
1 to 14. Hence, 3 gets scaled not to 0 but approx. 0.15 instead, while 10
gets scaled to approx. 0.69 instead.</p>
        <div class="admonition summary">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.24.0<ul>
<li>Deleted <code>old_min</code>, <code>old_max</code>, <code>new_min</code>, and <code>new_max</code> options.</li>
<li>Added <code>feature_range</code>, and <code>jointly</code> options.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>feature_range</code>
            </td>
            <td>
                  <code>tuple[int | float, int | float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Desired range of transformed data.</p>
              </div>
            </td>
            <td>
                  <code>(0, 1)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>str | int | list[str | int] | Index</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column on which to perform scaling.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>jointly</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scale the entire data if True.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>feature_range</code> isn't tuple type.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the length of <code>feature_range</code> isn't equal to two.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the element of <code>feature_range</code> isn't number type.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>feature_range[1]</code> &lt;= <code>feature_range[0]</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with scaled data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/min_max_scale.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_kwargs</span><span class="p">(</span>
    <span class="s2">&quot;old_min&quot;</span><span class="p">,</span>
    <span class="s2">&quot;old_max&quot;</span><span class="p">,</span>
    <span class="s2">&quot;new_min&quot;</span><span class="p">,</span>
    <span class="s2">&quot;new_max&quot;</span><span class="p">,</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;The keyword argument </span><span class="si">{argument!r}</span><span class="s2"> of </span><span class="si">{func_name!r}</span><span class="s2"> is deprecated. &quot;</span>
        <span class="s2">&quot;Please use &#39;feature_range&#39; instead.&quot;</span>
    <span class="p">),</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">col_name</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">min_max_scale</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">feature_range</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">jointly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scales DataFrame to between a minimum and maximum value.</span>

<span class="sd">    One can optionally set a new target **minimum** and **maximum** value</span>
<span class="sd">    using the `feature_range` keyword argument.</span>

<span class="sd">    If `column_name` is specified, then only that column(s) of data is scaled.</span>
<span class="sd">    Otherwise, the entire dataframe is scaled.</span>
<span class="sd">    If `jointly` is `True`, the `column_names` provided entire dataframe will</span>
<span class="sd">    be regnozied as the one to jointly scale. Otherwise, each column of data</span>
<span class="sd">    will be scaled separately.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&#39;a&#39;:[1, 2], &#39;b&#39;:[0, 1]})</span>
<span class="sd">        &gt;&gt;&gt; df.min_max_scale()</span>
<span class="sd">             a    b</span>
<span class="sd">        0  0.0  0.0</span>
<span class="sd">        1  1.0  1.0</span>
<span class="sd">        &gt;&gt;&gt; df.min_max_scale(jointly=True)</span>
<span class="sd">             a    b</span>
<span class="sd">        0  0.5  0.0</span>
<span class="sd">        1  1.0  0.5</span>

<span class="sd">        Setting custom minimum and maximum.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&#39;a&#39;:[1, 2], &#39;b&#39;:[0, 1]})</span>
<span class="sd">        &gt;&gt;&gt; df.min_max_scale(feature_range=(0, 100))</span>
<span class="sd">               a      b</span>
<span class="sd">        0    0.0    0.0</span>
<span class="sd">        1  100.0  100.0</span>
<span class="sd">        &gt;&gt;&gt; df.min_max_scale(feature_range=(0, 100), jointly=True)</span>
<span class="sd">               a     b</span>
<span class="sd">        0   50.0   0.0</span>
<span class="sd">        1  100.0  50.0</span>

<span class="sd">        Apply min-max to the selected columns.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&#39;a&#39;:[1, 2], &#39;b&#39;:[0, 1], &#39;c&#39;: [1, 0]})</span>
<span class="sd">        &gt;&gt;&gt; df.min_max_scale(</span>
<span class="sd">        ...     feature_range=(0, 100),</span>
<span class="sd">        ...     column_name=[&quot;a&quot;, &quot;c&quot;],</span>
<span class="sd">        ... )</span>
<span class="sd">               a  b      c</span>
<span class="sd">        0    0.0  0  100.0</span>
<span class="sd">        1  100.0  1    0.0</span>
<span class="sd">        &gt;&gt;&gt; df.min_max_scale(</span>
<span class="sd">        ...     feature_range=(0, 100),</span>
<span class="sd">        ...     column_name=[&quot;a&quot;, &quot;c&quot;],</span>
<span class="sd">        ...     jointly=True,</span>
<span class="sd">        ... )</span>
<span class="sd">               a  b     c</span>
<span class="sd">        0   50.0  0  50.0</span>
<span class="sd">        1  100.0  1   0.0</span>
<span class="sd">        &gt;&gt;&gt; df.min_max_scale(feature_range=(0, 100), column_name=&#39;a&#39;)</span>
<span class="sd">               a  b  c</span>
<span class="sd">        0    0.0  0  1</span>
<span class="sd">        1  100.0  1  0</span>

<span class="sd">        The aforementioned example might be applied to something like scaling the</span>
<span class="sd">        isoelectric points of amino acids. While technically they range from</span>
<span class="sd">        approx 3-10, we can also think of them on the pH scale which ranges from</span>
<span class="sd">        1 to 14. Hence, 3 gets scaled not to 0 but approx. 0.15 instead, while 10</span>
<span class="sd">        gets scaled to approx. 0.69 instead.</span>

<span class="sd">    !!! summary &quot;Version Changed&quot;</span>

<span class="sd">        - 0.24.0</span>
<span class="sd">            - Deleted `old_min`, `old_max`, `new_min`, and `new_max` options.</span>
<span class="sd">            - Added `feature_range`, and `jointly` options.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        feature_range: Desired range of transformed data.</span>
<span class="sd">        column_name: The column on which to perform scaling.</span>
<span class="sd">        jointly: Scale the entire data if True.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `feature_range` isn&#39;t tuple type.</span>
<span class="sd">        ValueError: If the length of `feature_range` isn&#39;t equal to two.</span>
<span class="sd">        ValueError: If the element of `feature_range` isn&#39;t number type.</span>
<span class="sd">        ValueError: If `feature_range[1]` &lt;= `feature_range[0]`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with scaled data.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature_range</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span>
        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_range</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="ow">and</span> <span class="nb">all</span><span class="p">((</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">feature_range</span><span class="p">)</span>
        <span class="ow">and</span> <span class="n">feature_range</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">feature_range</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;`feature_range` should be a range type contains number element, &quot;</span>
            <span class="s2">&quot;the first element must be greater than the second one&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">column_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># Avoid to change the original DataFrame.</span>

        <span class="n">old_feature_range</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">_min_max_value</span><span class="p">,</span> <span class="n">jointly</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
            <span class="n">_apply_min_max</span><span class="p">,</span>
            <span class="o">*</span><span class="n">old_feature_range</span><span class="p">,</span>
            <span class="o">*</span><span class="n">feature_range</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">old_feature_range</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">_min_max_value</span><span class="p">,</span> <span class="n">jointly</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span>
            <span class="n">_apply_min_max</span><span class="p">,</span>
            <span class="o">*</span><span class="n">old_feature_range</span><span class="p">,</span>
            <span class="o">*</span><span class="n">feature_range</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.move" class="doc doc-heading">
            <code>move</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of move.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.move.move" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">move</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;before&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Changes rows or columns positions in the dataframe.</p>
<p>It uses the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax,
making it easy to move blocks of rows or columns at once.</p>
<p>This operation does not reset the index of the dataframe. User must
explicitly do so.</p>
<p>The dataframe must have unique column names or indices.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Move a row:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;wxyz&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b</span>
<span class="go">0  2  w</span>
<span class="go">1  4  x</span>
<span class="go">2  6  y</span>
<span class="go">3  8  z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">   a  b</span>
<span class="go">1  4  x</span>
<span class="go">2  6  y</span>
<span class="go">0  2  w</span>
<span class="go">3  8  z</span>
</code></pre></div>
    <p>Move a column:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s2">&quot;d&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;f&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b  c  d  e  f</span>
<span class="go">0  1  1  1  a  a  a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   b  c  a  d  e  f</span>
<span class="go">0  1  1  1  a  a  a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   a  f  b  c  d  e</span>
<span class="go">0  1  a  1  1  a  a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   b  c  d  e  f  a</span>
<span class="go">0  1  1  a  a  a  1</span>
</code></pre></div>
    <p>Move columns:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">is_numeric_dtype</span><span class="p">,</span> <span class="n">is_string_dtype</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">is_string_dtype</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   d  e  f  a  b  c</span>
<span class="go">0  a  a  a  1  1  1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">is_numeric_dtype</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   d  e  f  a  b  c</span>
<span class="go">0  a  a  a  1  1  1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">],</span> <span class="n">target</span><span class="o">=</span><span class="n">is_numeric_dtype</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">   d  f  a  b  c  e</span>
<span class="go">0  a  a  1  1  1  a</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Columns or rows to move.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Columns or rows to move adjacent to.
If <code>None</code> and <code>position == 'before'</code>, <code>source</code>
is moved to the beginning; if <code>position == 'after'</code>,
<code>source</code> is moved to the end.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specifies the destination of the columns/rows.
Values can be either <code>before</code> or <code>after</code>; defaults to <code>before</code>.</p>
              </div>
            </td>
            <td>
                  <code>&#39;before&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Axis along which the function is applied. 0 to move along
the index, 1 to move along the columns.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>axis</code> is not <code>0</code> or <code>1</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>position</code> is not <code>before</code> or <code>after</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dataframe with the Series moved.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/move.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">move</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">target</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">position</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;before&quot;</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Changes rows or columns positions in the dataframe.</span>

<span class="sd">    It uses the</span>
<span class="sd">    [`select`][janitor.functions.select.select] syntax,</span>
<span class="sd">    making it easy to move blocks of rows or columns at once.</span>

<span class="sd">    This operation does not reset the index of the dataframe. User must</span>
<span class="sd">    explicitly do so.</span>

<span class="sd">    The dataframe must have unique column names or indices.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Move a row:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [2, 4, 6, 8], &quot;b&quot;: list(&quot;wxyz&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b</span>
<span class="sd">        0  2  w</span>
<span class="sd">        1  4  x</span>
<span class="sd">        2  6  y</span>
<span class="sd">        3  8  z</span>
<span class="sd">        &gt;&gt;&gt; df.move(source=0, target=3, position=&quot;before&quot;, axis=0)</span>
<span class="sd">           a  b</span>
<span class="sd">        1  4  x</span>
<span class="sd">        2  6  y</span>
<span class="sd">        0  2  w</span>
<span class="sd">        3  8  z</span>

<span class="sd">        Move a column:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; data = [{&quot;a&quot;: 1, &quot;b&quot;: 1, &quot;c&quot;: 1,</span>
<span class="sd">        ...          &quot;d&quot;: &quot;a&quot;, &quot;e&quot;: &quot;a&quot;,&quot;f&quot;: &quot;a&quot;}]</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b  c  d  e  f</span>
<span class="sd">        0  1  1  1  a  a  a</span>
<span class="sd">        &gt;&gt;&gt; df.move(source=&quot;a&quot;, target=&quot;c&quot;, position=&quot;after&quot;, axis=1)</span>
<span class="sd">           b  c  a  d  e  f</span>
<span class="sd">        0  1  1  1  a  a  a</span>
<span class="sd">        &gt;&gt;&gt; df.move(source=&quot;f&quot;, target=&quot;b&quot;, position=&quot;before&quot;, axis=1)</span>
<span class="sd">           a  f  b  c  d  e</span>
<span class="sd">        0  1  a  1  1  a  a</span>
<span class="sd">        &gt;&gt;&gt; df.move(source=&quot;a&quot;, target=None, position=&quot;after&quot;, axis=1)</span>
<span class="sd">           b  c  d  e  f  a</span>
<span class="sd">        0  1  1  a  a  a  1</span>

<span class="sd">        Move columns:</span>
<span class="sd">        &gt;&gt;&gt; from pandas.api.types import is_numeric_dtype, is_string_dtype</span>
<span class="sd">        &gt;&gt;&gt; df.move(source=is_string_dtype, target=None, position=&quot;before&quot;, axis=1)</span>
<span class="sd">           d  e  f  a  b  c</span>
<span class="sd">        0  a  a  a  1  1  1</span>
<span class="sd">        &gt;&gt;&gt; df.move(source=is_numeric_dtype, target=None, position=&quot;after&quot;, axis=1)</span>
<span class="sd">           d  e  f  a  b  c</span>
<span class="sd">        0  a  a  a  1  1  1</span>
<span class="sd">        &gt;&gt;&gt; df.move(source = [&quot;d&quot;, &quot;f&quot;], target=is_numeric_dtype, position=&quot;before&quot;, axis=1)</span>
<span class="sd">           d  f  a  b  c  e</span>
<span class="sd">        0  a  a  1  1  1  a</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        source: Columns or rows to move.</span>
<span class="sd">        target: Columns or rows to move adjacent to.</span>
<span class="sd">            If `None` and `position == &#39;before&#39;`, `source`</span>
<span class="sd">            is moved to the beginning; if `position == &#39;after&#39;`,</span>
<span class="sd">            `source` is moved to the end.</span>
<span class="sd">        position: Specifies the destination of the columns/rows.</span>
<span class="sd">            Values can be either `before` or `after`; defaults to `before`.</span>
<span class="sd">        axis: Axis along which the function is applied. 0 to move along</span>
<span class="sd">            the index, 1 to move along the columns.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `axis` is not `0` or `1`.</span>
<span class="sd">        ValueError: If `position` is not `before` or `after`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The dataframe with the Series moved.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="k">if</span> <span class="n">axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid axis &#39;</span><span class="si">{</span><span class="n">axis</span><span class="si">}</span><span class="s2">&#39;. Can only be 0 or 1.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">position</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;before&quot;</span><span class="p">,</span> <span class="s2">&quot;after&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid position &#39;</span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s2">&#39;. Can only be &#39;before&#39; or &#39;after&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;columns&quot;</span><span class="p">}</span>
    <span class="n">names</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">mapping</span><span class="p">[</span><span class="n">axis</span><span class="p">])</span>

    <span class="k">assert</span> <span class="n">names</span><span class="o">.</span><span class="n">is_unique</span>

    <span class="n">index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">_select_index</span><span class="p">([</span><span class="n">source</span><span class="p">],</span> <span class="n">df</span><span class="p">,</span> <span class="n">mapping</span><span class="p">[</span><span class="n">axis</span><span class="p">])</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">_index_converter</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">target</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;after&quot;</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">names</span><span class="o">.</span><span class="n">size</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">_select_index</span><span class="p">([</span><span class="n">target</span><span class="p">],</span> <span class="n">df</span><span class="p">,</span> <span class="n">mapping</span><span class="p">[</span><span class="n">axis</span><span class="p">])</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">_index_converter</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="s2">&quot;before&quot;</span><span class="p">:</span>
        <span class="n">position</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">searchsorted</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">position</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">searchsorted</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">index</span><span class="p">[:</span><span class="n">position</span><span class="p">]</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">index</span><span class="p">[</span><span class="n">position</span><span class="p">:]</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">start</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">end</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)[</span><span class="n">position</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.pivot" class="doc doc-heading">
            <code>pivot</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.pivot.pivot_longer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pivot_longer</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">values_to</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">column_level</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names_sep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names_pattern</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names_transform</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort_by_appearance</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Unpivots a DataFrame from <em>wide</em> to <em>long</em> format.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>It is modeled after the <code>pivot_longer</code> function in R's tidyr package,
and also takes inspiration from R's data.table package.</p>
<p>This function is useful to massage a DataFrame into a format where
one or more columns are considered measured variables, and all other
columns are considered as identifier variables.</p>
<p>All measured variables are <em>unpivoted</em> (and typically duplicated) along the
row axis.</p>
<p>Column selection in <code>index</code> and <code>column_names</code> is possible using the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
<p>For more granular control on the unpivoting, have a look at
<a class="autorefs autorefs-internal" href="#janitor.functions.pivot.pivot_longer_spec"><code>pivot_longer_spec</code></a>.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;Sepal.Length&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.1</span><span class="p">,</span> <span class="mf">5.9</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Sepal.Width&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Petal.Length&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">5.1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Petal.Width&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Species&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;setosa&quot;</span><span class="p">,</span> <span class="s2">&quot;virginica&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   Sepal.Length  Sepal.Width  Petal.Length  Petal.Width    Species</span>
<span class="go">0           5.1          3.5           1.4          0.2     setosa</span>
<span class="go">1           5.9          3.0           5.1          1.8  virginica</span>
</code></pre></div>
    <p>Replicate pandas' melt:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;Species&#39;</span><span class="p">)</span>
<span class="go">     Species      variable  value</span>
<span class="go">0     setosa  Sepal.Length    5.1</span>
<span class="go">1  virginica  Sepal.Length    5.9</span>
<span class="go">2     setosa   Sepal.Width    3.5</span>
<span class="go">3  virginica   Sepal.Width    3.0</span>
<span class="go">4     setosa  Petal.Length    1.4</span>
<span class="go">5  virginica  Petal.Length    5.1</span>
<span class="go">6     setosa   Petal.Width    0.2</span>
<span class="go">7  virginica   Petal.Width    1.8</span>
</code></pre></div>
    <p>Convenient, flexible column selection in the <code>index</code> via the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">is_string_dtype</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="n">is_string_dtype</span><span class="p">)</span>
<span class="go">     Species      variable  value</span>
<span class="go">0     setosa  Sepal.Length    5.1</span>
<span class="go">1  virginica  Sepal.Length    5.9</span>
<span class="go">2     setosa   Sepal.Width    3.5</span>
<span class="go">3  virginica   Sepal.Width    3.0</span>
<span class="go">4     setosa  Petal.Length    1.4</span>
<span class="go">5  virginica  Petal.Length    5.1</span>
<span class="go">6     setosa   Petal.Width    0.2</span>
<span class="go">7  virginica   Petal.Width    1.8</span>
</code></pre></div>
    <p>Split the column labels into individual columns:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;Species&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_to</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="s1">&#39;dimension&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_sep</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sort_by_appearance</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">     Species   part dimension  value</span>
<span class="go">0     setosa  Sepal    Length    5.1</span>
<span class="go">1     setosa  Sepal     Width    3.5</span>
<span class="go">2     setosa  Petal    Length    1.4</span>
<span class="go">3     setosa  Petal     Width    0.2</span>
<span class="go">4  virginica  Sepal    Length    5.9</span>
<span class="go">5  virginica  Sepal     Width    3.0</span>
<span class="go">6  virginica  Petal    Length    5.1</span>
<span class="go">7  virginica  Petal     Width    1.8</span>
</code></pre></div>
    <p>Retain parts of the column names as headers:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;Species&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_to</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="s1">&#39;.value&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_sep</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sort_by_appearance</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">     Species   part  Length  Width</span>
<span class="go">0     setosa  Sepal     5.1    3.5</span>
<span class="go">1     setosa  Petal     1.4    0.2</span>
<span class="go">2  virginica  Sepal     5.9    3.0</span>
<span class="go">3  virginica  Petal     5.1    1.8</span>
</code></pre></div>
    <p>Split the column labels based on regex:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;new_sp_m5564&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;newrel_f65&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   id  new_sp_m5564  newrel_f65</span>
<span class="go">0   1             2           3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_to</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;diagnosis&#39;</span><span class="p">,</span> <span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;new_?(.+)_(.)(\d+)&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   id diagnosis gender   age  value</span>
<span class="go">0   1        sp      m  5564      2</span>
<span class="go">1   1       rel      f    65      3</span>
</code></pre></div>
    <p>Split the column labels for the above dataframe using named groups in <code>names_pattern</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;new_?(?P&lt;diagnosis&gt;.+)_(?P&lt;gender&gt;.)(?P&lt;age&gt;\d+)&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">    id diagnosis gender   age  value</span>
<span class="go">0   1        sp      m  5564      2</span>
<span class="go">1   1       rel      f    65      3</span>
</code></pre></div>
    <p>Convert the dtypes of specific columns with <code>names_transform</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
<span class="gp">... </span>         <span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>             <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">names_to</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;diagnosis&#39;</span><span class="p">,</span> <span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">),</span>
<span class="gp">... </span>             <span class="n">names_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;new_?(.+)_(.)(\d+)&quot;</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">names_transform</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gender&#39;</span><span class="p">:</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="s1">&#39;int&#39;</span><span class="p">})</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">id           int64</span>
<span class="go">diagnosis   object</span>
<span class="go">gender    category</span>
<span class="go">age          int64</span>
<span class="go">value        int64</span>
<span class="go">dtype: object</span>
</code></pre></div>
    <p>Use multiple <code>.value</code> to reshape the dataframe:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;x_1_mean&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;x_2_mean&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;y_1_mean&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;y_2_mean&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   x_1_mean  x_2_mean  y_1_mean  y_2_mean  unit</span>
<span class="go">0        10        20        30        40    50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="s2">&quot;unit&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_to</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;.value&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(x|y)_([0-9])(_mean)&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   unit time  x_mean  y_mean</span>
<span class="go">0    50    1      10      30</span>
<span class="go">1    50    2      20      40</span>
</code></pre></div>
    <p>Replicate the above with named groups in <code>names_pattern</code> - use <code>_</code> instead of <code>.value</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="s2">&quot;unit&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(?P&lt;_&gt;x|y)_(?P&lt;time&gt;[0-9])(?P&lt;__&gt;_mean)&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   unit time  x_mean  y_mean</span>
<span class="go">0    50    1      10      30</span>
<span class="go">1    50    2      20      40</span>
</code></pre></div>
    <p>Convenient, flexible column selection in the <code>column_names</code> via
the <a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;*mean&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_to</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;.value&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(x|y)_([0-9])(_mean)&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   unit time  x_mean  y_mean</span>
<span class="go">0    50    1      10      30</span>
<span class="go">1    50    2      20      40</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_names</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;x_1_mean&quot;</span><span class="p">,</span> <span class="s2">&quot;y_2_mean&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_to</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;.value&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;.value&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(x|y)_([0-9])(_mean)&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   unit time  x_mean  y_mean</span>
<span class="go">0    50    1      10      30</span>
<span class="go">1    50    2      20      40</span>
</code></pre></div>
    <p>Reshape the dataframe by passing a sequence to <code>names_pattern</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;hr1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">514</span><span class="p">,</span> <span class="mi">573</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;hr2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">545</span><span class="p">,</span> <span class="mi">526</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;team&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Red Sox&#39;</span><span class="p">,</span> <span class="s1">&#39;Yankees&#39;</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;year1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">2007</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;year2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2008</span><span class="p">,</span> <span class="mi">2008</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   hr1  hr2     team  year1  year2</span>
<span class="go">0  514  545  Red Sox   2007   2008</span>
<span class="go">1  573  526  Yankees   2007   2008</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;team&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_to</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">names_pattern</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">      team   hr  year</span>
<span class="go">0  Red Sox  514  2007</span>
<span class="go">1  Yankees  573  2007</span>
<span class="go">2  Red Sox  545  2008</span>
<span class="go">3  Yankees  526  2008</span>
</code></pre></div>
    <p>Reshape the above dataframe by passing a dictionary to <code>names_pattern</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;team&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_pattern</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;hr&quot;</span><span class="p">:</span><span class="s2">&quot;hr&quot;</span><span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">      team   hr  year</span>
<span class="go">0  Red Sox  514  2007</span>
<span class="go">1  Yankees  573  2007</span>
<span class="go">2  Red Sox  545  2008</span>
<span class="go">3  Yankees  526  2008</span>
</code></pre></div>
    <p>Multiple values_to:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>        <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;City&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Houston&quot;</span><span class="p">,</span> <span class="s2">&quot;Austin&quot;</span><span class="p">,</span> <span class="s2">&quot;Hoover&quot;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;State&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Texas&quot;</span><span class="p">,</span> <span class="s2">&quot;Texas&quot;</span><span class="p">,</span> <span class="s2">&quot;Alabama&quot;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Aria&quot;</span><span class="p">,</span> <span class="s2">&quot;Penelope&quot;</span><span class="p">,</span> <span class="s2">&quot;Niko&quot;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;Mango&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;Orange&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;Watermelon&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">43</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;Gin&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">34</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s2">&quot;Vodka&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">18</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">},</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      City    State      Name  Mango  Orange  Watermelon  Gin  Vodka</span>
<span class="go">0  Houston    Texas      Aria      4      10          40   16     20</span>
<span class="go">1   Austin    Texas  Penelope     10       8          99  200     33</span>
<span class="go">2   Hoover  Alabama      Niko     90      14          43   34     18</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;City&quot;</span><span class="p">,</span> <span class="s2">&quot;State&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">column_names</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;Mango&quot;</span><span class="p">,</span> <span class="s2">&quot;Vodka&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">names_to</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Fruit&quot;</span><span class="p">,</span> <span class="s2">&quot;Drink&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">values_to</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Pounds&quot;</span><span class="p">,</span> <span class="s2">&quot;Ounces&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">names_pattern</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;M|O|W&quot;</span><span class="p">,</span> <span class="s2">&quot;G|V&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="go">      City    State       Fruit  Drink  Pounds  Ounces</span>
<span class="go">0  Houston    Texas       Mango    Gin       4    16.0</span>
<span class="go">1   Austin    Texas       Mango    Gin      10   200.0</span>
<span class="go">2   Hoover  Alabama       Mango    Gin      90    34.0</span>
<span class="go">3  Houston    Texas      Orange  Vodka      10    20.0</span>
<span class="go">4   Austin    Texas      Orange  Vodka       8    33.0</span>
<span class="go">5   Hoover  Alabama      Orange  Vodka      14    18.0</span>
<span class="go">6  Houston    Texas  Watermelon   None      40     NaN</span>
<span class="go">7   Austin    Texas  Watermelon   None      99     NaN</span>
<span class="go">8   Hoover  Alabama  Watermelon   None      43     NaN</span>
</code></pre></div>
    <p>Replicate the above transformation with a nested dictionary passed to <code>names_pattern</code>
- the outer keys in the <code>names_pattern</code> dictionary are passed to <code>names_to</code>,
while the inner keys are passed to <code>values_to</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_longer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;City&quot;</span><span class="p">,</span> <span class="s2">&quot;State&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">column_names</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;Mango&quot;</span><span class="p">,</span> <span class="s2">&quot;Vodka&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">names_pattern</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;Fruit&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Pounds&quot;</span><span class="p">:</span> <span class="s2">&quot;M|O|W&quot;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="s2">&quot;Drink&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Ounces&quot;</span><span class="p">:</span> <span class="s2">&quot;G|V&quot;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">      City    State       Fruit  Drink  Pounds  Ounces</span>
<span class="go">0  Houston    Texas       Mango    Gin       4    16.0</span>
<span class="go">1   Austin    Texas       Mango    Gin      10   200.0</span>
<span class="go">2   Hoover  Alabama       Mango    Gin      90    34.0</span>
<span class="go">3  Houston    Texas      Orange  Vodka      10    20.0</span>
<span class="go">4   Austin    Texas      Orange  Vodka       8    33.0</span>
<span class="go">5   Hoover  Alabama      Orange  Vodka      14    18.0</span>
<span class="go">6  Houston    Texas  Watermelon   None      40     NaN</span>
<span class="go">7   Austin    Texas  Watermelon   None      99     NaN</span>
<span class="go">8   Hoover  Alabama  Watermelon   None      43     NaN</span>
</code></pre></div>
        <div class="admonition abstract">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.24.0<ul>
<li>Added <code>dropna</code> parameter.</li>
</ul>
</li>
<li>0.24.1<ul>
<li><code>names_pattern</code> can accept a dictionary.</li>
<li>named groups supported in <code>names_pattern</code>.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code>list | tuple | str | Pattern</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name(s) of columns to use as identifier variables.
Should be either a single column name, or a list/tuple of
column names.
<code>index</code> should be a list of tuples if the columns are a MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>list | tuple | str | Pattern</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name(s) of columns to unpivot. Should be either
a single column name or a list/tuple of column names.
<code>column_names</code> should be a list of tuples
if the columns are a MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_to</code>
            </td>
            <td>
                  <code>list | tuple | str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of new column as a string that will contain
what were previously the column names in <code>column_names</code>.
The default is <code>variable</code> if no value is provided. It can
also be a list/tuple of strings that will serve as new column
names, if <code>name_sep</code> or <code>names_pattern</code> is provided.
If <code>.value</code> is in <code>names_to</code>, new column names will be extracted
from part of the existing column names and overrides <code>values_to</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values_to</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of new column as a string that will contain what
were previously the values of the columns in <code>column_names</code>.
values_to can also be a list/tuple
and requires that names_pattern is also a list/tuple.</p>
              </div>
            </td>
            <td>
                  <code>&#39;value&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_level</code>
            </td>
            <td>
                  <code>int | str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If columns are a MultiIndex, then use this level to
unpivot the DataFrame. Provided for compatibility with pandas' melt,
and applies only if neither <code>names_sep</code> nor <code>names_pattern</code> is
provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_sep</code>
            </td>
            <td>
                  <code>str | Pattern</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines how the column name is broken up, if
<code>names_to</code> contains multiple values. It takes the same
specification as pandas' <code>str.split</code> method, and can be a string
or regular expression. <code>names_sep</code> does not work with MultiIndex
columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_pattern</code>
            </td>
            <td>
                  <code>list | tuple | str | Pattern</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines how the column name is broken up.
It can be a regular expression containing matching groups.
Under the hood it is processed with pandas' <code>str.extract</code> function.
If it is a single regex, the number of groups must match
the length of <code>names_to</code>.
Named groups are supported, if <code>names_to</code> is none. <code>_</code> is used
instead of <code>.value</code> as a placeholder in named groups.
<code>_</code> can be overloaded for multiple <code>.value</code>
calls - <code>_</code>, <code>__</code>, <code>___</code>, ...
<code>names_pattern</code> can also be a list/tuple of regular expressions
It can also be a list/tuple of strings;
the strings will be treated as regular expressions.
Under the hood it is processed with pandas' <code>str.contains</code> function.
For a list/tuple of regular expressions,
<code>names_to</code> must also be a list/tuple and the lengths of both
arguments must match.
<code>names_pattern</code> can also be a dictionary, where the keys are
the new column names, while the values can be a regular expression
or a string which will be evaluated as a regular expression.
Alternatively, a nested dictionary can be used, where the sub
key(s) are associated with <code>values_to</code>. Please have a look
at the examples for usage.
<code>names_pattern</code> does not work with MultiIndex columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_transform</code>
            </td>
            <td>
                  <code>str | Callable | dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use this option to change the types of columns that
have been transformed to rows. This does not applies to the values' columns.
Accepts any argument that is acceptable by <code>pd.astype</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dropna</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines whether or not to drop nulls
from the values columns. Default is <code>False</code>.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort_by_appearance</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean value that determines
the final look of the DataFrame. If <code>True</code>, the unpivoted DataFrame
will be stacked in order of first appearance.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ignore_index</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>,
the original index is ignored. If <code>False</code>, the original index
is retained and the index labels will be repeated as necessary.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame that has been unpivoted from wide to long
format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/pivot.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">pivot_longer</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">index</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">names_to</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">values_to</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span>
    <span class="n">column_level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">names_sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">names_pattern</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">tuple</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">names_transform</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dropna</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">sort_by_appearance</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ignore_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Unpivots a DataFrame from *wide* to *long* format.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    It is modeled after the `pivot_longer` function in R&#39;s tidyr package,</span>
<span class="sd">    and also takes inspiration from R&#39;s data.table package.</span>

<span class="sd">    This function is useful to massage a DataFrame into a format where</span>
<span class="sd">    one or more columns are considered measured variables, and all other</span>
<span class="sd">    columns are considered as identifier variables.</span>

<span class="sd">    All measured variables are *unpivoted* (and typically duplicated) along the</span>
<span class="sd">    row axis.</span>

<span class="sd">    Column selection in `index` and `column_names` is possible using the</span>
<span class="sd">    [`select`][janitor.functions.select.select] syntax.</span>

<span class="sd">    For more granular control on the unpivoting, have a look at</span>
<span class="sd">    [`pivot_longer_spec`][janitor.functions.pivot.pivot_longer_spec].</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;Sepal.Length&quot;: [5.1, 5.9],</span>
<span class="sd">        ...         &quot;Sepal.Width&quot;: [3.5, 3.0],</span>
<span class="sd">        ...         &quot;Petal.Length&quot;: [1.4, 5.1],</span>
<span class="sd">        ...         &quot;Petal.Width&quot;: [0.2, 1.8],</span>
<span class="sd">        ...         &quot;Species&quot;: [&quot;setosa&quot;, &quot;virginica&quot;],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           Sepal.Length  Sepal.Width  Petal.Length  Petal.Width    Species</span>
<span class="sd">        0           5.1          3.5           1.4          0.2     setosa</span>
<span class="sd">        1           5.9          3.0           5.1          1.8  virginica</span>

<span class="sd">        Replicate pandas&#39; melt:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(index = &#39;Species&#39;)</span>
<span class="sd">             Species      variable  value</span>
<span class="sd">        0     setosa  Sepal.Length    5.1</span>
<span class="sd">        1  virginica  Sepal.Length    5.9</span>
<span class="sd">        2     setosa   Sepal.Width    3.5</span>
<span class="sd">        3  virginica   Sepal.Width    3.0</span>
<span class="sd">        4     setosa  Petal.Length    1.4</span>
<span class="sd">        5  virginica  Petal.Length    5.1</span>
<span class="sd">        6     setosa   Petal.Width    0.2</span>
<span class="sd">        7  virginica   Petal.Width    1.8</span>

<span class="sd">        Convenient, flexible column selection in the `index` via the</span>
<span class="sd">        [`select`][janitor.functions.select.select] syntax:</span>
<span class="sd">        &gt;&gt;&gt; from pandas.api.types import is_string_dtype</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(index = is_string_dtype)</span>
<span class="sd">             Species      variable  value</span>
<span class="sd">        0     setosa  Sepal.Length    5.1</span>
<span class="sd">        1  virginica  Sepal.Length    5.9</span>
<span class="sd">        2     setosa   Sepal.Width    3.5</span>
<span class="sd">        3  virginica   Sepal.Width    3.0</span>
<span class="sd">        4     setosa  Petal.Length    1.4</span>
<span class="sd">        5  virginica  Petal.Length    5.1</span>
<span class="sd">        6     setosa   Petal.Width    0.2</span>
<span class="sd">        7  virginica   Petal.Width    1.8</span>

<span class="sd">        Split the column labels into individual columns:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index = &#39;Species&#39;,</span>
<span class="sd">        ...     names_to = (&#39;part&#39;, &#39;dimension&#39;),</span>
<span class="sd">        ...     names_sep = &#39;.&#39;,</span>
<span class="sd">        ...     sort_by_appearance = True,</span>
<span class="sd">        ... )</span>
<span class="sd">             Species   part dimension  value</span>
<span class="sd">        0     setosa  Sepal    Length    5.1</span>
<span class="sd">        1     setosa  Sepal     Width    3.5</span>
<span class="sd">        2     setosa  Petal    Length    1.4</span>
<span class="sd">        3     setosa  Petal     Width    0.2</span>
<span class="sd">        4  virginica  Sepal    Length    5.9</span>
<span class="sd">        5  virginica  Sepal     Width    3.0</span>
<span class="sd">        6  virginica  Petal    Length    5.1</span>
<span class="sd">        7  virginica  Petal     Width    1.8</span>

<span class="sd">        Retain parts of the column names as headers:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index = &#39;Species&#39;,</span>
<span class="sd">        ...     names_to = (&#39;part&#39;, &#39;.value&#39;),</span>
<span class="sd">        ...     names_sep = &#39;.&#39;,</span>
<span class="sd">        ...     sort_by_appearance = True,</span>
<span class="sd">        ... )</span>
<span class="sd">             Species   part  Length  Width</span>
<span class="sd">        0     setosa  Sepal     5.1    3.5</span>
<span class="sd">        1     setosa  Petal     1.4    0.2</span>
<span class="sd">        2  virginica  Sepal     5.9    3.0</span>
<span class="sd">        3  virginica  Petal     5.1    1.8</span>

<span class="sd">        Split the column labels based on regex:</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;id&quot;: [1], &quot;new_sp_m5564&quot;: [2], &quot;newrel_f65&quot;: [3]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           id  new_sp_m5564  newrel_f65</span>
<span class="sd">        0   1             2           3</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index = &#39;id&#39;,</span>
<span class="sd">        ...     names_to = (&#39;diagnosis&#39;, &#39;gender&#39;, &#39;age&#39;),</span>
<span class="sd">        ...     names_pattern = r&quot;new_?(.+)_(.)(\\d+)&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           id diagnosis gender   age  value</span>
<span class="sd">        0   1        sp      m  5564      2</span>
<span class="sd">        1   1       rel      f    65      3</span>

<span class="sd">        Split the column labels for the above dataframe using named groups in `names_pattern`:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index = &#39;id&#39;,</span>
<span class="sd">        ...     names_pattern = r&quot;new_?(?P&lt;diagnosis&gt;.+)_(?P&lt;gender&gt;.)(?P&lt;age&gt;\\d+)&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">            id diagnosis gender   age  value</span>
<span class="sd">        0   1        sp      m  5564      2</span>
<span class="sd">        1   1       rel      f    65      3</span>

<span class="sd">        Convert the dtypes of specific columns with `names_transform`:</span>
<span class="sd">        &gt;&gt;&gt; result = (df</span>
<span class="sd">        ...          .pivot_longer(</span>
<span class="sd">        ...              index = &#39;id&#39;,</span>
<span class="sd">        ...              names_to = (&#39;diagnosis&#39;, &#39;gender&#39;, &#39;age&#39;),</span>
<span class="sd">        ...              names_pattern = r&quot;new_?(.+)_(.)(\\d+)&quot;,</span>
<span class="sd">        ...              names_transform = {&#39;gender&#39;: &#39;category&#39;, &#39;age&#39;:&#39;int&#39;})</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; result.dtypes</span>
<span class="sd">        id           int64</span>
<span class="sd">        diagnosis   object</span>
<span class="sd">        gender    category</span>
<span class="sd">        age          int64</span>
<span class="sd">        value        int64</span>
<span class="sd">        dtype: object</span>

<span class="sd">        Use multiple `.value` to reshape the dataframe:</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     [</span>
<span class="sd">        ...         {</span>
<span class="sd">        ...             &quot;x_1_mean&quot;: 10,</span>
<span class="sd">        ...             &quot;x_2_mean&quot;: 20,</span>
<span class="sd">        ...             &quot;y_1_mean&quot;: 30,</span>
<span class="sd">        ...             &quot;y_2_mean&quot;: 40,</span>
<span class="sd">        ...             &quot;unit&quot;: 50,</span>
<span class="sd">        ...         }</span>
<span class="sd">        ...     ]</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           x_1_mean  x_2_mean  y_1_mean  y_2_mean  unit</span>
<span class="sd">        0        10        20        30        40    50</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index=&quot;unit&quot;,</span>
<span class="sd">        ...     names_to=(&quot;.value&quot;, &quot;time&quot;, &quot;.value&quot;),</span>
<span class="sd">        ...     names_pattern=r&quot;(x|y)_([0-9])(_mean)&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           unit time  x_mean  y_mean</span>
<span class="sd">        0    50    1      10      30</span>
<span class="sd">        1    50    2      20      40</span>

<span class="sd">        Replicate the above with named groups in `names_pattern` - use `_` instead of `.value`:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index=&quot;unit&quot;,</span>
<span class="sd">        ...     names_pattern=r&quot;(?P&lt;_&gt;x|y)_(?P&lt;time&gt;[0-9])(?P&lt;__&gt;_mean)&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           unit time  x_mean  y_mean</span>
<span class="sd">        0    50    1      10      30</span>
<span class="sd">        1    50    2      20      40</span>

<span class="sd">        Convenient, flexible column selection in the `column_names` via</span>
<span class="sd">        the [`select`][janitor.functions.select.select] syntax:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     column_names=&quot;*mean&quot;,</span>
<span class="sd">        ...     names_to=(&quot;.value&quot;, &quot;time&quot;, &quot;.value&quot;),</span>
<span class="sd">        ...     names_pattern=r&quot;(x|y)_([0-9])(_mean)&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           unit time  x_mean  y_mean</span>
<span class="sd">        0    50    1      10      30</span>
<span class="sd">        1    50    2      20      40</span>

<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     column_names=slice(&quot;x_1_mean&quot;, &quot;y_2_mean&quot;),</span>
<span class="sd">        ...     names_to=(&quot;.value&quot;, &quot;time&quot;, &quot;.value&quot;),</span>
<span class="sd">        ...     names_pattern=r&quot;(x|y)_([0-9])(_mean)&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           unit time  x_mean  y_mean</span>
<span class="sd">        0    50    1      10      30</span>
<span class="sd">        1    50    2      20      40</span>

<span class="sd">        Reshape the dataframe by passing a sequence to `names_pattern`:</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&#39;hr1&#39;: [514, 573],</span>
<span class="sd">        ...                    &#39;hr2&#39;: [545, 526],</span>
<span class="sd">        ...                    &#39;team&#39;: [&#39;Red Sox&#39;, &#39;Yankees&#39;],</span>
<span class="sd">        ...                    &#39;year1&#39;: [2007, 2007],</span>
<span class="sd">        ...                    &#39;year2&#39;: [2008, 2008]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           hr1  hr2     team  year1  year2</span>
<span class="sd">        0  514  545  Red Sox   2007   2008</span>
<span class="sd">        1  573  526  Yankees   2007   2008</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index = &#39;team&#39;,</span>
<span class="sd">        ...     names_to = [&#39;year&#39;, &#39;hr&#39;],</span>
<span class="sd">        ...     names_pattern = [&#39;year&#39;, &#39;hr&#39;]</span>
<span class="sd">        ... )</span>
<span class="sd">              team   hr  year</span>
<span class="sd">        0  Red Sox  514  2007</span>
<span class="sd">        1  Yankees  573  2007</span>
<span class="sd">        2  Red Sox  545  2008</span>
<span class="sd">        3  Yankees  526  2008</span>


<span class="sd">        Reshape the above dataframe by passing a dictionary to `names_pattern`:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index = &#39;team&#39;,</span>
<span class="sd">        ...     names_pattern = {&quot;year&quot;:&quot;year&quot;, &quot;hr&quot;:&quot;hr&quot;}</span>
<span class="sd">        ... )</span>
<span class="sd">              team   hr  year</span>
<span class="sd">        0  Red Sox  514  2007</span>
<span class="sd">        1  Yankees  573  2007</span>
<span class="sd">        2  Red Sox  545  2008</span>
<span class="sd">        3  Yankees  526  2008</span>

<span class="sd">        Multiple values_to:</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...         {</span>
<span class="sd">        ...             &quot;City&quot;: [&quot;Houston&quot;, &quot;Austin&quot;, &quot;Hoover&quot;],</span>
<span class="sd">        ...             &quot;State&quot;: [&quot;Texas&quot;, &quot;Texas&quot;, &quot;Alabama&quot;],</span>
<span class="sd">        ...             &quot;Name&quot;: [&quot;Aria&quot;, &quot;Penelope&quot;, &quot;Niko&quot;],</span>
<span class="sd">        ...             &quot;Mango&quot;: [4, 10, 90],</span>
<span class="sd">        ...             &quot;Orange&quot;: [10, 8, 14],</span>
<span class="sd">        ...             &quot;Watermelon&quot;: [40, 99, 43],</span>
<span class="sd">        ...             &quot;Gin&quot;: [16, 200, 34],</span>
<span class="sd">        ...             &quot;Vodka&quot;: [20, 33, 18],</span>
<span class="sd">        ...         },</span>
<span class="sd">        ...     )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">              City    State      Name  Mango  Orange  Watermelon  Gin  Vodka</span>
<span class="sd">        0  Houston    Texas      Aria      4      10          40   16     20</span>
<span class="sd">        1   Austin    Texas  Penelope     10       8          99  200     33</span>
<span class="sd">        2   Hoover  Alabama      Niko     90      14          43   34     18</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...         index=[&quot;City&quot;, &quot;State&quot;],</span>
<span class="sd">        ...         column_names=slice(&quot;Mango&quot;, &quot;Vodka&quot;),</span>
<span class="sd">        ...         names_to=(&quot;Fruit&quot;, &quot;Drink&quot;),</span>
<span class="sd">        ...         values_to=(&quot;Pounds&quot;, &quot;Ounces&quot;),</span>
<span class="sd">        ...         names_pattern=[&quot;M|O|W&quot;, &quot;G|V&quot;],</span>
<span class="sd">        ...     )</span>
<span class="sd">              City    State       Fruit  Drink  Pounds  Ounces</span>
<span class="sd">        0  Houston    Texas       Mango    Gin       4    16.0</span>
<span class="sd">        1   Austin    Texas       Mango    Gin      10   200.0</span>
<span class="sd">        2   Hoover  Alabama       Mango    Gin      90    34.0</span>
<span class="sd">        3  Houston    Texas      Orange  Vodka      10    20.0</span>
<span class="sd">        4   Austin    Texas      Orange  Vodka       8    33.0</span>
<span class="sd">        5   Hoover  Alabama      Orange  Vodka      14    18.0</span>
<span class="sd">        6  Houston    Texas  Watermelon   None      40     NaN</span>
<span class="sd">        7   Austin    Texas  Watermelon   None      99     NaN</span>
<span class="sd">        8   Hoover  Alabama  Watermelon   None      43     NaN</span>

<span class="sd">        Replicate the above transformation with a nested dictionary passed to `names_pattern`</span>
<span class="sd">        - the outer keys in the `names_pattern` dictionary are passed to `names_to`,</span>
<span class="sd">        while the inner keys are passed to `values_to`:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_longer(</span>
<span class="sd">        ...     index=[&quot;City&quot;, &quot;State&quot;],</span>
<span class="sd">        ...     column_names=slice(&quot;Mango&quot;, &quot;Vodka&quot;),</span>
<span class="sd">        ...     names_pattern={</span>
<span class="sd">        ...         &quot;Fruit&quot;: {&quot;Pounds&quot;: &quot;M|O|W&quot;},</span>
<span class="sd">        ...         &quot;Drink&quot;: {&quot;Ounces&quot;: &quot;G|V&quot;},</span>
<span class="sd">        ...     },</span>
<span class="sd">        ... )</span>
<span class="sd">              City    State       Fruit  Drink  Pounds  Ounces</span>
<span class="sd">        0  Houston    Texas       Mango    Gin       4    16.0</span>
<span class="sd">        1   Austin    Texas       Mango    Gin      10   200.0</span>
<span class="sd">        2   Hoover  Alabama       Mango    Gin      90    34.0</span>
<span class="sd">        3  Houston    Texas      Orange  Vodka      10    20.0</span>
<span class="sd">        4   Austin    Texas      Orange  Vodka       8    33.0</span>
<span class="sd">        5   Hoover  Alabama      Orange  Vodka      14    18.0</span>
<span class="sd">        6  Houston    Texas  Watermelon   None      40     NaN</span>
<span class="sd">        7   Austin    Texas  Watermelon   None      99     NaN</span>
<span class="sd">        8   Hoover  Alabama  Watermelon   None      43     NaN</span>

<span class="sd">    !!! abstract &quot;Version Changed&quot;</span>

<span class="sd">        - 0.24.0</span>
<span class="sd">            - Added `dropna` parameter.</span>
<span class="sd">        - 0.24.1</span>
<span class="sd">            - `names_pattern` can accept a dictionary.</span>
<span class="sd">            - named groups supported in `names_pattern`.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        index: Name(s) of columns to use as identifier variables.</span>
<span class="sd">            Should be either a single column name, or a list/tuple of</span>
<span class="sd">            column names.</span>
<span class="sd">            `index` should be a list of tuples if the columns are a MultiIndex.</span>
<span class="sd">        column_names: Name(s) of columns to unpivot. Should be either</span>
<span class="sd">            a single column name or a list/tuple of column names.</span>
<span class="sd">            `column_names` should be a list of tuples</span>
<span class="sd">            if the columns are a MultiIndex.</span>
<span class="sd">        names_to: Name of new column as a string that will contain</span>
<span class="sd">            what were previously the column names in `column_names`.</span>
<span class="sd">            The default is `variable` if no value is provided. It can</span>
<span class="sd">            also be a list/tuple of strings that will serve as new column</span>
<span class="sd">            names, if `name_sep` or `names_pattern` is provided.</span>
<span class="sd">            If `.value` is in `names_to`, new column names will be extracted</span>
<span class="sd">            from part of the existing column names and overrides `values_to`.</span>
<span class="sd">        values_to: Name of new column as a string that will contain what</span>
<span class="sd">            were previously the values of the columns in `column_names`.</span>
<span class="sd">            values_to can also be a list/tuple</span>
<span class="sd">            and requires that names_pattern is also a list/tuple.</span>
<span class="sd">        column_level: If columns are a MultiIndex, then use this level to</span>
<span class="sd">            unpivot the DataFrame. Provided for compatibility with pandas&#39; melt,</span>
<span class="sd">            and applies only if neither `names_sep` nor `names_pattern` is</span>
<span class="sd">            provided.</span>
<span class="sd">        names_sep: Determines how the column name is broken up, if</span>
<span class="sd">            `names_to` contains multiple values. It takes the same</span>
<span class="sd">            specification as pandas&#39; `str.split` method, and can be a string</span>
<span class="sd">            or regular expression. `names_sep` does not work with MultiIndex</span>
<span class="sd">            columns.</span>
<span class="sd">        names_pattern: Determines how the column name is broken up.</span>
<span class="sd">            It can be a regular expression containing matching groups.</span>
<span class="sd">            Under the hood it is processed with pandas&#39; `str.extract` function.</span>
<span class="sd">            If it is a single regex, the number of groups must match</span>
<span class="sd">            the length of `names_to`.</span>
<span class="sd">            Named groups are supported, if `names_to` is none. `_` is used</span>
<span class="sd">            instead of `.value` as a placeholder in named groups.</span>
<span class="sd">            `_` can be overloaded for multiple `.value`</span>
<span class="sd">            calls - `_`, `__`, `___`, ...</span>
<span class="sd">            `names_pattern` can also be a list/tuple of regular expressions</span>
<span class="sd">            It can also be a list/tuple of strings;</span>
<span class="sd">            the strings will be treated as regular expressions.</span>
<span class="sd">            Under the hood it is processed with pandas&#39; `str.contains` function.</span>
<span class="sd">            For a list/tuple of regular expressions,</span>
<span class="sd">            `names_to` must also be a list/tuple and the lengths of both</span>
<span class="sd">            arguments must match.</span>
<span class="sd">            `names_pattern` can also be a dictionary, where the keys are</span>
<span class="sd">            the new column names, while the values can be a regular expression</span>
<span class="sd">            or a string which will be evaluated as a regular expression.</span>
<span class="sd">            Alternatively, a nested dictionary can be used, where the sub</span>
<span class="sd">            key(s) are associated with `values_to`. Please have a look</span>
<span class="sd">            at the examples for usage.</span>
<span class="sd">            `names_pattern` does not work with MultiIndex columns.</span>
<span class="sd">        names_transform: Use this option to change the types of columns that</span>
<span class="sd">            have been transformed to rows. This does not applies to the values&#39; columns.</span>
<span class="sd">            Accepts any argument that is acceptable by `pd.astype`.</span>
<span class="sd">        dropna: Determines whether or not to drop nulls</span>
<span class="sd">            from the values columns. Default is `False`.</span>
<span class="sd">        sort_by_appearance: Boolean value that determines</span>
<span class="sd">            the final look of the DataFrame. If `True`, the unpivoted DataFrame</span>
<span class="sd">            will be stacked in order of first appearance.</span>
<span class="sd">        ignore_index: If `True`,</span>
<span class="sd">            the original index is ignored. If `False`, the original index</span>
<span class="sd">            is retained and the index labels will be repeated as necessary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame that has been unpivoted from wide to long</span>
<span class="sd">            format.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="c1"># this code builds on the wonderful work of @benjaminjacks PR</span>
    <span class="c1"># https://github.com/benjaminjack/pyjanitor/commit/e3df817903c20dd21634461c8a92aec137963ed0</span>

    <span class="k">return</span> <span class="n">_computations_pivot_longer</span><span class="p">(</span>
        <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span>
        <span class="n">column_names</span><span class="o">=</span><span class="n">column_names</span><span class="p">,</span>
        <span class="n">column_level</span><span class="o">=</span><span class="n">column_level</span><span class="p">,</span>
        <span class="n">names_to</span><span class="o">=</span><span class="n">names_to</span><span class="p">,</span>
        <span class="n">values_to</span><span class="o">=</span><span class="n">values_to</span><span class="p">,</span>
        <span class="n">names_sep</span><span class="o">=</span><span class="n">names_sep</span><span class="p">,</span>
        <span class="n">names_pattern</span><span class="o">=</span><span class="n">names_pattern</span><span class="p">,</span>
        <span class="n">names_transform</span><span class="o">=</span><span class="n">names_transform</span><span class="p">,</span>
        <span class="n">dropna</span><span class="o">=</span><span class="n">dropna</span><span class="p">,</span>
        <span class="n">sort_by_appearance</span><span class="o">=</span><span class="n">sort_by_appearance</span><span class="p">,</span>
        <span class="n">ignore_index</span><span class="o">=</span><span class="n">ignore_index</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.pivot.pivot_longer_spec" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pivot_longer_spec</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">sort_by_appearance</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">df_columns_is_unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>A declarative interface to pivot a DataFrame from wide to long form,
where you describe how the data will be unpivoted,
using a DataFrame. This gives you, the user,
more control over unpivoting, where you create a spec
data frame that describes exactly how data stored
in the column names becomes variables.
It can come in handy for situations where
<a class="autorefs autorefs-internal" href="#janitor.functions.pivot.pivot_longer"><code>pivot_longer</code></a>
seems inadequate for the transformation.</p>
<div class="admonition info">
<p class="admonition-title">New in version 0.28.0</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;Sepal.Length&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.1</span><span class="p">,</span> <span class="mf">5.9</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Sepal.Width&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Petal.Length&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">5.1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Petal.Width&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Species&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;setosa&quot;</span><span class="p">,</span> <span class="s2">&quot;virginica&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   Sepal.Length  Sepal.Width  Petal.Length  Petal.Width    Species</span>
<span class="go">0           5.1          3.5           1.4          0.2     setosa</span>
<span class="go">1           5.9          3.0           5.1          1.8  virginica</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;.name&#39;</span><span class="p">:[</span><span class="s1">&#39;Sepal.Length&#39;</span><span class="p">,</span><span class="s1">&#39;Petal.Length&#39;</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="s1">&#39;Sepal.Width&#39;</span><span class="p">,</span><span class="s1">&#39;Petal.Width&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;.value&#39;</span><span class="p">:[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span><span class="s1">&#39;Width&#39;</span><span class="p">,</span><span class="s1">&#39;Width&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;part&#39;</span><span class="p">:[</span><span class="s1">&#39;Sepal&#39;</span><span class="p">,</span><span class="s1">&#39;Petal&#39;</span><span class="p">,</span><span class="s1">&#39;Sepal&#39;</span><span class="p">,</span><span class="s1">&#39;Petal&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span>
<span class="go">          .name  .value   part</span>
<span class="go">0  Sepal.Length  Length  Sepal</span>
<span class="go">1  Petal.Length  Length  Petal</span>
<span class="go">2   Sepal.Width   Width  Sepal</span>
<span class="go">3   Petal.Width   Width  Petal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pivot_longer_spec</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span><span class="n">spec</span><span class="o">=</span><span class="n">spec</span><span class="p">)</span>
<span class="go">     Species   part  Length  Width</span>
<span class="go">0     setosa  Sepal     5.1    3.5</span>
<span class="go">1  virginica  Sepal     5.9    3.0</span>
<span class="go">2     setosa  Petal     1.4    0.2</span>
<span class="go">3  virginica  Petal     5.1    1.8</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source DataFrame to unpivot.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>spec</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A specification DataFrame.
At a minimum, the spec DataFrame
must have a '.name' and a '.value' columns.
The '.name' column  should contain the
columns in the source DataFrame that will be
transformed to long form.
The '.value' column gives the name of the column(s)
that the values in the source DataFrame will go into.
Additional columns in spec should be named to match columns
in the long format of the dataset and contain values
corresponding to columns pivoted from the wide format.
Note that these additional columns should not already exist
in the source DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort_by_appearance</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean value that determines
the final look of the DataFrame. If <code>True</code>, the unpivoted DataFrame
will be stacked in order of first appearance.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ignore_index</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>,
the original index is ignored. If <code>False</code>, the original index
is retained and the index labels will be repeated as necessary.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dropna</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines whether or not to drop nulls
from the values columns. Default is <code>False</code>.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>df_columns_is_unique</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean value to indicate if the source
DataFrame's columns is unique. Default is <code>True</code>.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>KeyError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If '.name' or '.value' is missing from the spec's columns.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the spec's columns is not unique,
or the labels in spec['.name'] is not unique.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/pivot.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pivot_longer_spec</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">spec</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">sort_by_appearance</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ignore_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">dropna</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">df_columns_is_unique</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A declarative interface to pivot a DataFrame from wide to long form,</span>
<span class="sd">    where you describe how the data will be unpivoted,</span>
<span class="sd">    using a DataFrame. This gives you, the user,</span>
<span class="sd">    more control over unpivoting, where you create a spec</span>
<span class="sd">    data frame that describes exactly how data stored</span>
<span class="sd">    in the column names becomes variables.</span>
<span class="sd">    It can come in handy for situations where</span>
<span class="sd">    [`pivot_longer`][janitor.functions.pivot.pivot_longer]</span>
<span class="sd">    seems inadequate for the transformation.</span>

<span class="sd">    !!! info &quot;New in version 0.28.0&quot;</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;Sepal.Length&quot;: [5.1, 5.9],</span>
<span class="sd">        ...         &quot;Sepal.Width&quot;: [3.5, 3.0],</span>
<span class="sd">        ...         &quot;Petal.Length&quot;: [1.4, 5.1],</span>
<span class="sd">        ...         &quot;Petal.Width&quot;: [0.2, 1.8],</span>
<span class="sd">        ...         &quot;Species&quot;: [&quot;setosa&quot;, &quot;virginica&quot;],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           Sepal.Length  Sepal.Width  Petal.Length  Petal.Width    Species</span>
<span class="sd">        0           5.1          3.5           1.4          0.2     setosa</span>
<span class="sd">        1           5.9          3.0           5.1          1.8  virginica</span>
<span class="sd">        &gt;&gt;&gt; spec = {&#39;.name&#39;:[&#39;Sepal.Length&#39;,&#39;Petal.Length&#39;,</span>
<span class="sd">        ...                  &#39;Sepal.Width&#39;,&#39;Petal.Width&#39;],</span>
<span class="sd">        ...         &#39;.value&#39;:[&#39;Length&#39;,&#39;Length&#39;,&#39;Width&#39;,&#39;Width&#39;],</span>
<span class="sd">        ...         &#39;part&#39;:[&#39;Sepal&#39;,&#39;Petal&#39;,&#39;Sepal&#39;,&#39;Petal&#39;]}</span>
<span class="sd">        &gt;&gt;&gt; spec = pd.DataFrame(spec)</span>
<span class="sd">        &gt;&gt;&gt; spec</span>
<span class="sd">                  .name  .value   part</span>
<span class="sd">        0  Sepal.Length  Length  Sepal</span>
<span class="sd">        1  Petal.Length  Length  Petal</span>
<span class="sd">        2   Sepal.Width   Width  Sepal</span>
<span class="sd">        3   Petal.Width   Width  Petal</span>
<span class="sd">        &gt;&gt;&gt; pivot_longer_spec(df=df,spec=spec)</span>
<span class="sd">             Species   part  Length  Width</span>
<span class="sd">        0     setosa  Sepal     5.1    3.5</span>
<span class="sd">        1  virginica  Sepal     5.9    3.0</span>
<span class="sd">        2     setosa  Petal     1.4    0.2</span>
<span class="sd">        3  virginica  Petal     5.1    1.8</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The source DataFrame to unpivot.</span>
<span class="sd">        spec: A specification DataFrame.</span>
<span class="sd">            At a minimum, the spec DataFrame</span>
<span class="sd">            must have a &#39;.name&#39; and a &#39;.value&#39; columns.</span>
<span class="sd">            The &#39;.name&#39; column  should contain the</span>
<span class="sd">            columns in the source DataFrame that will be</span>
<span class="sd">            transformed to long form.</span>
<span class="sd">            The &#39;.value&#39; column gives the name of the column(s)</span>
<span class="sd">            that the values in the source DataFrame will go into.</span>
<span class="sd">            Additional columns in spec should be named to match columns</span>
<span class="sd">            in the long format of the dataset and contain values</span>
<span class="sd">            corresponding to columns pivoted from the wide format.</span>
<span class="sd">            Note that these additional columns should not already exist</span>
<span class="sd">            in the source DataFrame.</span>
<span class="sd">        sort_by_appearance: Boolean value that determines</span>
<span class="sd">            the final look of the DataFrame. If `True`, the unpivoted DataFrame</span>
<span class="sd">            will be stacked in order of first appearance.</span>
<span class="sd">        ignore_index: If `True`,</span>
<span class="sd">            the original index is ignored. If `False`, the original index</span>
<span class="sd">            is retained and the index labels will be repeated as necessary.</span>
<span class="sd">        dropna: Determines whether or not to drop nulls</span>
<span class="sd">            from the values columns. Default is `False`.</span>
<span class="sd">        df_columns_is_unique: Boolean value to indicate if the source</span>
<span class="sd">            DataFrame&#39;s columns is unique. Default is `True`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If &#39;.name&#39; or &#39;.value&#39; is missing from the spec&#39;s columns.</span>
<span class="sd">        ValueError: If the spec&#39;s columns is not unique,</span>
<span class="sd">            or the labels in spec[&#39;.name&#39;] is not unique.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;spec&quot;</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">spec</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">is_unique</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Kindly ensure the spec&#39;s columns is unique.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;.name&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spec</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="s2">&quot;Kindly ensure the spec DataFrame has a `.name` column.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;.value&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spec</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="s2">&quot;Kindly ensure the spec DataFrame has a `.value` column.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">spec</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="s2">&quot;.name&quot;</span><span class="p">,</span> <span class="s2">&quot;.value&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The first two columns of the spec DataFrame &quot;</span>
            <span class="s2">&quot;should be &#39;.name&#39; and &#39;.value&#39;, &quot;</span>
            <span class="s2">&quot;with &#39;.name&#39; coming before &#39;.value&#39;.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">spec</span><span class="p">[</span><span class="s2">&quot;.name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">is_unique</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The labels in the `.name` column should be unique.&quot;</span><span class="p">)</span>

    <span class="n">exclude</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Labels </span><span class="si">{</span><span class="o">*</span><span class="n">exclude</span><span class="p">,</span><span class="w"> </span><span class="si">}</span><span class="s2"> in the spec DataFrame already exist &quot;</span>
            <span class="s2">&quot;as column labels in the source DataFrame. &quot;</span>
            <span class="s2">&quot;Kindly ensure the spec DataFrame&#39;s columns &quot;</span>
            <span class="s2">&quot;are not present in the source DataFrame.&quot;</span>
        <span class="p">)</span>

    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;dropna&quot;</span><span class="p">,</span> <span class="n">dropna</span><span class="p">,</span> <span class="p">[</span><span class="nb">bool</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;sort_by_appearance&quot;</span><span class="p">,</span> <span class="n">sort_by_appearance</span><span class="p">,</span> <span class="p">[</span><span class="nb">bool</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;ignore_index&quot;</span><span class="p">,</span> <span class="n">ignore_index</span><span class="p">,</span> <span class="p">[</span><span class="nb">bool</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;df_columns_is_unique&quot;</span><span class="p">,</span> <span class="n">df_columns_is_unique</span><span class="p">,</span> <span class="p">[</span><span class="nb">bool</span><span class="p">])</span>

    <span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">spec</span><span class="p">[</span><span class="s2">&quot;.name&quot;</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">index</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">_values</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">index</span><span class="p">}</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">spec</span><span class="p">[</span><span class="s2">&quot;.name&quot;</span><span class="p">]]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">df_columns_is_unique</span><span class="p">:</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;.name&quot;</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">})</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">spec</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;.name&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span>
        <span class="p">)</span>
    <span class="n">others</span> <span class="o">=</span> <span class="p">[</span><span class="n">label</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">spec</span> <span class="k">if</span> <span class="n">label</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;.name&quot;</span><span class="p">,</span> <span class="s2">&quot;.value&quot;</span><span class="p">}]</span>
    <span class="k">return</span> <span class="n">_pivot_longer_dot_value</span><span class="p">(</span>
        <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">spec</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;.name&quot;</span><span class="p">),</span>
        <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span>
        <span class="n">others</span><span class="o">=</span><span class="n">others</span><span class="p">,</span>
        <span class="n">sort_by_appearance</span><span class="o">=</span><span class="n">sort_by_appearance</span><span class="p">,</span>
        <span class="n">ignore_index</span><span class="o">=</span><span class="n">ignore_index</span><span class="p">,</span>
        <span class="n">dropna</span><span class="o">=</span><span class="n">dropna</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.pivot.pivot_wider" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pivot_wider</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names_from</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">values_from</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">flatten_levels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">names_sep</span><span class="o">=</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="n">names_glue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">names_expand</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index_expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Reshapes data from <em>long</em> to <em>wide</em> form.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.pivot</code> instead.</p>
</div>
<p>The number of columns are increased, while decreasing
the number of rows. It is the inverse of the
<a class="autorefs autorefs-internal" href="#janitor.functions.pivot.pivot_longer"><code>pivot_longer</code></a>
method, and is a wrapper around <code>pd.DataFrame.pivot</code> method.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Column selection in <code>index</code>, <code>names_from</code> and <code>values_from</code>
is possible using the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
<p>A ValueError is raised if the combination
of the <code>index</code> and <code>names_from</code> is not unique.</p>
<p>By default, values from <code>values_from</code> are always
at the top level if the columns are not flattened.
If flattened, the values from <code>values_from</code> are usually
at the start of each label in the columns.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;dep&#39;</span><span class="p">:</span> <span class="mf">5.5</span><span class="p">,</span> <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">},</span>
<span class="gp">... </span>      <span class="p">{</span><span class="s1">&#39;dep&#39;</span><span class="p">:</span> <span class="mf">5.5</span><span class="p">,</span> <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">37</span><span class="p">},</span>
<span class="gp">... </span>      <span class="p">{</span><span class="s1">&#39;dep&#39;</span><span class="p">:</span> <span class="mf">6.1</span><span class="p">,</span> <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">},</span>
<span class="gp">... </span>      <span class="p">{</span><span class="s1">&#39;dep&#39;</span><span class="p">:</span> <span class="mf">6.1</span><span class="p">,</span> <span class="s1">&#39;step&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">29</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   dep  step   a   b</span>
<span class="go">0  5.5     1  20  30</span>
<span class="go">1  5.5     2  25  37</span>
<span class="go">2  6.1     1  22  19</span>
<span class="go">3  6.1     2  18  29</span>
</code></pre></div>
    <p>Pivot and flatten columns:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_wider</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s2">&quot;dep&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_from</span> <span class="o">=</span> <span class="s2">&quot;step&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   dep  a_1  a_2  b_1  b_2</span>
<span class="go">0  5.5   20   25   30   37</span>
<span class="go">1  6.1   22   18   19   29</span>
</code></pre></div>
    <p>Modify columns with <code>names_sep</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_wider</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s2">&quot;dep&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_from</span> <span class="o">=</span> <span class="s2">&quot;step&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_sep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   dep  a1  a2  b1  b2</span>
<span class="go">0  5.5  20  25  30  37</span>
<span class="go">1  6.1  22  18  19  29</span>
</code></pre></div>
    <p>Modify columns with <code>names_glue</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">pivot_wider</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span> <span class="o">=</span> <span class="s2">&quot;dep&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_from</span> <span class="o">=</span> <span class="s2">&quot;step&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_glue</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{_value}</span><span class="s2">_step</span><span class="si">{step}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   dep  a_step1  a_step2  b_step1  b_step2</span>
<span class="go">0  5.5       20       25       30       37</span>
<span class="go">1  6.1       22       18       19       29</span>
</code></pre></div>
    <p>Expand columns to expose implicit missing values
- this applies only to categorical columns:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">weekdays</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Mon&quot;</span><span class="p">,</span> <span class="s2">&quot;Tue&quot;</span><span class="p">,</span> <span class="s2">&quot;Wed&quot;</span><span class="p">,</span> <span class="s2">&quot;Thu&quot;</span><span class="p">,</span> <span class="s2">&quot;Fri&quot;</span><span class="p">,</span> <span class="s2">&quot;Sat&quot;</span><span class="p">,</span> <span class="s2">&quot;Sun&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daily</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;day&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">values</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Tue&quot;</span><span class="p">,</span> <span class="s2">&quot;Thu&quot;</span><span class="p">,</span> <span class="s2">&quot;Fri&quot;</span><span class="p">,</span> <span class="s2">&quot;Mon&quot;</span><span class="p">),</span> <span class="n">categories</span><span class="o">=</span><span class="n">weekdays</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daily</span>
<span class="go">   day  value</span>
<span class="go">0  Tue      2</span>
<span class="go">0  Thu      3</span>
<span class="go">0  Fri      1</span>
<span class="go">0  Mon      5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daily</span><span class="o">.</span><span class="n">pivot_wider</span><span class="p">(</span><span class="n">names_from</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="n">values_from</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="go">   Tue  Thu  Fri  Mon</span>
<span class="go">0    2    3    1    5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">daily</span>
<span class="gp">... </span><span class="o">.</span><span class="n">pivot_wider</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">names_from</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">values_from</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   Mon  Tue  Wed  Thu  Fri  Sat  Sun</span>
<span class="go">0    5    2  NaN    3    1  NaN  NaN</span>
</code></pre></div>
    <p>Expand the index to expose implicit missing values
- this applies only to categorical columns:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">daily</span> <span class="o">=</span> <span class="n">daily</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">letter</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABBA&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daily</span>
<span class="go">   day  value letter</span>
<span class="go">0  Tue      2      A</span>
<span class="go">0  Thu      3      B</span>
<span class="go">0  Fri      1      B</span>
<span class="go">0  Mon      5      A</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">daily</span><span class="o">.</span><span class="n">pivot_wider</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">,</span><span class="n">names_from</span><span class="o">=</span><span class="s1">&#39;letter&#39;</span><span class="p">,</span><span class="n">values_from</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="go">   day    A    B</span>
<span class="go">0  Tue  2.0  NaN</span>
<span class="go">1  Thu  NaN  3.0</span>
<span class="go">2  Fri  NaN  1.0</span>
<span class="go">3  Mon  5.0  NaN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">daily</span>
<span class="gp">... </span><span class="o">.</span><span class="n">pivot_wider</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">index</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">names_from</span><span class="o">=</span><span class="s1">&#39;letter&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">values_from</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">index_expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   day    A    B</span>
<span class="go">0  Mon  5.0  NaN</span>
<span class="go">1  Tue  2.0  NaN</span>
<span class="go">2  Wed  NaN  NaN</span>
<span class="go">3  Thu  NaN  3.0</span>
<span class="go">4  Fri  NaN  1.0</span>
<span class="go">5  Sat  NaN  NaN</span>
<span class="go">6  Sun  NaN  NaN</span>
</code></pre></div>
        <div class="admonition abstract">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.24.0<ul>
<li>Added <code>reset_index</code>, <code>names_expand</code> and <code>index_expand</code> parameters.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code>list | str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name(s) of columns to use as identifier variables.
It should be either a single column name, or a list of column names.
If <code>index</code> is not provided, the DataFrame's index is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_from</code>
            </td>
            <td>
                  <code>list | str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name(s) of column(s) to use to make the new
DataFrame's columns. Should be either a single column name,
or a list of column names.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values_from</code>
            </td>
            <td>
                  <code>list | str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name(s) of column(s) that will be used for populating
the new DataFrame's values.
If <code>values_from</code> is not specified,  all remaining columns
will be used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flatten_levels</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>False</code>, the DataFrame stays as a MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_sep</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>names_from</code> or <code>values_from</code> contain multiple
variables, this will be used to join the values into a single string
to use as a column name. Default is <code>_</code>.
Applicable only if <code>flatten_levels</code> is <code>True</code>.</p>
              </div>
            </td>
            <td>
                  <code>&#39;_&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_glue</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string to control the output of the flattened columns.
It offers more flexibility in creating custom column names,
and uses python's <code>str.format_map</code> under the hood.
Simply create the string template,
using the column labels in <code>names_from</code>,
and special <code>_value</code> as a placeholder for <code>values_from</code>.
Applicable only if <code>flatten_levels</code> is <code>True</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reset_index</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines whether to restore <code>index</code>
as a column/columns. Applicable only if <code>index</code> is provided,
and <code>flatten_levels</code> is <code>True</code>.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>names_expand</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Expand columns to show all the categories.
Applies only if <code>names_from</code> is a categorical column.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index_expand</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Expand the index to show all the categories.
Applies only if <code>index</code> is a categorical column.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame that has been unpivoted from long to wide form.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/pivot.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.pivot` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">pivot_wider</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">index</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">names_from</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">values_from</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flatten_levels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">names_sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span>
    <span class="n">names_glue</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reset_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">names_expand</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">index_expand</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reshapes data from *long* to *wide* form.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.pivot` instead.</span>

<span class="sd">    The number of columns are increased, while decreasing</span>
<span class="sd">    the number of rows. It is the inverse of the</span>
<span class="sd">    [`pivot_longer`][janitor.functions.pivot.pivot_longer]</span>
<span class="sd">    method, and is a wrapper around `pd.DataFrame.pivot` method.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Column selection in `index`, `names_from` and `values_from`</span>
<span class="sd">    is possible using the</span>
<span class="sd">    [`select`][janitor.functions.select.select] syntax.</span>

<span class="sd">    A ValueError is raised if the combination</span>
<span class="sd">    of the `index` and `names_from` is not unique.</span>

<span class="sd">    By default, values from `values_from` are always</span>
<span class="sd">    at the top level if the columns are not flattened.</span>
<span class="sd">    If flattened, the values from `values_from` are usually</span>
<span class="sd">    at the start of each label in the columns.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = [{&#39;dep&#39;: 5.5, &#39;step&#39;: 1, &#39;a&#39;: 20, &#39;b&#39;: 30},</span>
<span class="sd">        ...       {&#39;dep&#39;: 5.5, &#39;step&#39;: 2, &#39;a&#39;: 25, &#39;b&#39;: 37},</span>
<span class="sd">        ...       {&#39;dep&#39;: 6.1, &#39;step&#39;: 1, &#39;a&#39;: 22, &#39;b&#39;: 19},</span>
<span class="sd">        ...       {&#39;dep&#39;: 6.1, &#39;step&#39;: 2, &#39;a&#39;: 18, &#39;b&#39;: 29}]</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(df)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           dep  step   a   b</span>
<span class="sd">        0  5.5     1  20  30</span>
<span class="sd">        1  5.5     2  25  37</span>
<span class="sd">        2  6.1     1  22  19</span>
<span class="sd">        3  6.1     2  18  29</span>

<span class="sd">        Pivot and flatten columns:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_wider( # doctest: +SKIP</span>
<span class="sd">        ...     index = &quot;dep&quot;,</span>
<span class="sd">        ...     names_from = &quot;step&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           dep  a_1  a_2  b_1  b_2</span>
<span class="sd">        0  5.5   20   25   30   37</span>
<span class="sd">        1  6.1   22   18   19   29</span>

<span class="sd">        Modify columns with `names_sep`:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_wider( # doctest: +SKIP</span>
<span class="sd">        ...     index = &quot;dep&quot;,</span>
<span class="sd">        ...     names_from = &quot;step&quot;,</span>
<span class="sd">        ...     names_sep = &quot;&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           dep  a1  a2  b1  b2</span>
<span class="sd">        0  5.5  20  25  30  37</span>
<span class="sd">        1  6.1  22  18  19  29</span>

<span class="sd">        Modify columns with `names_glue`:</span>
<span class="sd">        &gt;&gt;&gt; df.pivot_wider( # doctest: +SKIP</span>
<span class="sd">        ...     index = &quot;dep&quot;,</span>
<span class="sd">        ...     names_from = &quot;step&quot;,</span>
<span class="sd">        ...     names_glue = &quot;{_value}_step{step}&quot;,</span>
<span class="sd">        ... )</span>
<span class="sd">           dep  a_step1  a_step2  b_step1  b_step2</span>
<span class="sd">        0  5.5       20       25       30       37</span>
<span class="sd">        1  6.1       22       18       19       29</span>

<span class="sd">        Expand columns to expose implicit missing values</span>
<span class="sd">        - this applies only to categorical columns:</span>
<span class="sd">        &gt;&gt;&gt; weekdays = (&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;)</span>
<span class="sd">        &gt;&gt;&gt; daily = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;day&quot;: pd.Categorical(</span>
<span class="sd">        ...             values=(&quot;Tue&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Mon&quot;), categories=weekdays</span>
<span class="sd">        ...         ),</span>
<span class="sd">        ...         &quot;value&quot;: (2, 3, 1, 5),</span>
<span class="sd">        ...     },</span>
<span class="sd">        ... index=[0, 0, 0, 0],</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; daily</span>
<span class="sd">           day  value</span>
<span class="sd">        0  Tue      2</span>
<span class="sd">        0  Thu      3</span>
<span class="sd">        0  Fri      1</span>
<span class="sd">        0  Mon      5</span>
<span class="sd">        &gt;&gt;&gt; daily.pivot_wider(names_from=&#39;day&#39;, values_from=&#39;value&#39;) # doctest: +SKIP</span>
<span class="sd">           Tue  Thu  Fri  Mon</span>
<span class="sd">        0    2    3    1    5</span>
<span class="sd">        &gt;&gt;&gt; (daily # doctest: +SKIP</span>
<span class="sd">        ... .pivot_wider(</span>
<span class="sd">        ...     names_from=&#39;day&#39;,</span>
<span class="sd">        ...     values_from=&#39;value&#39;,</span>
<span class="sd">        ...     names_expand=True)</span>
<span class="sd">        ... )</span>
<span class="sd">           Mon  Tue  Wed  Thu  Fri  Sat  Sun</span>
<span class="sd">        0    5    2  NaN    3    1  NaN  NaN</span>

<span class="sd">        Expand the index to expose implicit missing values</span>
<span class="sd">        - this applies only to categorical columns:</span>
<span class="sd">        &gt;&gt;&gt; daily = daily.assign(letter = list(&#39;ABBA&#39;))</span>
<span class="sd">        &gt;&gt;&gt; daily</span>
<span class="sd">           day  value letter</span>
<span class="sd">        0  Tue      2      A</span>
<span class="sd">        0  Thu      3      B</span>
<span class="sd">        0  Fri      1      B</span>
<span class="sd">        0  Mon      5      A</span>
<span class="sd">        &gt;&gt;&gt; daily.pivot_wider(index=&#39;day&#39;,names_from=&#39;letter&#39;,values_from=&#39;value&#39;) # doctest: +SKIP</span>
<span class="sd">           day    A    B</span>
<span class="sd">        0  Tue  2.0  NaN</span>
<span class="sd">        1  Thu  NaN  3.0</span>
<span class="sd">        2  Fri  NaN  1.0</span>
<span class="sd">        3  Mon  5.0  NaN</span>
<span class="sd">        &gt;&gt;&gt; (daily # doctest: +SKIP</span>
<span class="sd">        ... .pivot_wider(</span>
<span class="sd">        ...     index=&#39;day&#39;,</span>
<span class="sd">        ...     names_from=&#39;letter&#39;,</span>
<span class="sd">        ...     values_from=&#39;value&#39;,</span>
<span class="sd">        ...     index_expand=True)</span>
<span class="sd">        ... )</span>
<span class="sd">           day    A    B</span>
<span class="sd">        0  Mon  5.0  NaN</span>
<span class="sd">        1  Tue  2.0  NaN</span>
<span class="sd">        2  Wed  NaN  NaN</span>
<span class="sd">        3  Thu  NaN  3.0</span>
<span class="sd">        4  Fri  NaN  1.0</span>
<span class="sd">        5  Sat  NaN  NaN</span>
<span class="sd">        6  Sun  NaN  NaN</span>


<span class="sd">    !!! abstract &quot;Version Changed&quot;</span>

<span class="sd">        - 0.24.0</span>
<span class="sd">            - Added `reset_index`, `names_expand` and `index_expand` parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        index: Name(s) of columns to use as identifier variables.</span>
<span class="sd">            It should be either a single column name, or a list of column names.</span>
<span class="sd">            If `index` is not provided, the DataFrame&#39;s index is used.</span>
<span class="sd">        names_from: Name(s) of column(s) to use to make the new</span>
<span class="sd">            DataFrame&#39;s columns. Should be either a single column name,</span>
<span class="sd">            or a list of column names.</span>
<span class="sd">        values_from: Name(s) of column(s) that will be used for populating</span>
<span class="sd">            the new DataFrame&#39;s values.</span>
<span class="sd">            If `values_from` is not specified,  all remaining columns</span>
<span class="sd">            will be used.</span>
<span class="sd">        flatten_levels: If `False`, the DataFrame stays as a MultiIndex.</span>
<span class="sd">        names_sep: If `names_from` or `values_from` contain multiple</span>
<span class="sd">            variables, this will be used to join the values into a single string</span>
<span class="sd">            to use as a column name. Default is `_`.</span>
<span class="sd">            Applicable only if `flatten_levels` is `True`.</span>
<span class="sd">        names_glue: A string to control the output of the flattened columns.</span>
<span class="sd">            It offers more flexibility in creating custom column names,</span>
<span class="sd">            and uses python&#39;s `str.format_map` under the hood.</span>
<span class="sd">            Simply create the string template,</span>
<span class="sd">            using the column labels in `names_from`,</span>
<span class="sd">            and special `_value` as a placeholder for `values_from`.</span>
<span class="sd">            Applicable only if `flatten_levels` is `True`.</span>
<span class="sd">        reset_index: Determines whether to restore `index`</span>
<span class="sd">            as a column/columns. Applicable only if `index` is provided,</span>
<span class="sd">            and `flatten_levels` is `True`.</span>
<span class="sd">        names_expand: Expand columns to show all the categories.</span>
<span class="sd">            Applies only if `names_from` is a categorical column.</span>
<span class="sd">        index_expand: Expand the index to show all the categories.</span>
<span class="sd">            Applies only if `index` is a categorical column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame that has been unpivoted from long to wide form.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="c1"># no need for an explicit copy --&gt; df = df.copy()</span>
    <span class="c1"># `pd.pivot` creates one</span>
    <span class="k">return</span> <span class="n">_computations_pivot_wider</span><span class="p">(</span>
        <span class="n">df</span><span class="p">,</span>
        <span class="n">index</span><span class="p">,</span>
        <span class="n">names_from</span><span class="p">,</span>
        <span class="n">values_from</span><span class="p">,</span>
        <span class="n">flatten_levels</span><span class="p">,</span>
        <span class="n">names_sep</span><span class="p">,</span>
        <span class="n">names_glue</span><span class="p">,</span>
        <span class="n">reset_index</span><span class="p">,</span>
        <span class="n">names_expand</span><span class="p">,</span>
        <span class="n">index_expand</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.process_text" class="doc doc-heading">
            <code>process_text</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>process_text</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.process_text.process_text" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_text</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">string_function</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Apply a Pandas string method to an existing column.</p>
<p>This function aims to make string cleaning easy, while chaining,
by simply passing the string method name,
along with keyword arguments, if any, to the function.</p>
<p>This modifies an existing column; it does not create a new column;
new columns can be created via pyjanitor's
<a class="autorefs autorefs-internal" href="#janitor.functions.transform_columns.transform_columns"><code>transform_columns</code></a>.</p>
<p>A list of all the string methods in Pandas can be accessed <a href="https://pandas.pydata.org/docs/user_guide/text.html#method-summary">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <a class="autorefs autorefs-internal" href="#janitor.functions.transform_columns.transform_column"><code>jn.transform_column</code></a>
instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Ragnar&quot;</span><span class="p">,</span> <span class="s2">&quot;sammywemmy&quot;</span><span class="p">,</span> <span class="s2">&quot;ginger&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">         text  code</span>
<span class="go">0      Ragnar     1</span>
<span class="go">1  sammywemmy     2</span>
<span class="go">2      ginger     3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">process_text</span><span class="p">(</span><span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">string_function</span><span class="o">=</span><span class="s2">&quot;lower&quot;</span><span class="p">)</span>
<span class="go">         text  code</span>
<span class="go">0      ragnar     1</span>
<span class="go">1  sammywemmy     2</span>
<span class="go">2      ginger     3</span>
</code></pre></div>
    <p>For string methods with parameters, simply pass the keyword arguments:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">process_text</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">string_function</span><span class="o">=</span><span class="s2">&quot;extract&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">pat</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;(ag)&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">  text  code</span>
<span class="go">0   ag     1</span>
<span class="go">1  NaN     2</span>
<span class="go">2  NaN     3</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String column to be operated on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>string_function</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pandas string method to be applied.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments for parameters of the <code>string_function</code>.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>KeyError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>string_function</code> is not a Pandas string method.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the text function returns a DataFrame, instead of a Series.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with modified column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/process_text.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `jn.transform_columns` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">process_text</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">string_function</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Apply a Pandas string method to an existing column.</span>

<span class="sd">    This function aims to make string cleaning easy, while chaining,</span>
<span class="sd">    by simply passing the string method name,</span>
<span class="sd">    along with keyword arguments, if any, to the function.</span>

<span class="sd">    This modifies an existing column; it does not create a new column;</span>
<span class="sd">    new columns can be created via pyjanitor&#39;s</span>
<span class="sd">    [`transform_columns`][janitor.functions.transform_columns.transform_columns].</span>

<span class="sd">    A list of all the string methods in Pandas can be accessed [here](https://pandas.pydata.org/docs/user_guide/text.html#method-summary).</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use [`jn.transform_column`][janitor.functions.transform_columns.transform_column]</span>
<span class="sd">        instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; import re</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;text&quot;: [&quot;Ragnar&quot;, &quot;sammywemmy&quot;, &quot;ginger&quot;],</span>
<span class="sd">        ... &quot;code&quot;: [1, 2, 3]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">                 text  code</span>
<span class="sd">        0      Ragnar     1</span>
<span class="sd">        1  sammywemmy     2</span>
<span class="sd">        2      ginger     3</span>
<span class="sd">        &gt;&gt;&gt; df.process_text(column_name=&quot;text&quot;, string_function=&quot;lower&quot;)</span>
<span class="sd">                 text  code</span>
<span class="sd">        0      ragnar     1</span>
<span class="sd">        1  sammywemmy     2</span>
<span class="sd">        2      ginger     3</span>

<span class="sd">        For string methods with parameters, simply pass the keyword arguments:</span>

<span class="sd">        &gt;&gt;&gt; df.process_text(</span>
<span class="sd">        ...     column_name=&quot;text&quot;,</span>
<span class="sd">        ...     string_function=&quot;extract&quot;,</span>
<span class="sd">        ...     pat=r&quot;(ag)&quot;,</span>
<span class="sd">        ...     expand=False,</span>
<span class="sd">        ...     flags=re.IGNORECASE,</span>
<span class="sd">        ... )</span>
<span class="sd">          text  code</span>
<span class="sd">        0   ag     1</span>
<span class="sd">        1  NaN     2</span>
<span class="sd">        2  NaN     3</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: String column to be operated on.</span>
<span class="sd">        string_function: pandas string method to be applied.</span>
<span class="sd">        **kwargs: Keyword arguments for parameters of the `string_function`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If `string_function` is not a Pandas string method.</span>
<span class="sd">        ValueError: If the text function returns a DataFrame, instead of a Series.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with modified column.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;string_function&quot;</span><span class="p">,</span> <span class="n">string_function</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="n">column_name</span><span class="p">])</span>

    <span class="n">pandas_string_methods</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">str</span><span class="p">,</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="n">string_function</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pandas_string_methods</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">string_function</span><span class="si">}</span><span class="s2"> is not a Pandas string method.&quot;</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="p">,</span> <span class="n">string_function</span><span class="p">)(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The outcome of the processed text is a DataFrame, &quot;</span>
            <span class="s2">&quot;which is not supported in `process_text`.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">column_name</span><span class="p">:</span> <span class="n">result</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.remove_columns" class="doc doc-heading">
            <code>remove_columns</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of remove_columns.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.remove_columns.remove_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Remove the set of columns specified in <code>column_names</code>.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Intended to be the method-chaining alternative to <code>del df[col]</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Kindly use <code>pd.DataFrame.drop</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b  c</span>
<span class="go">0  2  1  7</span>
<span class="go">1  4  3  8</span>
<span class="go">2  6  5  9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">remove_columns</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">   b</span>
<span class="go">0  1</span>
<span class="go">1  3</span>
<span class="go">2  5</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[str, Iterable[str], Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The columns to remove.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/remove_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.drop` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">remove_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Hashable</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove the set of columns specified in `column_names`.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Intended to be the method-chaining alternative to `del df[col]`.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Kindly use `pd.DataFrame.drop` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [2, 4, 6], &quot;b&quot;: [1, 3, 5], &quot;c&quot;: [7, 8, 9]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b  c</span>
<span class="sd">        0  2  1  7</span>
<span class="sd">        1  4  3  8</span>
<span class="sd">        2  6  5  9</span>
<span class="sd">        &gt;&gt;&gt; df.remove_columns(column_names=[&#39;a&#39;, &#39;c&#39;])</span>
<span class="sd">           b</span>
<span class="sd">        0  1</span>
<span class="sd">        1  3</span>
<span class="sd">        2  5</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: The columns to remove.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">column_names</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.remove_empty" class="doc doc-heading">
            <code>remove_empty</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of remove_empty.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.remove_empty.remove_empty" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_empty</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Drop all rows and columns that are completely null.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Implementation is inspired from <a href="https://stackoverflow.com/questions/38884538/python-pandas-find-all-rows-where-all-values-are-nan">StackOverflow</a>.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     a    b   c</span>
<span class="go">0  1.0  3.0 NaN</span>
<span class="go">1  NaN  NaN NaN</span>
<span class="go">2  2.0  4.0 NaN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">remove_empty</span><span class="p">()</span>
<span class="go">     a    b</span>
<span class="go">0  1.0  3.0</span>
<span class="go">1  2.0  4.0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reset_index</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines if the index is reset.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/remove_empty.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">remove_empty</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">reset_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Drop all rows and columns that are completely null.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Implementation is inspired from [StackOverflow][so].</span>

<span class="sd">    [so]: https://stackoverflow.com/questions/38884538/python-pandas-find-all-rows-where-all-values-are-nan</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [1, np.nan, 2],</span>
<span class="sd">        ...     &quot;b&quot;: [3, np.nan, 4],</span>
<span class="sd">        ...     &quot;c&quot;: [np.nan, np.nan, np.nan],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">             a    b   c</span>
<span class="sd">        0  1.0  3.0 NaN</span>
<span class="sd">        1  NaN  NaN NaN</span>
<span class="sd">        2  2.0  4.0 NaN</span>
<span class="sd">        &gt;&gt;&gt; df.remove_empty()</span>
<span class="sd">             a    b</span>
<span class="sd">        0  1.0  3.0</span>
<span class="sd">        1  2.0  4.0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        reset_index: Determines if the index is reset.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">outcome</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span>
    <span class="n">outcome</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">outcome</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="o">~</span><span class="n">outcome</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)]</span>
    <span class="k">if</span> <span class="n">reset_index</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">outcome</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outcome</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.rename_columns" class="doc doc-heading">
            <code>rename_columns</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.rename_columns.rename_column" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rename_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">old_column_name</span><span class="p">,</span> <span class="n">new_column_name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Rename a column in place.</p>
<p>This method does not mutate the original DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.rename</code> instead.</p>
</div>
<p>This is just syntactic sugar/a convenience function for renaming one column at a time.
If you are convinced that there are multiple columns in need of changing,
then use the <code>pandas.DataFrame.rename</code> method.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Change the name of column 'a' to 'a_new'.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="n">old_column_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">new_column_name</span><span class="o">=</span><span class="s1">&#39;a_new&#39;</span><span class="p">)</span>
<span class="go">   a_new  b</span>
<span class="go">0      0  a</span>
<span class="go">1      1  b</span>
<span class="go">2      2  c</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>old_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The old column name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new column name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with renamed columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/rename_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.rename` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">old</span><span class="o">=</span><span class="s2">&quot;old_column_name&quot;</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="s2">&quot;new_column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">rename_column</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">old_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">new_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rename a column in place.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.rename` instead.</span>

<span class="sd">    This is just syntactic sugar/a convenience function for renaming one column at a time.</span>
<span class="sd">    If you are convinced that there are multiple columns in need of changing,</span>
<span class="sd">    then use the `pandas.DataFrame.rename` method.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Change the name of column &#39;a&#39; to &#39;a_new&#39;.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: list(range(3)), &quot;b&quot;: list(&quot;abc&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df.rename_column(old_column_name=&#39;a&#39;, new_column_name=&#39;a_new&#39;)</span>
<span class="sd">           a_new  b</span>
<span class="sd">        0      0  a</span>
<span class="sd">        1      1  b</span>
<span class="sd">        2      2  c</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        old_column_name: The old column name.</span>
<span class="sd">        new_column_name: The new column name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with renamed columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="n">old_column_name</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">old_column_name</span><span class="p">:</span> <span class="n">new_column_name</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.rename_columns.rename_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rename_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">new_column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Rename columns.</p>
<p>This method does not mutate the original DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.rename</code> instead.</p>
</div>
<p>One of the <code>new_column_names</code> or <code>function</code> are a required parameter.
If both are provided, then <code>new_column_names</code> takes priority and <code>function</code>
is never executed.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Rename columns using a dictionary which maps old names to new names.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b</span>
<span class="go">0  0  x</span>
<span class="go">1  1  y</span>
<span class="go">2  2  z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">rename_columns</span><span class="p">(</span><span class="n">new_column_names</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="s2">&quot;a_new&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;b_new&quot;</span><span class="p">})</span>
<span class="go">   a_new b_new</span>
<span class="go">0      0     x</span>
<span class="go">1      1     y</span>
<span class="go">2      2     z</span>
</code></pre></div>
    <p>Rename columns using a generic callable.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">rename_columns</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">upper</span><span class="p">)</span>
<span class="go">   A  B</span>
<span class="go">0  0  x</span>
<span class="go">1  1  y</span>
<span class="go">2  2  z</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_column_names</code>
            </td>
            <td>
                  <code>Union[Dict, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of old and new column names.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td>
                  <code>Callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function which should be applied to all the columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If both <code>new_column_names</code> and <code>function</code> are None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with renamed columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/rename_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `pd.DataFrame.rename` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">rename_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">new_column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rename columns.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.rename` instead.</span>

<span class="sd">    One of the `new_column_names` or `function` are a required parameter.</span>
<span class="sd">    If both are provided, then `new_column_names` takes priority and `function`</span>
<span class="sd">    is never executed.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Rename columns using a dictionary which maps old names to new names.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: list(range(3)), &quot;b&quot;: list(&quot;xyz&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b</span>
<span class="sd">        0  0  x</span>
<span class="sd">        1  1  y</span>
<span class="sd">        2  2  z</span>
<span class="sd">        &gt;&gt;&gt; df.rename_columns(new_column_names={&quot;a&quot;: &quot;a_new&quot;, &quot;b&quot;: &quot;b_new&quot;})</span>
<span class="sd">           a_new b_new</span>
<span class="sd">        0      0     x</span>
<span class="sd">        1      1     y</span>
<span class="sd">        2      2     z</span>

<span class="sd">        Rename columns using a generic callable.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: list(range(3)), &quot;b&quot;: list(&quot;xyz&quot;)})</span>
<span class="sd">        &gt;&gt;&gt; df.rename_columns(function=str.upper)</span>
<span class="sd">           A  B</span>
<span class="sd">        0  0  x</span>
<span class="sd">        1  1  y</span>
<span class="sd">        2  2  z</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        new_column_names: A dictionary of old and new column names.</span>
<span class="sd">        function: A function which should be applied to all the columns.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If both `new_column_names` and `function` are None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with renamed columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="n">new_column_names</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">function</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;One of new_column_names or function must be provided&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">new_column_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">new_column_names</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">new_column_names</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">mapper</span><span class="o">=</span><span class="n">function</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.reorder_columns" class="doc doc-heading">
            <code>reorder_columns</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>reorder_columns</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.reorder_columns.reorder_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reorder_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_order</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Reorder DataFrame columns by specifying desired order as list of col names.</p>
<p>Columns not specified retain their order and follow after the columns specified
in <code>column_order</code>.</p>
<p>All columns specified within the <code>column_order</code> list must be present within <code>df</code>.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;col3&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   col1  col2  col3</span>
<span class="go">0     1     2     3</span>
<span class="go">1     1     2     3</span>
<span class="go">2     1     2     3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">reorder_columns</span><span class="p">([</span><span class="s1">&#39;col3&#39;</span><span class="p">,</span> <span class="s1">&#39;col1&#39;</span><span class="p">])</span>
<span class="go">   col3  col1  col2</span>
<span class="go">0     3     1     2</span>
<span class="go">1     3     1     2</span>
<span class="go">2     3     1     2</span>
</code></pre></div>
    <p>Notice that the column order of <code>df</code> is now <code>col3</code>, <code>col1</code>, <code>col2</code>.</p>
        <p>Internally, this function uses <code>DataFrame.reindex</code> with <code>copy=False</code>
to avoid unnecessary data duplication.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>DataFrame</code> to reorder</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_order</code>
            </td>
            <td>
                  <code>Union[Iterable[str], Index, Hashable]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of column names or Pandas <code>Index</code>
specifying their order in the returned <code>DataFrame</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>IndexError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a column within <code>column_order</code> is not found
within the DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with reordered columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/reorder_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">reorder_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_order</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">,</span> <span class="n">Hashable</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reorder DataFrame columns by specifying desired order as list of col names.</span>

<span class="sd">    Columns not specified retain their order and follow after the columns specified</span>
<span class="sd">    in `column_order`.</span>

<span class="sd">    All columns specified within the `column_order` list must be present within `df`.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;col1&quot;: [1, 1, 1], &quot;col2&quot;: [2, 2, 2], &quot;col3&quot;: [3, 3, 3]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           col1  col2  col3</span>
<span class="sd">        0     1     2     3</span>
<span class="sd">        1     1     2     3</span>
<span class="sd">        2     1     2     3</span>
<span class="sd">        &gt;&gt;&gt; df.reorder_columns([&#39;col3&#39;, &#39;col1&#39;])</span>
<span class="sd">           col3  col1  col2</span>
<span class="sd">        0     3     1     2</span>
<span class="sd">        1     3     1     2</span>
<span class="sd">        2     3     1     2</span>

<span class="sd">        Notice that the column order of `df` is now `col3`, `col1`, `col2`.</span>

<span class="sd">    Internally, this function uses `DataFrame.reindex` with `copy=False`</span>
<span class="sd">    to avoid unnecessary data duplication.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: `DataFrame` to reorder</span>
<span class="sd">        column_order: A list of column names or Pandas `Index`</span>
<span class="sd">            specifying their order in the returned `DataFrame`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IndexError: If a column within `column_order` is not found</span>
<span class="sd">            within the DataFrame.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with reordered columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_order&quot;</span><span class="p">,</span> <span class="n">column_order</span><span class="p">,</span> <span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">column_order</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span>
            <span class="s2">&quot;One or more columns in `column_order` were not found in the &quot;</span>
            <span class="s2">&quot;DataFrame.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># if column_order is a Pandas index, needs conversion to list:</span>
    <span class="n">column_order</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">column_order</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span>
        <span class="n">columns</span><span class="o">=</span><span class="p">(</span>
            <span class="n">column_order</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">column_order</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.round_to_fraction" class="doc doc-heading">
            <code>round_to_fraction</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of <code>round_to_fraction</code></p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.round_to_fraction.round_to_fraction" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">round_to_fraction</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">denominator</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Round all values in a column to a fraction.</p>
<p>This method mutates the original DataFrame.</p>
<p>Taken from <a href="https://github.com/sfirke/janitor/issues/235">the R package</a>.</p>
<p>Also, optionally round to a specified number of digits.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Round numeric column to the nearest 1/4 value.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.263</span><span class="p">,</span> <span class="mf">2.499</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;a2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      a1 a2</span>
<span class="go">0  1.263  x</span>
<span class="go">1  2.499  y</span>
<span class="go">2    NaN  z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">round_to_fraction</span><span class="p">(</span><span class="s2">&quot;a1&quot;</span><span class="p">,</span> <span class="n">denominator</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">     a1 a2</span>
<span class="go">0  1.25  x</span>
<span class="go">1  2.50  y</span>
<span class="go">2   NaN  z</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of column to round to fraction.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>denominator</code>
            </td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The denominator of the fraction for rounding. Must be
a positive number.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>digits</code>
            </td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of digits for rounding after rounding to the
fraction. Default is np.inf (i.e. no subsequent rounding).</p>
              </div>
            </td>
            <td>
                  <code>inf</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>denominator</code> is not a positive number.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with a column's values rounded.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/round_to_fraction.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">col_name</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">round_to_fraction</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">denominator</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">digits</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Round all values in a column to a fraction.</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    Taken from [the R package](https://github.com/sfirke/janitor/issues/235).</span>

<span class="sd">    Also, optionally round to a specified number of digits.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Round numeric column to the nearest 1/4 value.</span>

<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a1&quot;: [1.263, 2.499, np.nan],</span>
<span class="sd">        ...     &quot;a2&quot;: [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">              a1 a2</span>
<span class="sd">        0  1.263  x</span>
<span class="sd">        1  2.499  y</span>
<span class="sd">        2    NaN  z</span>
<span class="sd">        &gt;&gt;&gt; df.round_to_fraction(&quot;a1&quot;, denominator=4)</span>
<span class="sd">             a1 a2</span>
<span class="sd">        0  1.25  x</span>
<span class="sd">        1  2.50  y</span>
<span class="sd">        2   NaN  z</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: Name of column to round to fraction.</span>
<span class="sd">        denominator: The denominator of the fraction for rounding. Must be</span>
<span class="sd">            a positive number.</span>
<span class="sd">        digits: The number of digits for rounding after rounding to the</span>
<span class="sd">            fraction. Default is np.inf (i.e. no subsequent rounding).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `denominator` is not a positive number.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with a column&#39;s values rounded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;denominator&quot;</span><span class="p">,</span> <span class="n">denominator</span><span class="p">,</span> <span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;digits&quot;</span><span class="p">,</span> <span class="n">digits</span><span class="p">,</span> <span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">denominator</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;denominator is expected to be a positive number.&quot;</span><span class="p">)</span>

    <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">*</span> <span class="n">denominator</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="n">denominator</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">digits</span><span class="p">):</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="n">digits</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.row_to_names" class="doc doc-heading">
            <code>row_to_names</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>row_to_names</code> function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.row_to_names.row_to_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">row_to_names</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">row_numbers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">remove_rows</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">remove_rows_above</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Elevates a row, or rows, to be the column names of a DataFrame.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Contains options to remove the elevated row from the DataFrame along with
removing the rows above the selected row.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Replace column names with the first row and reset the index.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;nums&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      a      b</span>
<span class="go">0  nums  chars</span>
<span class="go">1     6      x</span>
<span class="go">2     9      y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">row_to_names</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">remove_rows</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">  nums chars</span>
<span class="go">0    6     x</span>
<span class="go">1    9     y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">row_to_names</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">remove_rows</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">  nums chars</span>
<span class="go">     6     x</span>
<span class="go">0    9     y</span>
</code></pre></div>
    <p>Remove rows above the elevated row and the elevated row itself.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bla1&quot;</span><span class="p">,</span> <span class="s2">&quot;nums&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bla2&quot;</span><span class="p">,</span> <span class="s2">&quot;chars&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      a      b</span>
<span class="go">0  bla1   bla2</span>
<span class="go">1  nums  chars</span>
<span class="go">2     6      x</span>
<span class="go">3     9      y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">row_to_names</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">remove_rows</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_rows_above</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">  nums chars</span>
<span class="go">0    6     x</span>
<span class="go">1    9     y</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>row_numbers</code>
            </td>
            <td>
                  <code>int | list | slice</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position of the row(s) containing the variable names.
It can be an integer, a list or a slice.
Defaults to 0 (first row).</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove_rows</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the row(s) should be removed from the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove_rows_above</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the row(s) above the selected row should
be removed from the DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reset_index</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the index should be reset on the returning DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with set column names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/row_to_names.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">row_number</span><span class="o">=</span><span class="s2">&quot;row_numbers&quot;</span><span class="p">,</span> <span class="n">remove_row</span><span class="o">=</span><span class="s2">&quot;remove_rows&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">row_to_names</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">row_numbers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span> <span class="o">|</span> <span class="nb">slice</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">remove_rows</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">remove_rows_above</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">reset_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Elevates a row, or rows, to be the column names of a DataFrame.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Contains options to remove the elevated row from the DataFrame along with</span>
<span class="sd">    removing the rows above the selected row.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Replace column names with the first row and reset the index.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [&quot;nums&quot;, 6, 9],</span>
<span class="sd">        ...     &quot;b&quot;: [&quot;chars&quot;, &quot;x&quot;, &quot;y&quot;],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">              a      b</span>
<span class="sd">        0  nums  chars</span>
<span class="sd">        1     6      x</span>
<span class="sd">        2     9      y</span>
<span class="sd">        &gt;&gt;&gt; df.row_to_names(0, remove_rows=True, reset_index=True)</span>
<span class="sd">          nums chars</span>
<span class="sd">        0    6     x</span>
<span class="sd">        1    9     y</span>
<span class="sd">        &gt;&gt;&gt; df.row_to_names([0,1], remove_rows=True, reset_index=True)</span>
<span class="sd">          nums chars</span>
<span class="sd">             6     x</span>
<span class="sd">        0    9     y</span>

<span class="sd">        Remove rows above the elevated row and the elevated row itself.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [&quot;bla1&quot;, &quot;nums&quot;, 6, 9],</span>
<span class="sd">        ...     &quot;b&quot;: [&quot;bla2&quot;, &quot;chars&quot;, &quot;x&quot;, &quot;y&quot;],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">              a      b</span>
<span class="sd">        0  bla1   bla2</span>
<span class="sd">        1  nums  chars</span>
<span class="sd">        2     6      x</span>
<span class="sd">        3     9      y</span>
<span class="sd">        &gt;&gt;&gt; df.row_to_names(1, remove_rows=True, remove_rows_above=True, reset_index=True)</span>
<span class="sd">          nums chars</span>
<span class="sd">        0    6     x</span>
<span class="sd">        1    9     y</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        row_numbers: Position of the row(s) containing the variable names.</span>
<span class="sd">            It can be an integer, a list or a slice.</span>
<span class="sd">            Defaults to 0 (first row).</span>
<span class="sd">        remove_rows: Whether the row(s) should be removed from the DataFrame.</span>
<span class="sd">        remove_rows_above: Whether the row(s) above the selected row should</span>
<span class="sd">            be removed from the DataFrame.</span>
<span class="sd">        reset_index: Whether the index should be reset on the returning DataFrame.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with set column names.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">return</span> <span class="n">_row_to_names</span><span class="p">(</span>
        <span class="n">row_numbers</span><span class="p">,</span>
        <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">remove_rows</span><span class="o">=</span><span class="n">remove_rows</span><span class="p">,</span>
        <span class="n">remove_rows_above</span><span class="o">=</span><span class="n">remove_rows_above</span><span class="p">,</span>
        <span class="n">reset_index</span><span class="o">=</span><span class="n">reset_index</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.select" class="doc doc-heading">
            <code>select</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="janitor.functions.select.DropLabel" class="doc doc-heading">
            <code>DropLabel</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">


        <p>Helper class for removing labels within the <code>select</code> syntax.</p>
<p><code>label</code> can be any of the types supported in the <code>select</code>,
<code>select_rows</code> and <code>select_columns</code> functions.
An array of integers not matching the labels is returned.</p>
<div class="admonition info">
<p class="admonition-title">New in version 0.24.0</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label(s) to be dropped from the index.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>janitor/functions/select.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DropLabel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper class for removing labels within the `select` syntax.</span>

<span class="sd">    `label` can be any of the types supported in the `select`,</span>
<span class="sd">    `select_rows` and `select_columns` functions.</span>
<span class="sd">    An array of integers not matching the labels is returned.</span>

<span class="sd">    !!! info &quot;New in version 0.24.0&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        label: Label(s) to be dropped from the index.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">label</span><span class="p">:</span> <span class="n">Any</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="janitor.functions.select.get_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_columns</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Helper function for selecting columns on a grouped object,
using the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select"><code>select</code></a> syntax.</p>
<div class="admonition info">
<p class="admonition-title">New in version 0.25.0</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>group</code>
            </td>
            <td>
                  <code>DataFrameGroupBy | SeriesGroupBy</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Pandas GroupBy object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>column(s) to select.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrameGroupBy | SeriesGroupBy</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas groupby object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/select.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_columns</span><span class="p">(</span>
    <span class="n">group</span><span class="p">:</span> <span class="n">DataFrameGroupBy</span> <span class="o">|</span> <span class="n">SeriesGroupBy</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataFrameGroupBy</span> <span class="o">|</span> <span class="n">SeriesGroupBy</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function for selecting columns on a grouped object,</span>
<span class="sd">    using the</span>
<span class="sd">    [`select`][janitor.functions.select.select] syntax.</span>

<span class="sd">    !!! info &quot;New in version 0.25.0&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        group: A Pandas GroupBy object.</span>
<span class="sd">        label: column(s) to select.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas groupby object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;groupby object&quot;</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="p">[</span><span class="n">DataFrameGroupBy</span><span class="p">,</span> <span class="n">SeriesGroupBy</span><span class="p">])</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">get_index_labels</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">group</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">label</span> <span class="k">if</span> <span class="n">is_scalar</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="k">else</span> <span class="nb">list</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">group</span><span class="p">[</span><span class="n">label</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.select.get_index_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_index_labels</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convenience function to get actual labels from column/index</p>
<div class="admonition info">
<p class="admonition-title">New in version 0.25.0</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>arg</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Valid inputs include: an exact column name to look for,
a shell-style glob string (e.g. <code>*_thing_*</code>),
a regular expression,
a callable,
or variable arguments of all the aforementioned.
A sequence of booleans is also acceptable.
A dictionary can be used for selection
on a MultiIndex on different levels.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code>Literal[&#39;index&#39;, &#39;columns&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Should be either <code>index</code> or <code>columns</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>Index</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas Index.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/select.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_index_labels</span><span class="p">(</span>
    <span class="n">arg</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convenience function to get actual labels from column/index</span>

<span class="sd">    !!! info &quot;New in version 0.25.0&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        arg: Valid inputs include: an exact column name to look for,</span>
<span class="sd">            a shell-style glob string (e.g. `*_thing_*`),</span>
<span class="sd">            a regular expression,</span>
<span class="sd">            a callable,</span>
<span class="sd">            or variable arguments of all the aforementioned.</span>
<span class="sd">            A sequence of booleans is also acceptable.</span>
<span class="sd">            A dictionary can be used for selection</span>
<span class="sd">            on a MultiIndex on different levels.</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        axis: Should be either `index` or `columns`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas Index.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="s2">&quot;columns&quot;</span><span class="p">}</span>
    <span class="n">index</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">index</span><span class="p">[</span><span class="n">_select_index</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">axis</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.select.select" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Method-chainable selection of rows and columns.</p>
<p>It accepts a string, shell-like glob strings <code>(*string*)</code>,
regex, slice, array-like object, or a list of the previous options.</p>
<p>Selection on a MultiIndex on a level, or multiple levels,
is possible with a dictionary.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Selection can be inverted with the <code>DropLabel</code> class.</p>
<p>Optional ability to invert selection of index/columns available as well.</p>
<div class="admonition info">
<p class="admonition-title">New in version 0.24.0</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The preferred option when selecting columns or rows in a Pandas DataFrame
is with <code>.loc</code> or <code>.iloc</code> methods, as they are generally performant.
<code>select</code> is primarily for convenience.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Version Changed</p>
<ul>
<li>0.26.0<ul>
<li>Added variable <code>args</code>, <code>invert</code> and <code>axis</code> parameters.</li>
<li><code>rows</code> keyword deprecated in favour of <code>index</code>.</li>
</ul>
</li>
</ul>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]],</span>
<span class="gp">... </span>     <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cobra&#39;</span><span class="p">,</span> <span class="s1">&#39;viper&#39;</span><span class="p">,</span> <span class="s1">&#39;sidewinder&#39;</span><span class="p">],</span>
<span class="gp">... </span>     <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;max_speed&#39;</span><span class="p">,</span> <span class="s1">&#39;shield&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">            max_speed  shield</span>
<span class="go">cobra               1       2</span>
<span class="go">viper               4       5</span>
<span class="go">sidewinder          7       8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;cobra&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;shield&#39;</span><span class="p">)</span>
<span class="go">       shield</span>
<span class="go">cobra       2</span>
</code></pre></div>
    <p>Labels can be dropped with the <code>DropLabel</code> class:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">DropLabel</span><span class="p">(</span><span class="s1">&#39;cobra&#39;</span><span class="p">))</span>
<span class="go">            max_speed  shield</span>
<span class="go">viper               4       5</span>
<span class="go">sidewinder          7       8</span>
</code></pre></div>
        <p>More examples can be found in the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select_columns"><code>select_columns</code></a> section.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Valid inputs include: an exact index name to look for,
a shell-style glob string (e.g. <code>*_thing_*</code>),
a regular expression,
a callable,
or variable arguments of all the aforementioned.
A sequence of booleans is also acceptable.
A dictionary can be used for selection
on a MultiIndex on different levels.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Valid inputs include: an exact label to look for,
a shell-style glob string (e.g. <code>*_thing_*</code>),
a regular expression,
a callable,
or variable arguments of all the aforementioned.
A sequence of booleans is also acceptable.
A dictionary can be used for selection
on a MultiIndex on different levels.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Valid inputs include: an exact label to look for,
a shell-style glob string (e.g. <code>*_thing_*</code>),
a regular expression,
a callable,
or variable arguments of all the aforementioned.
A sequence of booleans is also acceptable.
A dictionary can be used for selection
on a MultiIndex on different levels.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invert</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to invert the selection.
This will result in the selection
of the complement of the rows/columns provided.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the selection should be on the index('index'),
or columns('columns').
Applicable only for the variable args parameter.</p>
              </div>
            </td>
            <td>
                  <code>&#39;columns&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If args and index/columns are provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with the specified rows and/or columns selected.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/select.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">select</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">,</span>
    <span class="n">index</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;columns&quot;</span><span class="p">,</span>
    <span class="n">invert</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method-chainable selection of rows and columns.</span>

<span class="sd">    It accepts a string, shell-like glob strings `(*string*)`,</span>
<span class="sd">    regex, slice, array-like object, or a list of the previous options.</span>

<span class="sd">    Selection on a MultiIndex on a level, or multiple levels,</span>
<span class="sd">    is possible with a dictionary.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Selection can be inverted with the `DropLabel` class.</span>

<span class="sd">    Optional ability to invert selection of index/columns available as well.</span>


<span class="sd">    !!! info &quot;New in version 0.24.0&quot;</span>


<span class="sd">    !!!note</span>

<span class="sd">        The preferred option when selecting columns or rows in a Pandas DataFrame</span>
<span class="sd">        is with `.loc` or `.iloc` methods, as they are generally performant.</span>
<span class="sd">        `select` is primarily for convenience.</span>

<span class="sd">    !!! abstract &quot;Version Changed&quot;</span>

<span class="sd">        - 0.26.0</span>
<span class="sd">            - Added variable `args`, `invert` and `axis` parameters.</span>
<span class="sd">            - `rows` keyword deprecated in favour of `index`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame([[1, 2], [4, 5], [7, 8]],</span>
<span class="sd">        ...      index=[&#39;cobra&#39;, &#39;viper&#39;, &#39;sidewinder&#39;],</span>
<span class="sd">        ...      columns=[&#39;max_speed&#39;, &#39;shield&#39;])</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">                    max_speed  shield</span>
<span class="sd">        cobra               1       2</span>
<span class="sd">        viper               4       5</span>
<span class="sd">        sidewinder          7       8</span>
<span class="sd">        &gt;&gt;&gt; df.select(index=&#39;cobra&#39;, columns=&#39;shield&#39;)</span>
<span class="sd">               shield</span>
<span class="sd">        cobra       2</span>

<span class="sd">        Labels can be dropped with the `DropLabel` class:</span>

<span class="sd">        &gt;&gt;&gt; df.select(index=DropLabel(&#39;cobra&#39;))</span>
<span class="sd">                    max_speed  shield</span>
<span class="sd">        viper               4       5</span>
<span class="sd">        sidewinder          7       8</span>

<span class="sd">    More examples can be found in the</span>
<span class="sd">    [`select_columns`][janitor.functions.select.select_columns] section.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        *args: Valid inputs include: an exact index name to look for,</span>
<span class="sd">            a shell-style glob string (e.g. `*_thing_*`),</span>
<span class="sd">            a regular expression,</span>
<span class="sd">            a callable,</span>
<span class="sd">            or variable arguments of all the aforementioned.</span>
<span class="sd">            A sequence of booleans is also acceptable.</span>
<span class="sd">            A dictionary can be used for selection</span>
<span class="sd">            on a MultiIndex on different levels.</span>
<span class="sd">        index: Valid inputs include: an exact label to look for,</span>
<span class="sd">            a shell-style glob string (e.g. `*_thing_*`),</span>
<span class="sd">            a regular expression,</span>
<span class="sd">            a callable,</span>
<span class="sd">            or variable arguments of all the aforementioned.</span>
<span class="sd">            A sequence of booleans is also acceptable.</span>
<span class="sd">            A dictionary can be used for selection</span>
<span class="sd">            on a MultiIndex on different levels.</span>
<span class="sd">        columns: Valid inputs include: an exact label to look for,</span>
<span class="sd">            a shell-style glob string (e.g. `*_thing_*`),</span>
<span class="sd">            a regular expression,</span>
<span class="sd">            a callable,</span>
<span class="sd">            or variable arguments of all the aforementioned.</span>
<span class="sd">            A sequence of booleans is also acceptable.</span>
<span class="sd">            A dictionary can be used for selection</span>
<span class="sd">            on a MultiIndex on different levels.</span>
<span class="sd">        invert: Whether or not to invert the selection.</span>
<span class="sd">            This will result in the selection</span>
<span class="sd">            of the complement of the rows/columns provided.</span>
<span class="sd">        axis: Whether the selection should be on the index(&#39;index&#39;),</span>
<span class="sd">            or columns(&#39;columns&#39;).</span>
<span class="sd">            Applicable only for the variable args parameter.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If args and index/columns are provided.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with the specified rows and/or columns selected.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;invert&quot;</span><span class="p">,</span> <span class="n">invert</span><span class="p">,</span> <span class="p">[</span><span class="nb">bool</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">columns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Either provide variable args with the axis parameter, &quot;</span>
                <span class="s2">&quot;or provide arguments to the index and/or columns parameters.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="n">invert</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s2">&quot;columns&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">rows</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="n">invert</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;axis should be either &#39;index&#39; or &#39;columns&#39;.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="n">invert</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.select.select_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Method-chainable selection of columns.</p>
<p>It accepts a string, shell-like glob strings <code>(*string*)</code>,
regex, slice, array-like object, or a list of the previous options.</p>
<p>Selection on a MultiIndex on a level, or multiple levels,
is possible with a dictionary.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Optional ability to invert selection of columns available as well.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The preferred option when selecting columns or rows in a Pandas DataFrame
is with <code>.loc</code> or <code>.iloc</code> methods.
<code>select_columns</code> is primarily for convenience.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>jn.select</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_columns&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.expand_frame_repr&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;max_colwidth&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Cheetah&#39;</span><span class="p">,</span><span class="s1">&#39;Owl monkey&#39;</span><span class="p">,</span><span class="s1">&#39;Mountain beaver&#39;</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="s1">&#39;Greater short-tailed shrew&#39;</span><span class="p">,</span><span class="s1">&#39;Cow&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;genus&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Acinonyx&#39;</span><span class="p">,</span> <span class="s1">&#39;Aotus&#39;</span><span class="p">,</span> <span class="s1">&#39;Aplodontia&#39;</span><span class="p">,</span> <span class="s1">&#39;Blarina&#39;</span><span class="p">,</span> <span class="s1">&#39;Bos&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;vore&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;carni&#39;</span><span class="p">,</span> <span class="s1">&#39;omni&#39;</span><span class="p">,</span> <span class="s1">&#39;herbi&#39;</span><span class="p">,</span> <span class="s1">&#39;omni&#39;</span><span class="p">,</span> <span class="s1">&#39;herbi&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Carnivora&#39;</span><span class="p">,</span><span class="s1">&#39;Primates&#39;</span><span class="p">,</span><span class="s1">&#39;Rodentia&#39;</span><span class="p">,</span><span class="s1">&#39;Soricomorpha&#39;</span><span class="p">,</span><span class="s1">&#39;Artiodactyla&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;conservation&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;lc&#39;</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;nt&#39;</span><span class="p">,</span> <span class="s1">&#39;lc&#39;</span><span class="p">,</span> <span class="s1">&#39;domesticated&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;sleep_total&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">12.1</span><span class="p">,</span> <span class="mf">17.0</span><span class="p">,</span> <span class="mf">14.4</span><span class="p">,</span> <span class="mf">14.9</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;sleep_rem&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;sleep_cycle&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">0.133333333</span><span class="p">,</span> <span class="mf">0.666666667</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;awake&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">11.9</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">9.6</span><span class="p">,</span> <span class="mf">9.1</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;brainwt&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="mf">0.0155</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">0.00029</span><span class="p">,</span> <span class="mf">0.423</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;bodywt&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.35</span><span class="p">,</span> <span class="mf">0.019</span><span class="p">,</span> <span class="mf">600.0</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">                         name       genus   vore         order  conservation  sleep_total  sleep_rem  sleep_cycle  awake  brainwt   bodywt</span>
<span class="go">0                     Cheetah    Acinonyx  carni     Carnivora            lc         12.1        NaN          NaN   11.9      NaN   50.000</span>
<span class="go">1                  Owl monkey       Aotus   omni      Primates           NaN         17.0        1.8          NaN    7.0  0.01550    0.480</span>
<span class="go">2             Mountain beaver  Aplodontia  herbi      Rodentia            nt         14.4        2.4          NaN    9.6      NaN    1.350</span>
<span class="go">3  Greater short-tailed shrew     Blarina   omni  Soricomorpha            lc         14.9        2.3     0.133333    9.1  0.00029    0.019</span>
<span class="go">4                         Cow         Bos  herbi  Artiodactyla  domesticated          4.0        0.7     0.666667   20.0  0.42300  600.000</span>
</code></pre></div>
    <p>Explicit label selection:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;order&#39;</span><span class="p">)</span>
<span class="go">                         name         order</span>
<span class="go">0                     Cheetah     Carnivora</span>
<span class="go">1                  Owl monkey      Primates</span>
<span class="go">2             Mountain beaver      Rodentia</span>
<span class="go">3  Greater short-tailed shrew  Soricomorpha</span>
<span class="go">4                         Cow  Artiodactyla</span>
</code></pre></div>
    <p>Selection via globbing:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="s2">&quot;sleep*&quot;</span><span class="p">,</span> <span class="s2">&quot;*wt&quot;</span><span class="p">)</span>
<span class="go">   sleep_total  sleep_rem  sleep_cycle  brainwt   bodywt</span>
<span class="go">0         12.1        NaN          NaN      NaN   50.000</span>
<span class="go">1         17.0        1.8          NaN  0.01550    0.480</span>
<span class="go">2         14.4        2.4          NaN      NaN    1.350</span>
<span class="go">3         14.9        2.3     0.133333  0.00029    0.019</span>
<span class="go">4          4.0        0.7     0.666667  0.42300  600.000</span>
</code></pre></div>
    <p>Selection via regex:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;o.+er&quot;</span><span class="p">))</span>
<span class="go">          order  conservation</span>
<span class="go">0     Carnivora            lc</span>
<span class="go">1      Primates           NaN</span>
<span class="go">2      Rodentia            nt</span>
<span class="go">3  Soricomorpha            lc</span>
<span class="go">4  Artiodactyla  domesticated</span>
</code></pre></div>
    <p>Selection via slicing:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;order&#39;</span><span class="p">),</span> <span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;sleep_total&#39;</span><span class="p">,</span><span class="s1">&#39;sleep_cycle&#39;</span><span class="p">))</span>
<span class="go">                         name       genus   vore         order  sleep_total  sleep_rem  sleep_cycle</span>
<span class="go">0                     Cheetah    Acinonyx  carni     Carnivora         12.1        NaN          NaN</span>
<span class="go">1                  Owl monkey       Aotus   omni      Primates         17.0        1.8          NaN</span>
<span class="go">2             Mountain beaver  Aplodontia  herbi      Rodentia         14.4        2.4          NaN</span>
<span class="go">3  Greater short-tailed shrew     Blarina   omni  Soricomorpha         14.9        2.3     0.133333</span>
<span class="go">4                         Cow         Bos  herbi  Artiodactyla          4.0        0.7     0.666667</span>
</code></pre></div>
    <p>Selection via callable:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">is_numeric_dtype</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="n">is_numeric_dtype</span><span class="p">)</span>
<span class="go">   sleep_total  sleep_rem  sleep_cycle  awake  brainwt   bodywt</span>
<span class="go">0         12.1        NaN          NaN   11.9      NaN   50.000</span>
<span class="go">1         17.0        1.8          NaN    7.0  0.01550    0.480</span>
<span class="go">2         14.4        2.4          NaN    9.6      NaN    1.350</span>
<span class="go">3         14.9        2.3     0.133333    9.1  0.00029    0.019</span>
<span class="go">4          4.0        0.7     0.666667   20.0  0.42300  600.000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="n">f</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
<span class="go">   conservation  sleep_rem  sleep_cycle  brainwt</span>
<span class="go">0            lc        NaN          NaN      NaN</span>
<span class="go">1           NaN        1.8          NaN  0.01550</span>
<span class="go">2            nt        2.4          NaN      NaN</span>
<span class="go">3            lc        2.3     0.133333  0.00029</span>
<span class="go">4  domesticated        0.7     0.666667  0.42300</span>
</code></pre></div>
    <p>Exclude columns with the <code>invert</code> parameter:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="n">is_numeric_dtype</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">                         name       genus   vore         order  conservation</span>
<span class="go">0                     Cheetah    Acinonyx  carni     Carnivora            lc</span>
<span class="go">1                  Owl monkey       Aotus   omni      Primates           NaN</span>
<span class="go">2             Mountain beaver  Aplodontia  herbi      Rodentia            nt</span>
<span class="go">3  Greater short-tailed shrew     Blarina   omni  Soricomorpha            lc</span>
<span class="go">4                         Cow         Bos  herbi  Artiodactyla  domesticated</span>
</code></pre></div>
    <p>Exclude columns with the <code>DropLabel</code> class:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">janitor</span> <span class="kn">import</span> <span class="n">DropLabel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="n">DropLabel</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;awake&quot;</span><span class="p">)),</span> <span class="s2">&quot;conservation&quot;</span><span class="p">)</span>
<span class="go">   brainwt   bodywt  conservation</span>
<span class="go">0      NaN   50.000            lc</span>
<span class="go">1  0.01550    0.480           NaN</span>
<span class="go">2      NaN    1.350            nt</span>
<span class="go">3  0.00029    0.019            lc</span>
<span class="go">4  0.42300  600.000  domesticated</span>
</code></pre></div>
    <p>Selection on MultiIndex columns:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;num_legs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;num_wings&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mammal&#39;</span><span class="p">,</span> <span class="s1">&#39;mammal&#39;</span><span class="p">,</span> <span class="s1">&#39;mammal&#39;</span><span class="p">,</span> <span class="s1">&#39;bird&#39;</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;animal&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;bat&#39;</span><span class="p">,</span> <span class="s1">&#39;penguin&#39;</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;locomotion&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;walks&#39;</span><span class="p">,</span> <span class="s1">&#39;walks&#39;</span><span class="p">,</span> <span class="s1">&#39;flies&#39;</span><span class="p">,</span> <span class="s1">&#39;walks&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;animal&#39;</span><span class="p">,</span> <span class="s1">&#39;locomotion&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">class      mammal                bird</span>
<span class="go">animal        cat   dog   bat penguin</span>
<span class="go">locomotion  walks walks flies   walks</span>
<span class="go">num_legs        4     4     2       2</span>
<span class="go">num_wings       0     0     2       2</span>
</code></pre></div>
    <p>Selection with a scalar:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">(</span><span class="s1">&#39;mammal&#39;</span><span class="p">)</span>
<span class="go">class      mammal</span>
<span class="go">animal        cat   dog   bat</span>
<span class="go">locomotion  walks walks flies</span>
<span class="go">num_legs        4     4     2</span>
<span class="go">num_wings       0     0     2</span>
</code></pre></div>
    <p>Selection with a tuple:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">((</span><span class="s1">&#39;mammal&#39;</span><span class="p">,</span><span class="s1">&#39;bat&#39;</span><span class="p">))</span>
<span class="go">class      mammal</span>
<span class="go">animal        bat</span>
<span class="go">locomotion  flies</span>
<span class="go">num_legs        2</span>
<span class="go">num_wings       2</span>
</code></pre></div>
    <p>Selection within a level is possible with a dictionary,
where the key is either a level name or number:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">({</span><span class="s1">&#39;animal&#39;</span><span class="p">:</span><span class="s1">&#39;cat&#39;</span><span class="p">})</span>
<span class="go">class      mammal</span>
<span class="go">animal        cat</span>
<span class="go">locomotion  walks</span>
<span class="go">num_legs        4</span>
<span class="go">num_wings       0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">({</span><span class="mi">1</span><span class="p">:[</span><span class="s2">&quot;bat&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">]})</span>
<span class="go">class      mammal</span>
<span class="go">animal        bat   cat</span>
<span class="go">locomotion  flies walks</span>
<span class="go">num_legs        2     4</span>
<span class="go">num_wings       2     0</span>
</code></pre></div>
    <p>Selection on multiple levels:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">({</span><span class="s2">&quot;class&quot;</span><span class="p">:</span><span class="s2">&quot;mammal&quot;</span><span class="p">,</span> <span class="s2">&quot;locomotion&quot;</span><span class="p">:</span><span class="s2">&quot;flies&quot;</span><span class="p">})</span>
<span class="go">class      mammal</span>
<span class="go">animal        bat</span>
<span class="go">locomotion  flies</span>
<span class="go">num_legs        2</span>
<span class="go">num_wings       2</span>
</code></pre></div>
    <p>Selection with a regex on a level:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">({</span><span class="s2">&quot;animal&quot;</span><span class="p">:</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;.+t$&quot;</span><span class="p">)})</span>
<span class="go">class      mammal</span>
<span class="go">animal        cat   bat</span>
<span class="go">locomotion  walks flies</span>
<span class="go">num_legs        4     2</span>
<span class="go">num_wings       0     2</span>
</code></pre></div>
    <p>Selection with a callable on a level:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_columns</span><span class="p">({</span><span class="s2">&quot;animal&quot;</span><span class="p">:</span><span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="n">f</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)})</span>
<span class="go">class      mammal</span>
<span class="go">animal        cat   bat</span>
<span class="go">locomotion  walks flies</span>
<span class="go">num_legs        4     2</span>
<span class="go">num_wings       0     2</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Valid inputs include: an exact column name to look for,
a shell-style glob string (e.g. <code>*_thing_*</code>),
a regular expression,
a callable,
or variable arguments of all the aforementioned.
A sequence of booleans is also acceptable.
A dictionary can be used for selection
on a MultiIndex on different levels.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invert</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to invert the selection.
This will result in the selection
of the complement of the columns provided.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with the specified columns selected.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/select.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `jn.select` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">select_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">invert</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method-chainable selection of columns.</span>

<span class="sd">    It accepts a string, shell-like glob strings `(*string*)`,</span>
<span class="sd">    regex, slice, array-like object, or a list of the previous options.</span>

<span class="sd">    Selection on a MultiIndex on a level, or multiple levels,</span>
<span class="sd">    is possible with a dictionary.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Optional ability to invert selection of columns available as well.</span>

<span class="sd">    !!!note</span>

<span class="sd">        The preferred option when selecting columns or rows in a Pandas DataFrame</span>
<span class="sd">        is with `.loc` or `.iloc` methods.</span>
<span class="sd">        `select_columns` is primarily for convenience.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `jn.select` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; from numpy import nan</span>
<span class="sd">        &gt;&gt;&gt; pd.set_option(&quot;display.max_columns&quot;, None)</span>
<span class="sd">        &gt;&gt;&gt; pd.set_option(&quot;display.expand_frame_repr&quot;, False)</span>
<span class="sd">        &gt;&gt;&gt; pd.set_option(&quot;max_colwidth&quot;, None)</span>
<span class="sd">        &gt;&gt;&gt; data = {&#39;name&#39;: [&#39;Cheetah&#39;,&#39;Owl monkey&#39;,&#39;Mountain beaver&#39;,</span>
<span class="sd">        ...                  &#39;Greater short-tailed shrew&#39;,&#39;Cow&#39;],</span>
<span class="sd">        ...         &#39;genus&#39;: [&#39;Acinonyx&#39;, &#39;Aotus&#39;, &#39;Aplodontia&#39;, &#39;Blarina&#39;, &#39;Bos&#39;],</span>
<span class="sd">        ...         &#39;vore&#39;: [&#39;carni&#39;, &#39;omni&#39;, &#39;herbi&#39;, &#39;omni&#39;, &#39;herbi&#39;],</span>
<span class="sd">        ...         &#39;order&#39;: [&#39;Carnivora&#39;,&#39;Primates&#39;,&#39;Rodentia&#39;,&#39;Soricomorpha&#39;,&#39;Artiodactyla&#39;],</span>
<span class="sd">        ...         &#39;conservation&#39;: [&#39;lc&#39;, nan, &#39;nt&#39;, &#39;lc&#39;, &#39;domesticated&#39;],</span>
<span class="sd">        ...         &#39;sleep_total&#39;: [12.1, 17.0, 14.4, 14.9, 4.0],</span>
<span class="sd">        ...         &#39;sleep_rem&#39;: [nan, 1.8, 2.4, 2.3, 0.7],</span>
<span class="sd">        ...         &#39;sleep_cycle&#39;: [nan, nan, nan, 0.133333333, 0.666666667],</span>
<span class="sd">        ...         &#39;awake&#39;: [11.9, 7.0, 9.6, 9.1, 20.0],</span>
<span class="sd">        ...         &#39;brainwt&#39;: [nan, 0.0155, nan, 0.00029, 0.423],</span>
<span class="sd">        ...         &#39;bodywt&#39;: [50.0, 0.48, 1.35, 0.019, 600.0]}</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">                                 name       genus   vore         order  conservation  sleep_total  sleep_rem  sleep_cycle  awake  brainwt   bodywt</span>
<span class="sd">        0                     Cheetah    Acinonyx  carni     Carnivora            lc         12.1        NaN          NaN   11.9      NaN   50.000</span>
<span class="sd">        1                  Owl monkey       Aotus   omni      Primates           NaN         17.0        1.8          NaN    7.0  0.01550    0.480</span>
<span class="sd">        2             Mountain beaver  Aplodontia  herbi      Rodentia            nt         14.4        2.4          NaN    9.6      NaN    1.350</span>
<span class="sd">        3  Greater short-tailed shrew     Blarina   omni  Soricomorpha            lc         14.9        2.3     0.133333    9.1  0.00029    0.019</span>
<span class="sd">        4                         Cow         Bos  herbi  Artiodactyla  domesticated          4.0        0.7     0.666667   20.0  0.42300  600.000</span>

<span class="sd">        Explicit label selection:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(&#39;name&#39;, &#39;order&#39;)</span>
<span class="sd">                                 name         order</span>
<span class="sd">        0                     Cheetah     Carnivora</span>
<span class="sd">        1                  Owl monkey      Primates</span>
<span class="sd">        2             Mountain beaver      Rodentia</span>
<span class="sd">        3  Greater short-tailed shrew  Soricomorpha</span>
<span class="sd">        4                         Cow  Artiodactyla</span>

<span class="sd">        Selection via globbing:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(&quot;sleep*&quot;, &quot;*wt&quot;)</span>
<span class="sd">           sleep_total  sleep_rem  sleep_cycle  brainwt   bodywt</span>
<span class="sd">        0         12.1        NaN          NaN      NaN   50.000</span>
<span class="sd">        1         17.0        1.8          NaN  0.01550    0.480</span>
<span class="sd">        2         14.4        2.4          NaN      NaN    1.350</span>
<span class="sd">        3         14.9        2.3     0.133333  0.00029    0.019</span>
<span class="sd">        4          4.0        0.7     0.666667  0.42300  600.000</span>

<span class="sd">        Selection via regex:</span>
<span class="sd">        &gt;&gt;&gt; import re</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(re.compile(r&quot;o.+er&quot;))</span>
<span class="sd">                  order  conservation</span>
<span class="sd">        0     Carnivora            lc</span>
<span class="sd">        1      Primates           NaN</span>
<span class="sd">        2      Rodentia            nt</span>
<span class="sd">        3  Soricomorpha            lc</span>
<span class="sd">        4  Artiodactyla  domesticated</span>

<span class="sd">        Selection via slicing:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(slice(&#39;name&#39;,&#39;order&#39;), slice(&#39;sleep_total&#39;,&#39;sleep_cycle&#39;))</span>
<span class="sd">                                 name       genus   vore         order  sleep_total  sleep_rem  sleep_cycle</span>
<span class="sd">        0                     Cheetah    Acinonyx  carni     Carnivora         12.1        NaN          NaN</span>
<span class="sd">        1                  Owl monkey       Aotus   omni      Primates         17.0        1.8          NaN</span>
<span class="sd">        2             Mountain beaver  Aplodontia  herbi      Rodentia         14.4        2.4          NaN</span>
<span class="sd">        3  Greater short-tailed shrew     Blarina   omni  Soricomorpha         14.9        2.3     0.133333</span>
<span class="sd">        4                         Cow         Bos  herbi  Artiodactyla          4.0        0.7     0.666667</span>

<span class="sd">        Selection via callable:</span>
<span class="sd">        &gt;&gt;&gt; from pandas.api.types import is_numeric_dtype</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(is_numeric_dtype)</span>
<span class="sd">           sleep_total  sleep_rem  sleep_cycle  awake  brainwt   bodywt</span>
<span class="sd">        0         12.1        NaN          NaN   11.9      NaN   50.000</span>
<span class="sd">        1         17.0        1.8          NaN    7.0  0.01550    0.480</span>
<span class="sd">        2         14.4        2.4          NaN    9.6      NaN    1.350</span>
<span class="sd">        3         14.9        2.3     0.133333    9.1  0.00029    0.019</span>
<span class="sd">        4          4.0        0.7     0.666667   20.0  0.42300  600.000</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(lambda f: f.isna().any())</span>
<span class="sd">           conservation  sleep_rem  sleep_cycle  brainwt</span>
<span class="sd">        0            lc        NaN          NaN      NaN</span>
<span class="sd">        1           NaN        1.8          NaN  0.01550</span>
<span class="sd">        2            nt        2.4          NaN      NaN</span>
<span class="sd">        3            lc        2.3     0.133333  0.00029</span>
<span class="sd">        4  domesticated        0.7     0.666667  0.42300</span>

<span class="sd">        Exclude columns with the `invert` parameter:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(is_numeric_dtype, invert=True)</span>
<span class="sd">                                 name       genus   vore         order  conservation</span>
<span class="sd">        0                     Cheetah    Acinonyx  carni     Carnivora            lc</span>
<span class="sd">        1                  Owl monkey       Aotus   omni      Primates           NaN</span>
<span class="sd">        2             Mountain beaver  Aplodontia  herbi      Rodentia            nt</span>
<span class="sd">        3  Greater short-tailed shrew     Blarina   omni  Soricomorpha            lc</span>
<span class="sd">        4                         Cow         Bos  herbi  Artiodactyla  domesticated</span>

<span class="sd">        Exclude columns with the `DropLabel` class:</span>
<span class="sd">        &gt;&gt;&gt; from janitor import DropLabel</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(DropLabel(slice(&quot;name&quot;, &quot;awake&quot;)), &quot;conservation&quot;)</span>
<span class="sd">           brainwt   bodywt  conservation</span>
<span class="sd">        0      NaN   50.000            lc</span>
<span class="sd">        1  0.01550    0.480           NaN</span>
<span class="sd">        2      NaN    1.350            nt</span>
<span class="sd">        3  0.00029    0.019            lc</span>
<span class="sd">        4  0.42300  600.000  domesticated</span>

<span class="sd">        Selection on MultiIndex columns:</span>
<span class="sd">        &gt;&gt;&gt; d = {&#39;num_legs&#39;: [4, 4, 2, 2],</span>
<span class="sd">        ...      &#39;num_wings&#39;: [0, 0, 2, 2],</span>
<span class="sd">        ...      &#39;class&#39;: [&#39;mammal&#39;, &#39;mammal&#39;, &#39;mammal&#39;, &#39;bird&#39;],</span>
<span class="sd">        ...      &#39;animal&#39;: [&#39;cat&#39;, &#39;dog&#39;, &#39;bat&#39;, &#39;penguin&#39;],</span>
<span class="sd">        ...      &#39;locomotion&#39;: [&#39;walks&#39;, &#39;walks&#39;, &#39;flies&#39;, &#39;walks&#39;]}</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data=d)</span>
<span class="sd">        &gt;&gt;&gt; df = df.set_index([&#39;class&#39;, &#39;animal&#39;, &#39;locomotion&#39;]).T</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">        class      mammal                bird</span>
<span class="sd">        animal        cat   dog   bat penguin</span>
<span class="sd">        locomotion  walks walks flies   walks</span>
<span class="sd">        num_legs        4     4     2       2</span>
<span class="sd">        num_wings       0     0     2       2</span>

<span class="sd">        Selection with a scalar:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns(&#39;mammal&#39;)</span>
<span class="sd">        class      mammal</span>
<span class="sd">        animal        cat   dog   bat</span>
<span class="sd">        locomotion  walks walks flies</span>
<span class="sd">        num_legs        4     4     2</span>
<span class="sd">        num_wings       0     0     2</span>

<span class="sd">        Selection with a tuple:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns((&#39;mammal&#39;,&#39;bat&#39;))</span>
<span class="sd">        class      mammal</span>
<span class="sd">        animal        bat</span>
<span class="sd">        locomotion  flies</span>
<span class="sd">        num_legs        2</span>
<span class="sd">        num_wings       2</span>

<span class="sd">        Selection within a level is possible with a dictionary,</span>
<span class="sd">        where the key is either a level name or number:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns({&#39;animal&#39;:&#39;cat&#39;})</span>
<span class="sd">        class      mammal</span>
<span class="sd">        animal        cat</span>
<span class="sd">        locomotion  walks</span>
<span class="sd">        num_legs        4</span>
<span class="sd">        num_wings       0</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns({1:[&quot;bat&quot;, &quot;cat&quot;]})</span>
<span class="sd">        class      mammal</span>
<span class="sd">        animal        bat   cat</span>
<span class="sd">        locomotion  flies walks</span>
<span class="sd">        num_legs        2     4</span>
<span class="sd">        num_wings       2     0</span>

<span class="sd">        Selection on multiple levels:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns({&quot;class&quot;:&quot;mammal&quot;, &quot;locomotion&quot;:&quot;flies&quot;})</span>
<span class="sd">        class      mammal</span>
<span class="sd">        animal        bat</span>
<span class="sd">        locomotion  flies</span>
<span class="sd">        num_legs        2</span>
<span class="sd">        num_wings       2</span>

<span class="sd">        Selection with a regex on a level:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns({&quot;animal&quot;:re.compile(&quot;.+t$&quot;)})</span>
<span class="sd">        class      mammal</span>
<span class="sd">        animal        cat   bat</span>
<span class="sd">        locomotion  walks flies</span>
<span class="sd">        num_legs        4     2</span>
<span class="sd">        num_wings       0     2</span>

<span class="sd">        Selection with a callable on a level:</span>
<span class="sd">        &gt;&gt;&gt; df.select_columns({&quot;animal&quot;:lambda f: f.str.endswith(&#39;t&#39;)})</span>
<span class="sd">        class      mammal</span>
<span class="sd">        animal        cat   bat</span>
<span class="sd">        locomotion  walks flies</span>
<span class="sd">        num_legs        4     2</span>
<span class="sd">        num_wings       0     2</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        *args: Valid inputs include: an exact column name to look for,</span>
<span class="sd">            a shell-style glob string (e.g. `*_thing_*`),</span>
<span class="sd">            a regular expression,</span>
<span class="sd">            a callable,</span>
<span class="sd">            or variable arguments of all the aforementioned.</span>
<span class="sd">            A sequence of booleans is also acceptable.</span>
<span class="sd">            A dictionary can be used for selection</span>
<span class="sd">            on a MultiIndex on different levels.</span>
<span class="sd">        invert: Whether or not to invert the selection.</span>
<span class="sd">            This will result in the selection</span>
<span class="sd">            of the complement of the columns provided.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with the specified columns selected.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="k">return</span> <span class="n">_select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">invert</span><span class="o">=</span><span class="n">invert</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.select.select_rows" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select_rows</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Method-chainable selection of rows.</p>
<p>It accepts a string, shell-like glob strings <code>(*string*)</code>,
regex, slice, array-like object, or a list of the previous options.</p>
<p>Selection on a MultiIndex on a level, or multiple levels,
is possible with a dictionary.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Optional ability to invert selection of rows available as well.</p>
<div class="admonition info">
<p class="admonition-title">New in version 0.24.0</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The preferred option when selecting columns or rows in a Pandas DataFrame
is with <code>.loc</code> or <code>.iloc</code> methods, as they are generally performant.
<code>select_rows</code> is primarily for convenience.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>jn.select</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      0  1</span>
<span class="go">col1  1  2</span>
<span class="go">foo   3  4</span>
<span class="go">col2  5  6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">select_rows</span><span class="p">(</span><span class="s2">&quot;col*&quot;</span><span class="p">)</span>
<span class="go">      0  1</span>
<span class="go">col1  1  2</span>
<span class="go">col2  5  6</span>
</code></pre></div>
        <p>More examples can be found in the
<a class="autorefs autorefs-internal" href="#janitor.functions.select.select_columns"><code>select_columns</code></a> section.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Valid inputs include: an exact index name to look for,
a shell-style glob string (e.g. <code>*_thing_*</code>),
a regular expression,
a callable,
or variable arguments of all the aforementioned.
A sequence of booleans is also acceptable.
A dictionary can be used for selection
on a MultiIndex on different levels.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invert</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to invert the selection.
This will result in the selection
of the complement of the rows provided.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with the specified rows selected.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/select.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `jn.select` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">select_rows</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">invert</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method-chainable selection of rows.</span>

<span class="sd">    It accepts a string, shell-like glob strings `(*string*)`,</span>
<span class="sd">    regex, slice, array-like object, or a list of the previous options.</span>

<span class="sd">    Selection on a MultiIndex on a level, or multiple levels,</span>
<span class="sd">    is possible with a dictionary.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Optional ability to invert selection of rows available as well.</span>


<span class="sd">    !!! info &quot;New in version 0.24.0&quot;</span>

<span class="sd">    !!!note</span>

<span class="sd">        The preferred option when selecting columns or rows in a Pandas DataFrame</span>
<span class="sd">        is with `.loc` or `.iloc` methods, as they are generally performant.</span>
<span class="sd">        `select_rows` is primarily for convenience.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `jn.select` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = {&quot;col1&quot;: [1, 2], &quot;foo&quot;: [3, 4], &quot;col2&quot;: [5, 6]}</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame.from_dict(df, orient=&#39;index&#39;)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">              0  1</span>
<span class="sd">        col1  1  2</span>
<span class="sd">        foo   3  4</span>
<span class="sd">        col2  5  6</span>
<span class="sd">        &gt;&gt;&gt; df.select_rows(&quot;col*&quot;)</span>
<span class="sd">              0  1</span>
<span class="sd">        col1  1  2</span>
<span class="sd">        col2  5  6</span>

<span class="sd">    More examples can be found in the</span>
<span class="sd">    [`select_columns`][janitor.functions.select.select_columns] section.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        *args: Valid inputs include: an exact index name to look for,</span>
<span class="sd">            a shell-style glob string (e.g. `*_thing_*`),</span>
<span class="sd">            a regular expression,</span>
<span class="sd">            a callable,</span>
<span class="sd">            or variable arguments of all the aforementioned.</span>
<span class="sd">            A sequence of booleans is also acceptable.</span>
<span class="sd">            A dictionary can be used for selection</span>
<span class="sd">            on a MultiIndex on different levels.</span>
<span class="sd">        invert: Whether or not to invert the selection.</span>
<span class="sd">            This will result in the selection</span>
<span class="sd">            of the complement of the rows provided.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with the specified rows selected.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="k">return</span> <span class="n">_select</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">invert</span><span class="o">=</span><span class="n">invert</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.shuffle" class="doc doc-heading">
            <code>shuffle</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of <code>shuffle</code> functions.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.shuffle.shuffle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">shuffle</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reset_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Shuffle the rows of the DataFrame.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Super-sugary syntax! Underneath the hood, we use <code>df.sample(frac=1)</code>,
with the option to set the random state.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   col1 col2</span>
<span class="go">0     0    a</span>
<span class="go">1     1    b</span>
<span class="go">2     2    c</span>
<span class="go">3     3    d</span>
<span class="go">4     4    e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="go">   col1 col2</span>
<span class="go">0     1    b</span>
<span class="go">1     4    e</span>
<span class="go">2     2    c</span>
<span class="go">3     0    a</span>
<span class="go">4     3    d</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>random_state</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If provided, set a seed for the random number
generator. Passed to <code>pd.DataFrame.sample()</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reset_index</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, reset the dataframe index to the default
RangeIndex.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A shuffled pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/shuffle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">shuffle</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">random_state</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">reset_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Shuffle the rows of the DataFrame.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Super-sugary syntax! Underneath the hood, we use `df.sample(frac=1)`,</span>
<span class="sd">    with the option to set the random state.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;col1&quot;: range(5),</span>
<span class="sd">        ...     &quot;col2&quot;: list(&quot;abcde&quot;),</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           col1 col2</span>
<span class="sd">        0     0    a</span>
<span class="sd">        1     1    b</span>
<span class="sd">        2     2    c</span>
<span class="sd">        3     3    d</span>
<span class="sd">        4     4    e</span>
<span class="sd">        &gt;&gt;&gt; df.shuffle(random_state=42)</span>
<span class="sd">           col1 col2</span>
<span class="sd">        0     1    b</span>
<span class="sd">        1     4    e</span>
<span class="sd">        2     2    c</span>
<span class="sd">        3     0    a</span>
<span class="sd">        4     3    d</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        random_state: If provided, set a seed for the random number</span>
<span class="sd">            generator. Passed to `pd.DataFrame.sample()`.</span>
<span class="sd">        reset_index: If True, reset the dataframe index to the default</span>
<span class="sd">            RangeIndex.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A shuffled pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">reset_index</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.sort_column_value_order" class="doc doc-heading">
            <code>sort_column_value_order</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>sort_column_value_order</code> function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.sort_column_value_order.sort_column_value_order" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sort_column_value_order</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">column_value_order</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>This function adds precedence to certain values in a specified column,
then sorts based on that column and any other specified columns.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">company_sales</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;SalesMonth&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jan&quot;</span><span class="p">,</span> <span class="s2">&quot;Feb&quot;</span><span class="p">,</span> <span class="s2">&quot;Feb&quot;</span><span class="p">,</span> <span class="s2">&quot;Mar&quot;</span><span class="p">,</span> <span class="s2">&quot;April&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;Company1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">150.0</span><span class="p">,</span> <span class="mf">200.0</span><span class="p">,</span> <span class="mf">200.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">400.0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;Company2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">180.0</span><span class="p">,</span> <span class="mf">250.0</span><span class="p">,</span> <span class="mf">250.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">500.0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;Company3&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">400.0</span><span class="p">,</span> <span class="mf">500.0</span><span class="p">,</span> <span class="mf">500.0</span><span class="p">,</span> <span class="mf">600.0</span><span class="p">,</span> <span class="mf">675.0</span><span class="p">],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">company_sales</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  SalesMonth  Company1  Company2  Company3</span>
<span class="go">0        Jan     150.0     180.0     400.0</span>
<span class="go">1        Feb     200.0     250.0     500.0</span>
<span class="go">2        Feb     200.0     250.0     500.0</span>
<span class="go">3        Mar     300.0       NaN     600.0</span>
<span class="go">4      April     400.0     500.0     675.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">sort_column_value_order</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;SalesMonth&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s2">&quot;April&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Mar&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Feb&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;Jan&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">  SalesMonth  Company1  Company2  Company3</span>
<span class="go">4      April     400.0     500.0     675.0</span>
<span class="go">3        Mar     300.0       NaN     600.0</span>
<span class="go">1        Feb     200.0     250.0     500.0</span>
<span class="go">2        Feb     200.0     250.0     500.0</span>
<span class="go">0        Jan     150.0     180.0     400.0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pandas DataFrame that we are manipulating</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>This is a column name as a string we are using to specify
which column to sort by</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_value_order</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of values that will
represent precedence of the values in the specified column</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of additional columns that we can sort by</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If chosen Column Name is not in
Dataframe, or if <code>column_value_order</code> dictionary is empty.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sorted pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/sort_column_value_order.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">sort_column_value_order</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">column_value_order</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="n">columns</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function adds precedence to certain values in a specified column,</span>
<span class="sd">    then sorts based on that column and any other specified columns.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; company_sales = {</span>
<span class="sd">        ...     &quot;SalesMonth&quot;: [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;April&quot;],</span>
<span class="sd">        ...     &quot;Company1&quot;: [150.0, 200.0, 200.0, 300.0, 400.0],</span>
<span class="sd">        ...     &quot;Company2&quot;: [180.0, 250.0, 250.0, np.nan, 500.0],</span>
<span class="sd">        ...     &quot;Company3&quot;: [400.0, 500.0, 500.0, 600.0, 675.0],</span>
<span class="sd">        ... }</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame.from_dict(company_sales)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          SalesMonth  Company1  Company2  Company3</span>
<span class="sd">        0        Jan     150.0     180.0     400.0</span>
<span class="sd">        1        Feb     200.0     250.0     500.0</span>
<span class="sd">        2        Feb     200.0     250.0     500.0</span>
<span class="sd">        3        Mar     300.0       NaN     600.0</span>
<span class="sd">        4      April     400.0     500.0     675.0</span>
<span class="sd">        &gt;&gt;&gt; df.sort_column_value_order(</span>
<span class="sd">        ...     &quot;SalesMonth&quot;,</span>
<span class="sd">        ...     {&quot;April&quot;: 1, &quot;Mar&quot;: 2, &quot;Feb&quot;: 3, &quot;Jan&quot;: 4}</span>
<span class="sd">        ... )</span>
<span class="sd">          SalesMonth  Company1  Company2  Company3</span>
<span class="sd">        4      April     400.0     500.0     675.0</span>
<span class="sd">        3        Mar     300.0       NaN     600.0</span>
<span class="sd">        1        Feb     200.0     250.0     500.0</span>
<span class="sd">        2        Feb     200.0     250.0     500.0</span>
<span class="sd">        0        Jan     150.0     180.0     400.0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: pandas DataFrame that we are manipulating</span>
<span class="sd">        column: This is a column name as a string we are using to specify</span>
<span class="sd">            which column to sort by</span>
<span class="sd">        column_value_order: Dictionary of values that will</span>
<span class="sd">            represent precedence of the values in the specified column</span>
<span class="sd">        columns: A list of additional columns that we can sort by</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If chosen Column Name is not in</span>
<span class="sd">            Dataframe, or if `column_value_order` dictionary is empty.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A sorted pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Validation checks</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">present</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_value_order&quot;</span><span class="p">,</span> <span class="n">column_value_order</span><span class="p">,</span> <span class="p">[</span><span class="nb">dict</span><span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">column_value_order</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;column_value_order dictionary cannot be empty&quot;</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">cond_order</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">column_value_order</span><span class="p">))</span>

    <span class="n">sort_by</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cond_order&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">columns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sort_by</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cond_order&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">columns</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">sort_by</span><span class="p">)</span><span class="o">.</span><span class="n">remove_columns</span><span class="p">(</span><span class="s2">&quot;cond_order&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.sort_naturally" class="doc doc-heading">
            <code>sort_naturally</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>sort_naturally</code> function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.sort_naturally.sort_naturally" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sort_naturally</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="o">**</span><span class="n">natsorted_kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Sort a DataFrame by a column using <em>natural</em> sorting.</p>
<p>Natural sorting is distinct from
the default lexiographical sorting provided by <code>pandas</code>.
For example, given the following list of items:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="s2">&quot;A11&quot;</span><span class="p">,</span> <span class="s2">&quot;A3&quot;</span><span class="p">,</span> <span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="s2">&quot;A10&quot;</span><span class="p">]</span>
</code></pre></div>
<p>Lexicographical sorting would give us:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="s2">&quot;A10&quot;</span><span class="p">,</span> <span class="s2">&quot;A11&quot;</span><span class="p">,</span> <span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="s2">&quot;A3&quot;</span><span class="p">]</span>
</code></pre></div>
<p>By contrast, "natural" sorting would give us:</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="s2">&quot;A1&quot;</span><span class="p">,</span> <span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="s2">&quot;A3&quot;</span><span class="p">,</span> <span class="s2">&quot;A10&quot;</span><span class="p">,</span> <span class="s2">&quot;A11&quot;</span><span class="p">]</span>
</code></pre></div>
<p>This function thus provides <em>natural</em> sorting
on a single column of a dataframe.</p>
<p>To accomplish this, we do a natural sort
on the unique values that are present in the dataframe.
Then, we reconstitute the entire dataframe
in the naturally sorted order.</p>
<p>Natural sorting is provided by the Python package
<a href="https://natsort.readthedocs.io/en/master/index.html">natsort</a>.</p>
<p>All keyword arguments to <code>natsort</code> should be provided
after the column name to sort by is provided.
They are passed through to the <code>natsorted</code> function.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;Well&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A21&quot;</span><span class="p">,</span> <span class="s2">&quot;A3&quot;</span><span class="p">,</span> <span class="s2">&quot;A21&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B51&quot;</span><span class="p">,</span> <span class="s2">&quot;B12&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">  Well  Value</span>
<span class="go">0  A21      1</span>
<span class="go">1   A3      2</span>
<span class="go">2  A21     13</span>
<span class="go">3   B2      3</span>
<span class="go">4  B51      4</span>
<span class="go">5  B12      7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">sort_naturally</span><span class="p">(</span><span class="s2">&quot;Well&quot;</span><span class="p">)</span>
<span class="go">  Well  Value</span>
<span class="go">1   A3      2</span>
<span class="go">0  A21      1</span>
<span class="go">2  A21     13</span>
<span class="go">3   B2      3</span>
<span class="go">5  B12      7</span>
<span class="go">4  B51      4</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column on which natural sorting should take place.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**natsorted_kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments to be passed
to natsort's <code>natsorted</code> function.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sorted pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/sort_naturally.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">sort_naturally</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">natsorted_kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sort a DataFrame by a column using *natural* sorting.</span>

<span class="sd">    Natural sorting is distinct from</span>
<span class="sd">    the default lexiographical sorting provided by `pandas`.</span>
<span class="sd">    For example, given the following list of items:</span>

<span class="sd">    ```python</span>
<span class="sd">    [&quot;A1&quot;, &quot;A11&quot;, &quot;A3&quot;, &quot;A2&quot;, &quot;A10&quot;]</span>
<span class="sd">    ```</span>

<span class="sd">    Lexicographical sorting would give us:</span>

<span class="sd">    ```python</span>
<span class="sd">    [&quot;A1&quot;, &quot;A10&quot;, &quot;A11&quot;, &quot;A2&quot;, &quot;A3&quot;]</span>
<span class="sd">    ```</span>

<span class="sd">    By contrast, &quot;natural&quot; sorting would give us:</span>

<span class="sd">    ```python</span>
<span class="sd">    [&quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A10&quot;, &quot;A11&quot;]</span>
<span class="sd">    ```</span>

<span class="sd">    This function thus provides *natural* sorting</span>
<span class="sd">    on a single column of a dataframe.</span>

<span class="sd">    To accomplish this, we do a natural sort</span>
<span class="sd">    on the unique values that are present in the dataframe.</span>
<span class="sd">    Then, we reconstitute the entire dataframe</span>
<span class="sd">    in the naturally sorted order.</span>

<span class="sd">    Natural sorting is provided by the Python package</span>
<span class="sd">    [natsort](https://natsort.readthedocs.io/en/master/index.html).</span>

<span class="sd">    All keyword arguments to `natsort` should be provided</span>
<span class="sd">    after the column name to sort by is provided.</span>
<span class="sd">    They are passed through to the `natsorted` function.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(</span>
<span class="sd">        ...     {</span>
<span class="sd">        ...         &quot;Well&quot;: [&quot;A21&quot;, &quot;A3&quot;, &quot;A21&quot;, &quot;B2&quot;, &quot;B51&quot;, &quot;B12&quot;],</span>
<span class="sd">        ...         &quot;Value&quot;: [1, 2, 13, 3, 4, 7],</span>
<span class="sd">        ...     }</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">          Well  Value</span>
<span class="sd">        0  A21      1</span>
<span class="sd">        1   A3      2</span>
<span class="sd">        2  A21     13</span>
<span class="sd">        3   B2      3</span>
<span class="sd">        4  B51      4</span>
<span class="sd">        5  B12      7</span>
<span class="sd">        &gt;&gt;&gt; df.sort_naturally(&quot;Well&quot;)</span>
<span class="sd">          Well  Value</span>
<span class="sd">        1   A3      2</span>
<span class="sd">        0  A21      1</span>
<span class="sd">        2  A21     13</span>
<span class="sd">        3   B2      3</span>
<span class="sd">        5  B12      7</span>
<span class="sd">        4  B51      4</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: The column on which natural sorting should take place.</span>
<span class="sd">        **natsorted_kwargs: Keyword arguments to be passed</span>
<span class="sd">            to natsort&#39;s `natsorted` function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A sorted pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_order</span> <span class="o">=</span> <span class="n">index_natsorted</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="o">**</span><span class="n">natsorted_kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">new_order</span><span class="p">,</span> <span class="p">:]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.take_first" class="doc doc-heading">
            <code>take_first</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of take_first function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.take_first.take_first" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">take_first</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">subset</span><span class="p">,</span> <span class="n">by</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Take the first row within each group specified by <code>subset</code>.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b</span>
<span class="go">0  x  0</span>
<span class="go">1  x  1</span>
<span class="go">2  y  2</span>
<span class="go">3  y  3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">take_first</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="go">   a  b</span>
<span class="go">0  x  0</span>
<span class="go">2  y  2</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>subset</code>
            </td>
            <td>
                  <code>Union[Hashable, Iterable[Hashable]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column(s) defining the group.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>by</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column to sort by.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ascending</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to sort in ascending order, <code>bool</code>.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/take_first.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">take_first</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">subset</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Hashable</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Hashable</span><span class="p">]],</span>
    <span class="n">by</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">ascending</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Take the first row within each group specified by `subset`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [&quot;x&quot;, &quot;x&quot;, &quot;y&quot;, &quot;y&quot;], &quot;b&quot;: [0, 1, 2, 3]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b</span>
<span class="sd">        0  x  0</span>
<span class="sd">        1  x  1</span>
<span class="sd">        2  y  2</span>
<span class="sd">        3  y  3</span>
<span class="sd">        &gt;&gt;&gt; df.take_first(subset=&quot;a&quot;, by=&quot;b&quot;)</span>
<span class="sd">           a  b</span>
<span class="sd">        0  x  0</span>
<span class="sd">        2  y  2</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        subset: Column(s) defining the group.</span>
<span class="sd">        by: Column to sort by.</span>
<span class="sd">        ascending: Whether or not to sort in ascending order, `bool`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="n">by</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="n">ascending</span><span class="p">)</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span>
        <span class="n">subset</span><span class="o">=</span><span class="n">subset</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;first&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.then" class="doc doc-heading">
            <code>then</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>then</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.then.then" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">then</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add an arbitrary function to run in the <code>pyjanitor</code> method chain.</p>
<p>This method does not mutate the original DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>pd.DataFrame.pipe</code> instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>A trivial example using a lambda <code>func</code>.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">then</span><span class="p">(</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">   a   b</span>
<span class="go">0  2  14</span>
<span class="go">1  4  16</span>
<span class="go">2  6  18</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
                  <code>Callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function you would like to run in the method chain.
It should take one parameter and return one parameter, each being
the DataFrame object. After that, do whatever you want in the
middle. Go crazy.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/then.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
    <span class="s2">&quot;Kindly use `pd.DataFrame.pipe` instead.&quot;</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">then</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add an arbitrary function to run in the `pyjanitor` method chain.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `pd.DataFrame.pipe` instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        A trivial example using a lambda `func`.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; (pd.DataFrame({&quot;a&quot;: [1, 2, 3], &quot;b&quot;: [7, 8, 9]})</span>
<span class="sd">        ...  .then(lambda df: df * 2))</span>
<span class="sd">           a   b</span>
<span class="sd">        0  2  14</span>
<span class="sd">        1  4  16</span>
<span class="sd">        2  6  18</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        func: A function you would like to run in the method chain.</span>
<span class="sd">            It should take one parameter and return one parameter, each being</span>
<span class="sd">            the DataFrame object. After that, do whatever you want in the</span>
<span class="sd">            middle. Go crazy.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.to_datetime" class="doc doc-heading">
            <code>to_datetime</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation source for <code>to_datetime</code>.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.to_datetime.to_datetime" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert column to a datetime type, in-place.</p>
<p>Intended to be the method-chaining equivalent of:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<p>This method mutates the original DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <a class="autorefs autorefs-internal" href="#janitor.functions.transform_columns.transform_column"><code>jn.transform_column</code></a>
instead.</p>
</div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Converting a string column to datetime type with custom format.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;20200101&#39;</span><span class="p">,</span> <span class="s1">&#39;20200202&#39;</span><span class="p">,</span> <span class="s1">&#39;20200303&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">       date</span>
<span class="go">0  20200101</span>
<span class="go">1  20200202</span>
<span class="go">2  20200303</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">        date</span>
<span class="go">0 2020-01-01</span>
<span class="go">1 2020-02-02</span>
<span class="go">2 2020-03-03</span>
</code></pre></div>
        <p>Read the pandas documentation for <a href="https://pandas.pydata.org/docs/reference/api/pandas.to_datetime.html"><code>to_datetime</code></a> for more information.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Provide any kwargs that <code>pd.to_datetime</code> can take.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with updated datetime data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/to_datetime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">)</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `jn.transform_columns` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">to_datetime</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert column to a datetime type, in-place.</span>

<span class="sd">    Intended to be the method-chaining equivalent of:</span>

<span class="sd">    ```python</span>
<span class="sd">    df[column_name] = pd.to_datetime(df[column_name], **kwargs)</span>
<span class="sd">    ```</span>

<span class="sd">    This method mutates the original DataFrame.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use [`jn.transform_column`][janitor.functions.transform_columns.transform_column]</span>
<span class="sd">        instead.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Converting a string column to datetime type with custom format.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({&#39;date&#39;: [&#39;20200101&#39;, &#39;20200202&#39;, &#39;20200303&#39;]})</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">               date</span>
<span class="sd">        0  20200101</span>
<span class="sd">        1  20200202</span>
<span class="sd">        2  20200303</span>
<span class="sd">        &gt;&gt;&gt; df.to_datetime(&#39;date&#39;, format=&#39;%Y%m%d&#39;)</span>
<span class="sd">                date</span>
<span class="sd">        0 2020-01-01</span>
<span class="sd">        1 2020-02-02</span>
<span class="sd">        2 2020-03-03</span>

<span class="sd">    Read the pandas documentation for [`to_datetime`][pd_docs] for more information.</span>

<span class="sd">    [pd_docs]: https://pandas.pydata.org/docs/reference/api/pandas.to_datetime.html</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: Column name.</span>
<span class="sd">        **kwargs: Provide any kwargs that `pd.to_datetime` can take.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with updated datetime data.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.toset" class="doc doc-heading">
            <code>toset</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>toset</code> function.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.toset.toset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">toset</span><span class="p">(</span><span class="n">series</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Return a set of the values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will be deprecated in a 1.x release.
Please use <code>set(df[column])</code> instead.</p>
</div>
<p>These are each a scalar type, which is a Python scalar
(for str, int, float) or a pandas scalar
(for Timestamp/Timedelta/Interval/Period)</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">a    1</span>
<span class="go">b    2</span>
<span class="go">c    3</span>
<span class="go">d    5</span>
<span class="go">e    5</span>
<span class="go">dtype: int64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">toset</span><span class="p">()</span>
<span class="go">{1, 2, 3, 5}</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>series</code>
            </td>
            <td>
                  <code>Series</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>Set</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A set of values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/toset.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_series_method</span>
<span class="nd">@refactored_function</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;This function will be deprecated in a 1.x release. &quot;</span>
        <span class="s2">&quot;Please use `set(df[column])` instead.&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">toset</span><span class="p">(</span><span class="n">series</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a set of the values.</span>

<span class="sd">    !!!note</span>

<span class="sd">        This function will be deprecated in a 1.x release.</span>
<span class="sd">        Please use `set(df[column])` instead.</span>

<span class="sd">    These are each a scalar type, which is a Python scalar</span>
<span class="sd">    (for str, int, float) or a pandas scalar</span>
<span class="sd">    (for Timestamp/Timedelta/Interval/Period)</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; s = pd.Series([1, 2, 3, 5, 5], index=[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;])</span>
<span class="sd">        &gt;&gt;&gt; s</span>
<span class="sd">        a    1</span>
<span class="sd">        b    2</span>
<span class="sd">        c    3</span>
<span class="sd">        d    5</span>
<span class="sd">        e    5</span>
<span class="sd">        dtype: int64</span>
<span class="sd">        &gt;&gt;&gt; s.toset()</span>
<span class="sd">        {1, 2, 3, 5}</span>

<span class="sd">    Args:</span>
<span class="sd">        series: A pandas series.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A set of values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.transform_columns" class="doc doc-heading">
            <code>transform_columns</code>


</h2>

    <div class="doc doc-contents ">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.transform_columns.transform_column" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transform_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">dest_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">elementwise</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Transform the given column using the provided function.</p>
<p>Meant to be the method-chaining equivalent of:
<div class="highlight"><pre><span></span><code><span class="n">df</span><span class="p">[</span><span class="n">dest_column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
</code></pre></div></p>
<p>Functions can be applied in one of two ways:</p>
<ul>
<li><strong>Element-wise</strong> (default; <code>elementwise=True</code>). Then, the individual
column elements will be passed in as the first argument of <code>function</code>.</li>
<li><strong>Column-wise</strong> (<code>elementwise=False</code>). Then, <code>function</code> is expected to
take in a pandas Series and return a sequence that is of identical length
to the original.</li>
</ul>
<p>If <code>dest_column_name</code> is provided, then the transformation result is stored
in that column. Otherwise, the transformed result is stored under the name
of the original column.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Transform a column in-place with an element-wise function.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;area&quot;</span><span class="p">,</span> <span class="s2">&quot;pyjanitor&quot;</span><span class="p">,</span> <span class="s2">&quot;grapefruit&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a           b</span>
<span class="go">0  2        area</span>
<span class="go">1  3   pyjanitor</span>
<span class="go">2  4  grapefruit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">transform_column</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">function</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">    a           b</span>
<span class="go">0   3        area</span>
<span class="go">1   8   pyjanitor</span>
<span class="go">2  15  grapefruit</span>
</code></pre></div>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Transform a column in-place with an column-wise function.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">transform_column</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">function</span><span class="o">=</span><span class="k">lambda</span> <span class="n">srs</span><span class="p">:</span> <span class="n">srs</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">elementwise</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   a      b</span>
<span class="go">0  2   area</span>
<span class="go">1  3  pyjan</span>
<span class="go">2  4  grape</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column to transform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td>
                  <code>Callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function to apply on the column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dest_column_name</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name to store the transformation result
in. Defaults to None, which will result in the original column
name being overwritten. If a name is provided here, then a new
column with the transformed values will be created.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>elementwise</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to apply the function elementwise or not.
If <code>elementwise</code> is True, then the function's first argument
should be the data type of each datum in the column of data,
and should return a transformed datum.
If <code>elementwise</code> is False, then the function's should expect
a pandas Series passed into it, and return a pandas Series.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with a transformed column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/transform_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">col_name</span><span class="o">=</span><span class="s2">&quot;column_name&quot;</span><span class="p">,</span> <span class="n">dest_col_name</span><span class="o">=</span><span class="s2">&quot;dest_column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">transform_column</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
    <span class="n">dest_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">elementwise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transform the given column using the provided function.</span>

<span class="sd">    Meant to be the method-chaining equivalent of:</span>
<span class="sd">    ```python</span>
<span class="sd">    df[dest_column_name] = df[column_name].apply(function)</span>
<span class="sd">    ```</span>

<span class="sd">    Functions can be applied in one of two ways:</span>

<span class="sd">    - **Element-wise** (default; `elementwise=True`). Then, the individual</span>
<span class="sd">    column elements will be passed in as the first argument of `function`.</span>
<span class="sd">    - **Column-wise** (`elementwise=False`). Then, `function` is expected to</span>
<span class="sd">    take in a pandas Series and return a sequence that is of identical length</span>
<span class="sd">    to the original.</span>

<span class="sd">    If `dest_column_name` is provided, then the transformation result is stored</span>
<span class="sd">    in that column. Otherwise, the transformed result is stored under the name</span>
<span class="sd">    of the original column.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Transform a column in-place with an element-wise function.</span>

<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;a&quot;: [2, 3, 4],</span>
<span class="sd">        ...     &quot;b&quot;: [&quot;area&quot;, &quot;pyjanitor&quot;, &quot;grapefruit&quot;],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a           b</span>
<span class="sd">        0  2        area</span>
<span class="sd">        1  3   pyjanitor</span>
<span class="sd">        2  4  grapefruit</span>
<span class="sd">        &gt;&gt;&gt; df.transform_column(</span>
<span class="sd">        ...     column_name=&quot;a&quot;,</span>
<span class="sd">        ...     function=lambda x: x**2 - 1,</span>
<span class="sd">        ... )</span>
<span class="sd">            a           b</span>
<span class="sd">        0   3        area</span>
<span class="sd">        1   8   pyjanitor</span>
<span class="sd">        2  15  grapefruit</span>

<span class="sd">    Examples:</span>
<span class="sd">        Transform a column in-place with an column-wise function.</span>

<span class="sd">        &gt;&gt;&gt; df.transform_column(</span>
<span class="sd">        ...     column_name=&quot;b&quot;,</span>
<span class="sd">        ...     function=lambda srs: srs.str[:5],</span>
<span class="sd">        ...     elementwise=False,</span>
<span class="sd">        ... )</span>
<span class="sd">           a      b</span>
<span class="sd">        0  2   area</span>
<span class="sd">        1  3  pyjan</span>
<span class="sd">        2  4  grape</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_name: The column to transform.</span>
<span class="sd">        function: A function to apply on the column.</span>
<span class="sd">        dest_column_name: The column name to store the transformation result</span>
<span class="sd">            in. Defaults to None, which will result in the original column</span>
<span class="sd">            name being overwritten. If a name is provided here, then a new</span>
<span class="sd">            column with the transformed values will be created.</span>
<span class="sd">        elementwise: Whether to apply the function elementwise or not.</span>
<span class="sd">            If `elementwise` is True, then the function&#39;s first argument</span>
<span class="sd">            should be the data type of each datum in the column of data,</span>
<span class="sd">            and should return a transformed datum.</span>
<span class="sd">            If `elementwise` is False, then the function&#39;s should expect</span>
<span class="sd">            a pandas Series passed into it, and return a pandas Series.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with a transformed column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">dest_column_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">dest_column_name</span> <span class="o">=</span> <span class="n">column_name</span>
    <span class="k">elif</span> <span class="n">dest_column_name</span> <span class="o">!=</span> <span class="n">column_name</span><span class="p">:</span>
        <span class="c1"># If `dest_column_name` is provided and equals `column_name`, then we</span>
        <span class="c1"># assume that the user&#39;s intent is to perform an in-place</span>
        <span class="c1"># transformation (Same behaviour as when `dest_column_name` = None).</span>
        <span class="c1"># Otherwise we throw an error if `dest_column_name` already exists in</span>
        <span class="c1"># df.</span>
        <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">dest_column_name</span><span class="p">,</span> <span class="n">present</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">_get_transform_column_result</span><span class="p">(</span>
        <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span>
        <span class="n">function</span><span class="p">,</span>
        <span class="n">elementwise</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">dest_column_name</span><span class="p">:</span> <span class="n">result</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.transform_columns.transform_columns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transform_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">elementwise</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">new_column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Transform multiple columns through the same transformation.</p>
<p>This method does not mutate the original DataFrame.</p>
<p>Super syntactic sugar!
Essentially wraps <a class="autorefs autorefs-internal" href="#janitor.functions.transform_columns.transform_column"><code>transform_column</code></a>
and calls it repeatedly over all column names provided.</p>
<p>User can optionally supply either a suffix to create a new set of columns
with the specified suffix, or provide a dictionary mapping each original
column name in <code>column_names</code> to its corresponding new column name.
Note that all column names must be strings.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>log10 transform a list of columns, replacing original columns.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;col2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;col3&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1_000</span><span class="p">],</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   col1  col2  col3</span>
<span class="go">0     5     3    10</span>
<span class="go">1    10     6   100</span>
<span class="go">2    15     9  1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">transform_columns</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col3&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">)</span>
<span class="go">       col1      col2  col3</span>
<span class="go">0  0.698970  0.477121   1.0</span>
<span class="go">1  1.000000  0.778151   2.0</span>
<span class="go">2  1.176091  0.954243   3.0</span>
</code></pre></div>
    <p>Using the <code>suffix</code> parameter to create new columns.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">transform_columns</span><span class="p">([</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col3&quot;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;_log&quot;</span><span class="p">)</span>
<span class="go">   col1  col2  col3  col1_log  col3_log</span>
<span class="go">0     5     3    10  0.698970       1.0</span>
<span class="go">1    10     6   100  1.000000       2.0</span>
<span class="go">2    15     9  1000  1.176091       3.0</span>
</code></pre></div>
    <p>Using the <code>new_column_names</code> parameter to create new columns.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">transform_columns</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col3&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">new_column_names</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="s2">&quot;transform1&quot;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   col1  col2  col3  transform1</span>
<span class="go">0     5     3   1.0    0.698970</span>
<span class="go">1    10     6   2.0    1.000000</span>
<span class="go">2    15     9   3.0    1.176091</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Union[List[str], Tuple[str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An iterable of columns to transform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td>
                  <code>Callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function to apply on each column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>suffix</code>
            </td>
            <td>
                  <code>Optional[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Suffix to use when creating new columns to hold
the transformed values.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>elementwise</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Passed on to <a class="autorefs autorefs-internal" href="#janitor.functions.transform_columns.transform_column"><code>transform_column</code></a>; whether or not
to apply the transformation function elementwise (True)
or columnwise (False).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_column_names</code>
            </td>
            <td>
                  <code>Optional[Dict[str, str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An explicit mapping of old column names in
<code>column_names</code> to new column names. If any column specified in
<code>column_names</code> is not a key in this dictionary, the transformation
will happen in-place for that column.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If both <code>suffix</code> and <code>new_column_names</code> are specified.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with transformed columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/transform_columns.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;column_names&quot;</span><span class="p">,</span> <span class="n">new_names</span><span class="o">=</span><span class="s2">&quot;new_column_names&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">transform_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
    <span class="n">suffix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">elementwise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">new_column_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transform multiple columns through the same transformation.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Super syntactic sugar!</span>
<span class="sd">    Essentially wraps [`transform_column`][janitor.functions.transform_columns.transform_column]</span>
<span class="sd">    and calls it repeatedly over all column names provided.</span>

<span class="sd">    User can optionally supply either a suffix to create a new set of columns</span>
<span class="sd">    with the specified suffix, or provide a dictionary mapping each original</span>
<span class="sd">    column name in `column_names` to its corresponding new column name.</span>
<span class="sd">    Note that all column names must be strings.</span>

<span class="sd">    Examples:</span>
<span class="sd">        log10 transform a list of columns, replacing original columns.</span>

<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;col1&quot;: [5, 10, 15],</span>
<span class="sd">        ...     &quot;col2&quot;: [3, 6, 9],</span>
<span class="sd">        ...     &quot;col3&quot;: [10, 100, 1_000],</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           col1  col2  col3</span>
<span class="sd">        0     5     3    10</span>
<span class="sd">        1    10     6   100</span>
<span class="sd">        2    15     9  1000</span>
<span class="sd">        &gt;&gt;&gt; df.transform_columns([&quot;col1&quot;, &quot;col2&quot;, &quot;col3&quot;], np.log10)</span>
<span class="sd">               col1      col2  col3</span>
<span class="sd">        0  0.698970  0.477121   1.0</span>
<span class="sd">        1  1.000000  0.778151   2.0</span>
<span class="sd">        2  1.176091  0.954243   3.0</span>

<span class="sd">        Using the `suffix` parameter to create new columns.</span>

<span class="sd">        &gt;&gt;&gt; df.transform_columns([&quot;col1&quot;, &quot;col3&quot;], np.log10, suffix=&quot;_log&quot;)</span>
<span class="sd">           col1  col2  col3  col1_log  col3_log</span>
<span class="sd">        0     5     3    10  0.698970       1.0</span>
<span class="sd">        1    10     6   100  1.000000       2.0</span>
<span class="sd">        2    15     9  1000  1.176091       3.0</span>

<span class="sd">        Using the `new_column_names` parameter to create new columns.</span>

<span class="sd">        &gt;&gt;&gt; df.transform_columns(</span>
<span class="sd">        ...     [&quot;col1&quot;, &quot;col3&quot;],</span>
<span class="sd">        ...     np.log10,</span>
<span class="sd">        ...     new_column_names={&quot;col1&quot;: &quot;transform1&quot;},</span>
<span class="sd">        ... )</span>
<span class="sd">           col1  col2  col3  transform1</span>
<span class="sd">        0     5     3   1.0    0.698970</span>
<span class="sd">        1    10     6   2.0    1.000000</span>
<span class="sd">        2    15     9   3.0    1.176091</span>

<span class="sd">    Args:</span>
<span class="sd">        df: A pandas DataFrame.</span>
<span class="sd">        column_names: An iterable of columns to transform.</span>
<span class="sd">        function: A function to apply on each column.</span>
<span class="sd">        suffix: Suffix to use when creating new columns to hold</span>
<span class="sd">            the transformed values.</span>
<span class="sd">        elementwise: Passed on to [`transform_column`][janitor.functions.transform_columns.transform_column]; whether or not</span>
<span class="sd">            to apply the transformation function elementwise (True)</span>
<span class="sd">            or columnwise (False).</span>
<span class="sd">        new_column_names: An explicit mapping of old column names in</span>
<span class="sd">            `column_names` to new column names. If any column specified in</span>
<span class="sd">            `column_names` is not a key in this dictionary, the transformation</span>
<span class="sd">            will happen in-place for that column.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If both `suffix` and `new_column_names` are specified.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with transformed columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;column_names&quot;</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">])</span>
    <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">column_names</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">suffix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">new_column_names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Only one of `suffix` or `new_column_names` should be specified.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">suffix</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;suffix&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">])</span>
        <span class="n">dest_column_names</span> <span class="o">=</span> <span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="n">col</span> <span class="o">+</span> <span class="n">suffix</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">column_names</span><span class="p">}</span>
    <span class="k">elif</span> <span class="n">new_column_names</span><span class="p">:</span>
        <span class="n">check</span><span class="p">(</span><span class="s2">&quot;new_column_names&quot;</span><span class="p">,</span> <span class="n">new_column_names</span><span class="p">,</span> <span class="p">[</span><span class="nb">dict</span><span class="p">])</span>
        <span class="n">dest_column_names</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">col</span><span class="p">:</span> <span class="n">new_column_names</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">column_names</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dest_column_names</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">column_names</span><span class="p">))</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">old_col</span><span class="p">,</span> <span class="n">new_col</span> <span class="ow">in</span> <span class="n">dest_column_names</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">old_col</span> <span class="o">!=</span> <span class="n">new_col</span><span class="p">:</span>
            <span class="n">check_column</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">new_col</span><span class="p">,</span> <span class="n">present</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="n">new_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">_get_transform_column_result</span><span class="p">(</span>
            <span class="n">df</span><span class="p">[</span><span class="n">old_col</span><span class="p">],</span>
            <span class="n">function</span><span class="p">,</span>
            <span class="n">elementwise</span><span class="o">=</span><span class="n">elementwise</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">results</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.truncate_datetime" class="doc doc-heading">
            <code>truncate_datetime</code>


</h2>

    <div class="doc doc-contents ">

        <p>Implementation of the <code>truncate_datetime</code> family of functions.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.truncate_datetime.truncate_datetime_dataframe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">truncate_datetime_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">datepart</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Truncate times down to a user-specified precision of
year, month, day, hour, minute, or second.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;xxxx&quot;</span><span class="p">,</span> <span class="s2">&quot;yyyy&quot;</span><span class="p">,</span> <span class="s2">&quot;zzzz&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;dt&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2020-03-11&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;15H&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    foo                  dt</span>
<span class="go">0  xxxx 2020-03-11 00:00:00</span>
<span class="go">1  yyyy 2020-03-11 15:00:00</span>
<span class="go">2  zzzz 2020-03-12 06:00:00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">truncate_datetime_dataframe</span><span class="p">(</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
<span class="go">    foo         dt</span>
<span class="go">0  xxxx 2020-03-11</span>
<span class="go">1  yyyy 2020-03-11</span>
<span class="go">2  zzzz 2020-03-12</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame on which to truncate datetime.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>datepart</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Truncation precision, YEAR, MONTH, DAY,
HOUR, MINUTE, SECOND. (String is automagically
capitalized)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If an invalid <code>datepart</code> precision is passed in.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame with all valid datetimes truncated down
to the specified precision.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/truncate_datetime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="k">def</span> <span class="nf">truncate_datetime_dataframe</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">datepart</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Truncate times down to a user-specified precision of</span>
<span class="sd">    year, month, day, hour, minute, or second.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import pandas as pd</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">        ...     &quot;foo&quot;: [&quot;xxxx&quot;, &quot;yyyy&quot;, &quot;zzzz&quot;],</span>
<span class="sd">        ...     &quot;dt&quot;: pd.date_range(&quot;2020-03-11&quot;, periods=3, freq=&quot;15H&quot;),</span>
<span class="sd">        ... })</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">            foo                  dt</span>
<span class="sd">        0  xxxx 2020-03-11 00:00:00</span>
<span class="sd">        1  yyyy 2020-03-11 15:00:00</span>
<span class="sd">        2  zzzz 2020-03-12 06:00:00</span>
<span class="sd">        &gt;&gt;&gt; df.truncate_datetime_dataframe(&quot;day&quot;)</span>
<span class="sd">            foo         dt</span>
<span class="sd">        0  xxxx 2020-03-11</span>
<span class="sd">        1  yyyy 2020-03-11</span>
<span class="sd">        2  zzzz 2020-03-12</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame on which to truncate datetime.</span>
<span class="sd">        datepart: Truncation precision, YEAR, MONTH, DAY,</span>
<span class="sd">            HOUR, MINUTE, SECOND. (String is automagically</span>
<span class="sd">            capitalized)</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If an invalid `datepart` precision is passed in.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame with all valid datetimes truncated down</span>
<span class="sd">            to the specified precision.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># idea from Stack Overflow</span>
    <span class="c1"># https://stackoverflow.com/a/28783971/7175713</span>
    <span class="c1"># https://numpy.org/doc/stable/reference/arrays.datetime.html</span>
    <span class="n">ACCEPTABLE_DATEPARTS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;YEAR&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime64[Y]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MONTH&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime64[M]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DAY&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime64[D]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;HOUR&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime64[h]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MINUTE&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime64[m]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SECOND&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime64[s]&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">datepart</span> <span class="o">=</span> <span class="n">datepart</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">datepart</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ACCEPTABLE_DATEPARTS</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Received an invalid `datepart` precision. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Please enter any one of </span><span class="si">{</span><span class="n">ACCEPTABLE_DATEPARTS</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">is_datetime64_any_dtype</span><span class="p">(</span><span class="n">series</span><span class="p">):</span>
            <span class="n">dtype</span> <span class="o">=</span> <span class="n">ACCEPTABLE_DATEPARTS</span><span class="p">[</span><span class="n">datepart</span><span class="p">]</span>
            <span class="c1"># TODO: add branch for pyarrow arrays</span>
            <span class="n">series</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">_values</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">)</span>
        <span class="n">dictionary</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">series</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.update_where" class="doc doc-heading">
            <code>update_where</code>


</h2>

    <div class="doc doc-contents ">

        <p>Function for updating values based on other column values.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.update_where.update_where" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_where</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">conditions</span><span class="p">,</span> <span class="n">target_column_name</span><span class="p">,</span> <span class="n">target_val</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add multiple conditions to update a column in the dataframe.</p>
<p>This method does not mutate the original DataFrame.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">janitor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   a  b  c</span>
<span class="go">0  1  5  0</span>
<span class="go">1  2  6  0</span>
<span class="go">2  3  7  0</span>
<span class="go">3  4  8  0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">update_where</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">conditions</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">b</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">... </span>   <span class="n">target_column_name</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">target_val</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   a  b   c</span>
<span class="go">0  1  5   0</span>
<span class="go">1  2  6   0</span>
<span class="go">2  3  7  10</span>
<span class="go">3  4  8   0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">update_where</span><span class="p">(</span> <span class="c1"># supports pandas *query* style string expressions</span>
<span class="gp">... </span>   <span class="n">conditions</span> <span class="o">=</span> <span class="s2">&quot;a &gt; 2 and b &lt; 8&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">target_column_name</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">target_val</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">   a  b   c</span>
<span class="go">0  1  5   0</span>
<span class="go">1  2  6   0</span>
<span class="go">2  3  7  10</span>
<span class="go">3  4  8   0</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pandas DataFrame object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conditions</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Conditions used to update a target column
and target value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_column_name</code>
            </td>
            <td>
                  <code>Hashable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column to be updated. If column does not exist
in DataFrame, a new column will be created; note that entries
that do not get set in the new column will be null.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_val</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Value to be updated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>conditions</code> does not return a boolean array-like
data structure.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/update_where.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@pf</span><span class="o">.</span><span class="n">register_dataframe_method</span>
<span class="nd">@deprecated_alias</span><span class="p">(</span><span class="n">target_col</span><span class="o">=</span><span class="s2">&quot;target_column_name&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">update_where</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">conditions</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">target_column_name</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">,</span>
    <span class="n">target_val</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add multiple conditions to update a column in the dataframe.</span>

<span class="sd">    This method does not mutate the original DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import janitor</span>
<span class="sd">        &gt;&gt;&gt; data = {</span>
<span class="sd">        ...    &quot;a&quot;: [1, 2, 3, 4],</span>
<span class="sd">        ...    &quot;b&quot;: [5, 6, 7, 8],</span>
<span class="sd">        ...    &quot;c&quot;: [0, 0, 0, 0],</span>
<span class="sd">        ... }</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data)</span>
<span class="sd">        &gt;&gt;&gt; df</span>
<span class="sd">           a  b  c</span>
<span class="sd">        0  1  5  0</span>
<span class="sd">        1  2  6  0</span>
<span class="sd">        2  3  7  0</span>
<span class="sd">        3  4  8  0</span>
<span class="sd">        &gt;&gt;&gt; df.update_where(</span>
<span class="sd">        ...    conditions = (df.a &gt; 2) &amp; (df.b &lt; 8),</span>
<span class="sd">        ...    target_column_name = &#39;c&#39;,</span>
<span class="sd">        ...    target_val = 10</span>
<span class="sd">        ... )</span>
<span class="sd">           a  b   c</span>
<span class="sd">        0  1  5   0</span>
<span class="sd">        1  2  6   0</span>
<span class="sd">        2  3  7  10</span>
<span class="sd">        3  4  8   0</span>
<span class="sd">        &gt;&gt;&gt; df.update_where( # supports pandas *query* style string expressions</span>
<span class="sd">        ...    conditions = &quot;a &gt; 2 and b &lt; 8&quot;,</span>
<span class="sd">        ...    target_column_name = &#39;c&#39;,</span>
<span class="sd">        ...    target_val = 10</span>
<span class="sd">        ... )</span>
<span class="sd">           a  b   c</span>
<span class="sd">        0  1  5   0</span>
<span class="sd">        1  2  6   0</span>
<span class="sd">        2  3  7  10</span>
<span class="sd">        3  4  8   0</span>

<span class="sd">    Args:</span>
<span class="sd">        df: The pandas DataFrame object.</span>
<span class="sd">        conditions: Conditions used to update a target column</span>
<span class="sd">            and target value.</span>
<span class="sd">        target_column_name: Column to be updated. If column does not exist</span>
<span class="sd">            in DataFrame, a new column will be created; note that entries</span>
<span class="sd">            that do not get set in the new column will be null.</span>
<span class="sd">        target_val: Value to be updated.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `conditions` does not return a boolean array-like</span>
<span class="sd">            data structure.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># use query mode if a string expression is passed</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">conditions</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">conditions</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_bool_dtype</span><span class="p">(</span><span class="n">conditions</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Kindly ensure that `conditions` passed</span>
<span class="sd">            evaluates to a Boolean dtype.</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="p">)</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">conditions</span><span class="p">,</span> <span class="n">target_column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">target_val</span>

    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="janitor.functions.utils" class="doc doc-heading">
            <code>utils</code>


</h2>

    <div class="doc doc-contents ">

        <p>Utility functions for all of the functions submodule.</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="janitor.functions.utils.patterns" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">patterns</span><span class="p">(</span><span class="n">regex_pattern</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>This function converts a string into a compiled regular expression.</p>
<p>It can be used to select columns in the index or columns_names
arguments of <code>pivot_longer</code> function.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function is deprecated. Kindly use <code>re.compile</code> instead.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>regex_pattern</code>
            </td>
            <td>
                  <code>Union[str, Pattern]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String to be converted to compiled regular
expression.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>Pattern</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A compile regular expression from provided <code>regex_pattern</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">patterns</span><span class="p">(</span><span class="n">regex_pattern</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Pattern</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function converts a string into a compiled regular expression.</span>

<span class="sd">    It can be used to select columns in the index or columns_names</span>
<span class="sd">    arguments of `pivot_longer` function.</span>

<span class="sd">    !!!warning</span>

<span class="sd">        This function is deprecated. Kindly use `re.compile` instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        regex_pattern: String to be converted to compiled regular</span>
<span class="sd">            expression.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A compile regular expression from provided `regex_pattern`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;This function is deprecated. Kindly use `re.compile` instead.&quot;</span><span class="p">,</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="n">stacklevel</span><span class="o">=</span><span class="n">find_stack_level</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="n">check</span><span class="p">(</span><span class="s2">&quot;regular expression&quot;</span><span class="p">,</span> <span class="n">regex_pattern</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">regex_pattern</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="janitor.functions.utils.unionize_dataframe_categories" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">unionize_dataframe_categories</span><span class="p">(</span><span class="o">*</span><span class="n">dataframes</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Given a group of dataframes which contain some categorical columns, for
each categorical column present, find all the possible categories across
all the dataframes which have that column.
Update each dataframes' corresponding column with a new categorical object
that contains the original data
but has labels for all the possible categories from all dataframes.
This is useful when concatenating a list of dataframes which all have the
same categorical columns into one dataframe.</p>
<p>If, for a given categorical column, all input dataframes do not have at
least one instance of all the possible categories,
Pandas will change the output dtype of that column from <code>category</code> to
<code>object</code>, losing out on dramatic speed gains you get from the former
format.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Usage example for concatenation of categorical column-containing
dataframes:</p>
<p>Instead of:</p>
<div class="highlight"><pre><span></span><code><span class="n">concatenated_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df3</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<p>which in your case has resulted in <code>category</code> -&gt; <code>object</code> conversion,
use:</p>
<div class="highlight"><pre><span></span><code><span class="n">unionized_dataframes</span> <span class="o">=</span> <span class="n">unionize_dataframe_categories</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df2</span><span class="p">)</span>
<span class="n">concatenated_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">unionized_dataframes</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*dataframes</code>
            </td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dataframes you wish to unionize the categorical
objects for.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>column_names</code>
            </td>
            <td>
                  <code>Optional[Iterable[CategoricalDtype]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If supplied, only unionize this subset of columns.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If any of the inputs are not pandas DataFrames.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>List[DataFrame]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of the category-unioned dataframes in the same order they
were provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>janitor/functions/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">unionize_dataframe_categories</span><span class="p">(</span>
    <span class="o">*</span><span class="n">dataframes</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">column_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a group of dataframes which contain some categorical columns, for</span>
<span class="sd">    each categorical column present, find all the possible categories across</span>
<span class="sd">    all the dataframes which have that column.</span>
<span class="sd">    Update each dataframes&#39; corresponding column with a new categorical object</span>
<span class="sd">    that contains the original data</span>
<span class="sd">    but has labels for all the possible categories from all dataframes.</span>
<span class="sd">    This is useful when concatenating a list of dataframes which all have the</span>
<span class="sd">    same categorical columns into one dataframe.</span>

<span class="sd">    If, for a given categorical column, all input dataframes do not have at</span>
<span class="sd">    least one instance of all the possible categories,</span>
<span class="sd">    Pandas will change the output dtype of that column from `category` to</span>
<span class="sd">    `object`, losing out on dramatic speed gains you get from the former</span>
<span class="sd">    format.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Usage example for concatenation of categorical column-containing</span>
<span class="sd">        dataframes:</span>

<span class="sd">        Instead of:</span>

<span class="sd">        ```python</span>
<span class="sd">        concatenated_df = pd.concat([df1, df2, df3], ignore_index=True)</span>
<span class="sd">        ```</span>

<span class="sd">        which in your case has resulted in `category` -&gt; `object` conversion,</span>
<span class="sd">        use:</span>

<span class="sd">        ```python</span>
<span class="sd">        unionized_dataframes = unionize_dataframe_categories(df1, df2, df2)</span>
<span class="sd">        concatenated_df = pd.concat(unionized_dataframes, ignore_index=True)</span>
<span class="sd">        ```</span>

<span class="sd">    Args:</span>
<span class="sd">        *dataframes: The dataframes you wish to unionize the categorical</span>
<span class="sd">            objects for.</span>
<span class="sd">        column_names: If supplied, only unionize this subset of columns.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If any of the inputs are not pandas DataFrames.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of the category-unioned dataframes in the same order they</span>
<span class="sd">            were provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">dataframes</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Inputs must all be dataframes.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">column_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Find all columns across all dataframes that are categorical</span>

        <span class="n">column_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">dataframe</span> <span class="ow">in</span> <span class="n">dataframes</span><span class="p">:</span>
            <span class="n">column_names</span> <span class="o">=</span> <span class="n">column_names</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">column_name</span>
                    <span class="k">for</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
                        <span class="n">dataframe</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">CategoricalDtype</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">column_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">column_names</span><span class="p">]</span>
    <span class="c1"># For each categorical column, find all possible values across the DFs</span>

    <span class="n">category_unions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">column_name</span><span class="p">:</span> <span class="n">union_categoricals</span><span class="p">(</span>
            <span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">dataframes</span> <span class="k">if</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">column_names</span>
    <span class="p">}</span>

    <span class="c1"># Make a shallow copy of all DFs and modify the categorical columns</span>
    <span class="c1"># such that they can encode the union of all possible categories for each.</span>

    <span class="n">refactored_dfs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">dataframes</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">categorical</span> <span class="ow">in</span> <span class="n">category_unions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span>
                    <span class="n">df</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="n">categorical</span><span class="o">.</span><span class="n">categories</span>
                <span class="p">)</span>

        <span class="n">refactored_dfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">refactored_dfs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.top", "toc.follow", "content.code.copy"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>