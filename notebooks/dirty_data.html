
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Processing Dirty Data &#8212; pyjanitor  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "math|output_area"}}</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Expand_grid : Create a dataframe from all combinations of inputs." href="expand_grid.html" />
    <link rel="prev" title="Processing Board Game Data" href="board_games.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Processing-Dirty-Data">
<h1>Processing Dirty Data<a class="headerlink" href="#Processing-Dirty-Data" title="Permalink to this headline">¶</a></h1>
<section id="Background">
<h2>Background<a class="headerlink" href="#Background" title="Permalink to this headline">¶</a></h2>
<p>This is fake data generated to demonstrate the capabilities of <code class="docutils literal notranslate"><span class="pre">pyjanitor</span></code>. It contains a bunch of common problems that we regularly encounter when working with data. Let’s go fix it!</p>
<section id="Load-Packages">
<h3>Load Packages<a class="headerlink" href="#Load-Packages" title="Permalink to this headline">¶</a></h3>
<p>Importing <code class="docutils literal notranslate"><span class="pre">pyjanitor</span></code> is all that’s needed to give Pandas Dataframes extra methods to work with your data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">janitor</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Load-Data">
<h2>Load Data<a class="headerlink" href="#Load-Data" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;dirty_data.xlsx&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;openpyxl&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Employee Status</th>
      <th>Subject</th>
      <th>Hire Date</th>
      <th>% Allocated</th>
      <th>Full time?</th>
      <th>do not edit! ---&gt;</th>
      <th>Certification</th>
      <th>Certification.1</th>
      <th>Certification.2</th>
      <th>Unnamed: 11</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>PE</td>
      <td>39690.0</td>
      <td>0.75</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>Physical ed</td>
      <td>Theater</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>Drafting</td>
      <td>39690.0</td>
      <td>0.25</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>Physical ed</td>
      <td>Theater</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Alicia</td>
      <td>Keys</td>
      <td>Teacher</td>
      <td>Music</td>
      <td>37118.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>Instr. music</td>
      <td>Vocal music</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ada</td>
      <td>Lovelace</td>
      <td>Teacher</td>
      <td>NaN</td>
      <td>27515.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>PENDING</td>
      <td>Computers</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Desus</td>
      <td>Nice</td>
      <td>Administration</td>
      <td>Dean</td>
      <td>41431.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>PENDING</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Physics</td>
      <td>11037.0</td>
      <td>0.50</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>Science 6-12</td>
      <td>Physics</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Chemistry</td>
      <td>11037.0</td>
      <td>0.50</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>Science 6-12</td>
      <td>Physics</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>James</td>
      <td>Joyce</td>
      <td>Teacher</td>
      <td>English</td>
      <td>32994.0</td>
      <td>0.50</td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>English 6-12</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Hedy</td>
      <td>Lamarr</td>
      <td>Teacher</td>
      <td>Science</td>
      <td>27919.0</td>
      <td>0.50</td>
      <td>No</td>
      <td>NaN</td>
      <td>PENDING</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Carlos</td>
      <td>Boozer</td>
      <td>Coach</td>
      <td>Basketball</td>
      <td>42221.0</td>
      <td>NaN</td>
      <td>No</td>
      <td>NaN</td>
      <td>Physical ed</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Young</td>
      <td>Boozer</td>
      <td>Coach</td>
      <td>NaN</td>
      <td>34700.0</td>
      <td>NaN</td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Political sci.</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Micheal</td>
      <td>Larsen</td>
      <td>Teacher</td>
      <td>English</td>
      <td>40071.0</td>
      <td>0.80</td>
      <td>No</td>
      <td>NaN</td>
      <td>Vocal music</td>
      <td>English</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>15</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Cleaning-Column-Names">
<h2>Cleaning Column Names<a class="headerlink" href="#Cleaning-Column-Names" title="Permalink to this headline">¶</a></h2>
<p>There are a bunch of problems with this data. Firstly, the column names are not lowercase, and they have spaces. This will make it cumbersome to use in a programmatic function. To solve this, we can use the <code class="docutils literal notranslate"><span class="pre">clean_names()</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_clean</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">clean_names</span><span class="p">()</span>
<span class="n">df_clean</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>employee_status</th>
      <th>subject</th>
      <th>hire_date</th>
      <th>%_allocated</th>
      <th>full_time_</th>
      <th>do_not_edit!_&gt;</th>
      <th>certification</th>
      <th>certification_1</th>
      <th>certification_2</th>
      <th>unnamed_11</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>PE</td>
      <td>39690.0</td>
      <td>0.75</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>Physical ed</td>
      <td>Theater</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>Drafting</td>
      <td>39690.0</td>
      <td>0.25</td>
      <td>Yes</td>
      <td>NaN</td>
      <td>Physical ed</td>
      <td>Theater</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Notice now how the column names have been made better.</p>
<p>If you squint at the unclean dataset, you’ll notice one row and one column of data that are missing. We can also fix this! Building on top of the code block from above, let’s now remove those empty columns using the <code class="docutils literal notranslate"><span class="pre">remove_empty()</span></code> method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_clean</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">clean_names</span><span class="p">()</span><span class="o">.</span><span class="n">remove_empty</span><span class="p">()</span>
<span class="n">df_clean</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>employee_status</th>
      <th>subject</th>
      <th>hire_date</th>
      <th>%_allocated</th>
      <th>full_time_</th>
      <th>certification</th>
      <th>certification_1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Physics</td>
      <td>11037.0</td>
      <td>0.5</td>
      <td>Yes</td>
      <td>Science 6-12</td>
      <td>Physics</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Chemistry</td>
      <td>11037.0</td>
      <td>0.5</td>
      <td>Yes</td>
      <td>Science 6-12</td>
      <td>Physics</td>
    </tr>
    <tr>
      <th>7</th>
      <td>James</td>
      <td>Joyce</td>
      <td>Teacher</td>
      <td>English</td>
      <td>32994.0</td>
      <td>0.5</td>
      <td>No</td>
      <td>NaN</td>
      <td>English 6-12</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Hedy</td>
      <td>Lamarr</td>
      <td>Teacher</td>
      <td>Science</td>
      <td>27919.0</td>
      <td>0.5</td>
      <td>No</td>
      <td>PENDING</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Now this is starting to shape up well!</p>
</section>
<section id="Renaming-Individual-Columns">
<h2>Renaming Individual Columns<a class="headerlink" href="#Renaming-Individual-Columns" title="Permalink to this headline">¶</a></h2>
<p>Next, let’s rename some of the columns. <code class="docutils literal notranslate"><span class="pre">%_allocated</span></code> and <code class="docutils literal notranslate"><span class="pre">full_time?</span></code> contain non-alphanumeric characters, so they make it a bit harder to use. We can rename them using the :py:meth:<code class="docutils literal notranslate"><span class="pre">rename_column()</span></code> method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_clean</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span>
    <span class="o">.</span><span class="n">clean_names</span><span class="p">()</span>
    <span class="o">.</span><span class="n">remove_empty</span><span class="p">()</span>
    <span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s2">&quot;%_allocated&quot;</span><span class="p">,</span> <span class="s2">&quot;percent_allocated&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s2">&quot;full_time_&quot;</span><span class="p">,</span> <span class="s2">&quot;full_time&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">df_clean</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>employee_status</th>
      <th>subject</th>
      <th>hire_date</th>
      <th>percent_allocated</th>
      <th>full_time</th>
      <th>certification</th>
      <th>certification_1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>PE</td>
      <td>39690.0</td>
      <td>0.75</td>
      <td>Yes</td>
      <td>Physical ed</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>Drafting</td>
      <td>39690.0</td>
      <td>0.25</td>
      <td>Yes</td>
      <td>Physical ed</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Alicia</td>
      <td>Keys</td>
      <td>Teacher</td>
      <td>Music</td>
      <td>37118.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>Instr. music</td>
      <td>Vocal music</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ada</td>
      <td>Lovelace</td>
      <td>Teacher</td>
      <td>NaN</td>
      <td>27515.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>PENDING</td>
      <td>Computers</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Desus</td>
      <td>Nice</td>
      <td>Administration</td>
      <td>Dean</td>
      <td>41431.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>PENDING</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Note how now we have really nice column names! You might be wondering why I’m not modifying the two certifiation columns – that is the next thing we’ll tackle.</p>
</section>
<section id="Coalescing-Columns">
<h2>Coalescing Columns<a class="headerlink" href="#Coalescing-Columns" title="Permalink to this headline">¶</a></h2>
<p>If we look more closely at the two <code class="docutils literal notranslate"><span class="pre">certification</span></code> columns, we’ll see that they look like this:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_clean</span><span class="p">[[</span><span class="s1">&#39;certification&#39;</span><span class="p">,</span> <span class="s1">&#39;certification_1&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>certification</th>
      <th>certification_1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Physical ed</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Physical ed</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Instr. music</td>
      <td>Vocal music</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PENDING</td>
      <td>Computers</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PENDING</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Science 6-12</td>
      <td>Physics</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Science 6-12</td>
      <td>Physics</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>English 6-12</td>
    </tr>
    <tr>
      <th>8</th>
      <td>PENDING</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Physical ed</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10</th>
      <td>NaN</td>
      <td>Political sci.</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Vocal music</td>
      <td>English</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Rows 8 and 11 have NaN in the left certification column, but have a value in the right certification column. Let’s assume for a moment that the left certification column is intended to record the first certification that a teacher had obtained. In this case, the values in the right certification column on rows 8 and 11 should be moved to the first column. Let’s do that with Janitor, using the <code class="docutils literal notranslate"><span class="pre">coalesce()</span></code> method, which does the following:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_clean</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span>
    <span class="o">.</span><span class="n">clean_names</span><span class="p">()</span>
    <span class="o">.</span><span class="n">remove_empty</span><span class="p">()</span>
    <span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s2">&quot;%_allocated&quot;</span><span class="p">,</span> <span class="s2">&quot;percent_allocated&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s2">&quot;full_time_&quot;</span><span class="p">,</span> <span class="s2">&quot;full_time&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">coalesce</span><span class="p">(</span>
        <span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;certification&#39;</span><span class="p">,</span> <span class="s1">&#39;certification_1&#39;</span><span class="p">],</span>
        <span class="n">new_column_name</span><span class="o">=</span><span class="s1">&#39;certification&#39;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">df_clean</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>employee_status</th>
      <th>subject</th>
      <th>hire_date</th>
      <th>percent_allocated</th>
      <th>full_time</th>
      <th>certification</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>PE</td>
      <td>39690.0</td>
      <td>0.75</td>
      <td>Yes</td>
      <td>Physical ed</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>Drafting</td>
      <td>39690.0</td>
      <td>0.25</td>
      <td>Yes</td>
      <td>Physical ed</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Alicia</td>
      <td>Keys</td>
      <td>Teacher</td>
      <td>Music</td>
      <td>37118.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>Instr. music</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ada</td>
      <td>Lovelace</td>
      <td>Teacher</td>
      <td>NaN</td>
      <td>27515.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>PENDING</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Desus</td>
      <td>Nice</td>
      <td>Administration</td>
      <td>Dean</td>
      <td>41431.0</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>PENDING</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Physics</td>
      <td>11037.0</td>
      <td>0.50</td>
      <td>Yes</td>
      <td>Science 6-12</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Chemistry</td>
      <td>11037.0</td>
      <td>0.50</td>
      <td>Yes</td>
      <td>Science 6-12</td>
    </tr>
    <tr>
      <th>7</th>
      <td>James</td>
      <td>Joyce</td>
      <td>Teacher</td>
      <td>English</td>
      <td>32994.0</td>
      <td>0.50</td>
      <td>No</td>
      <td>English 6-12</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Hedy</td>
      <td>Lamarr</td>
      <td>Teacher</td>
      <td>Science</td>
      <td>27919.0</td>
      <td>0.50</td>
      <td>No</td>
      <td>PENDING</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Carlos</td>
      <td>Boozer</td>
      <td>Coach</td>
      <td>Basketball</td>
      <td>42221.0</td>
      <td>NaN</td>
      <td>No</td>
      <td>Physical ed</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Young</td>
      <td>Boozer</td>
      <td>Coach</td>
      <td>NaN</td>
      <td>34700.0</td>
      <td>NaN</td>
      <td>No</td>
      <td>Political sci.</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Micheal</td>
      <td>Larsen</td>
      <td>Teacher</td>
      <td>English</td>
      <td>40071.0</td>
      <td>0.80</td>
      <td>No</td>
      <td>Vocal music</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Awesome stuff! Now we don’t have two columns of scattered data, we have one column of densely populated data.`</p>
</section>
<section id="Dealing-with-Excel-Dates">
<h2>Dealing with Excel Dates<a class="headerlink" href="#Dealing-with-Excel-Dates" title="Permalink to this headline">¶</a></h2>
<p>Finally, notice how the <code class="docutils literal notranslate"><span class="pre">hire_date</span></code> column isn’t date formatted. It’s got this weird Excel serialization. To clean up this data, we can use the :py:meth:<code class="docutils literal notranslate"><span class="pre">convert_excel_date</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df_clean</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span>
    <span class="o">.</span><span class="n">clean_names</span><span class="p">()</span>
    <span class="o">.</span><span class="n">remove_empty</span><span class="p">()</span>
    <span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s1">&#39;%_allocated&#39;</span><span class="p">,</span> <span class="s1">&#39;percent_allocated&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename_column</span><span class="p">(</span><span class="s1">&#39;full_time_&#39;</span><span class="p">,</span> <span class="s1">&#39;full_time&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">coalesce</span><span class="p">([</span><span class="s1">&#39;certification&#39;</span><span class="p">,</span> <span class="s1">&#39;certification_1&#39;</span><span class="p">],</span> <span class="s1">&#39;certification&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">convert_excel_date</span><span class="p">(</span><span class="s1">&#39;hire_date&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df_clean</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>employee_status</th>
      <th>subject</th>
      <th>hire_date</th>
      <th>percent_allocated</th>
      <th>full_time</th>
      <th>certification</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>PE</td>
      <td>2008-08-30</td>
      <td>0.75</td>
      <td>Yes</td>
      <td>Physical ed</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jason</td>
      <td>Bourne</td>
      <td>Teacher</td>
      <td>Drafting</td>
      <td>2008-08-30</td>
      <td>0.25</td>
      <td>Yes</td>
      <td>Physical ed</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Alicia</td>
      <td>Keys</td>
      <td>Teacher</td>
      <td>Music</td>
      <td>2001-08-15</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>Instr. music</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ada</td>
      <td>Lovelace</td>
      <td>Teacher</td>
      <td>NaN</td>
      <td>1975-05-01</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>PENDING</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Desus</td>
      <td>Nice</td>
      <td>Administration</td>
      <td>Dean</td>
      <td>2013-06-06</td>
      <td>1.00</td>
      <td>Yes</td>
      <td>PENDING</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Physics</td>
      <td>1930-03-20</td>
      <td>0.50</td>
      <td>Yes</td>
      <td>Science 6-12</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Chien-Shiung</td>
      <td>Wu</td>
      <td>Teacher</td>
      <td>Chemistry</td>
      <td>1930-03-20</td>
      <td>0.50</td>
      <td>Yes</td>
      <td>Science 6-12</td>
    </tr>
    <tr>
      <th>7</th>
      <td>James</td>
      <td>Joyce</td>
      <td>Teacher</td>
      <td>English</td>
      <td>1990-05-01</td>
      <td>0.50</td>
      <td>No</td>
      <td>English 6-12</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Hedy</td>
      <td>Lamarr</td>
      <td>Teacher</td>
      <td>Science</td>
      <td>1976-06-08</td>
      <td>0.50</td>
      <td>No</td>
      <td>PENDING</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Carlos</td>
      <td>Boozer</td>
      <td>Coach</td>
      <td>Basketball</td>
      <td>2015-08-05</td>
      <td>NaN</td>
      <td>No</td>
      <td>Physical ed</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Young</td>
      <td>Boozer</td>
      <td>Coach</td>
      <td>NaN</td>
      <td>1995-01-01</td>
      <td>NaN</td>
      <td>No</td>
      <td>Political sci.</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Micheal</td>
      <td>Larsen</td>
      <td>Teacher</td>
      <td>English</td>
      <td>2009-09-15</td>
      <td>0.80</td>
      <td>No</td>
      <td>Vocal music</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>We have a cleaned dataframe!</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo_title.svg" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../notebooks.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pyjanitor_intro.html">pyjanitor Usage Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pivoting%20Data%20from%20Wide%20to%20Long.html">Pivot_Longer : One function to cover transformations from wide to long form.</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="Row_to_Names.html">row_to_names : Elevates a row to be the column names of a DataFrame.</a></li>
<li class="toctree-l2"><a class="reference internal" href="anime.html">Processing Anime Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="bad_values.html">Replacing Bad Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="bird_call.html">Processing Bird Call Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="board_games.html">Processing Board Game Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Processing Dirty Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Background">Background</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Load-Packages">Load Packages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Load-Data">Load Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Cleaning-Column-Names">Cleaning Column Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Renaming-Individual-Columns">Renaming Individual Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Coalescing-Columns">Coalescing Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Dealing-with-Excel-Dates">Dealing with Excel Dates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expand_grid.html">Expand_grid : Create a dataframe from all combinations of inputs.</a></li>
<li class="toctree-l2"><a class="reference internal" href="french_trains.html">Processing French train data</a></li>
<li class="toctree-l2"><a class="reference internal" href="groupby_agg.html">Groupby_agg : Shortcut for assigning a groupby-transform to a new column.</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflating_converting_currency.html">Inflating and Converting Currency</a></li>
<li class="toctree-l2"><a class="reference internal" href="medium_franchise.html">Tidy Up Web-Scraped Media Franchise Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="normalize.html">Normalization and Standardization</a></li>
<li class="toctree-l2"><a class="reference internal" href="sort_naturally.html">Using <code class="docutils literal notranslate"><span class="pre">sort_naturally</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="teacher_pupil.html">Processing International Teacher Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="transform_column.html">Transforming columns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Contributors</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../notebooks.html">Examples</a><ul>
      <li>Previous: <a href="board_games.html" title="previous chapter">Processing Board Game Data</a></li>
      <li>Next: <a href="expand_grid.html" title="next chapter">Expand_grid : Create a dataframe from all combinations of inputs.</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, PyJanitor devs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/notebooks/dirty_data.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>